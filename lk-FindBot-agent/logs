DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%235%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:00:31 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 05:00:31 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%235%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:80> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.49 seconds
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:80> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.49 seconds
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:00:34 2024
INFO:root:Finished Interviewing #multi-cloud-stack
INFO:root:Sat Dec  7 05:00:34 2024
INFO:root:Finished Interviewing #multi-cloud-stack
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%235%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 05:00:35 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 05:00:35 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 05:00:35 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 05:00:35 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%235%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fb8f8785610>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fb8f88e3320>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%236%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:02:18 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 05:02:18 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%236%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:02:21 2024
INFO:root:Finished Interviewing #contextual-data
INFO:root:Sat Dec  7 05:02:21 2024
INFO:root:Finished Interviewing #contextual-data
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%236%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 05:02:21 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 05:02:21 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 05:02:21 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 05:02:21 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%236%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f8416fa95b0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f8416f0b020>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%237%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:02:54 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 05:02:54 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%237%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:02:56 2024
INFO:root:Finished Interviewing #ubiquitous-shell
INFO:root:Sat Dec  7 05:02:56 2024
INFO:root:Finished Interviewing #ubiquitous-shell
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%237%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%237%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f4a274c9f40>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f4a274239e0>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%238%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:05:06 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 05:05:06 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%238%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:80> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.03 seconds
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:80> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.03 seconds
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:05:08 2024
INFO:root:Finished Interviewing #holographic-syscall
INFO:root:Sat Dec  7 05:05:08 2024
INFO:root:Finished Interviewing #holographic-syscall
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%238%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 05:05:08 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 05:05:08 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 05:05:08 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 05:05:08 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%238%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7ff2057a1970>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7ff2058ffec0>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%239%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:05:32 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 05:05:32 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%239%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:80> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.05 seconds
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:80> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.05 seconds
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:05:33 2024
INFO:root:Finished Interviewing #hyper-bit
INFO:root:Sat Dec  7 05:05:33 2024
INFO:root:Finished Interviewing #hyper-bit
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%239%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 05:05:34 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 05:05:34 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%239%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
ERROR:livekit.plugins.openai.realtime:Error in _recv_task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 974, in _recv_task
    raise Exception("OpenAI S2S connection closed unexpectedly")
Exception: OpenAI S2S connection closed unexpectedly
ERROR:livekit.plugins.openai.realtime:Error in _recv_task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 974, in _recv_task
    raise Exception("OpenAI S2S connection closed unexpectedly")
Exception: OpenAI S2S connection closed unexpectedly
ERROR:livekit.plugins.openai.realtime:Error in _main_task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 1047, in _main_task
    await asyncio.gather(*tasks)
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 974, in _recv_task
    raise Exception("OpenAI S2S connection closed unexpectedly")
Exception: OpenAI S2S connection closed unexpectedly
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fc8a85c5400>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fc8a851be30>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2310%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:06:49 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 05:06:49 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2310%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:80> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.05 seconds
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:80> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.05 seconds
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:06:51 2024
INFO:root:Finished Interviewing #contextual-plugin
INFO:root:Sat Dec  7 05:06:51 2024
INFO:root:Finished Interviewing #contextual-plugin
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2310%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2310%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 05:06:52 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 05:06:52 2024
INFO:root:Query is begin generated.
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 05:06:54 2024
INFO:root:assistant: {"minimum_rent":0,"maximum_rent":3000,"minimum_bathrooms":1,"minimum_bedrooms":0,"neighborhoods":[{"name":"Tribeca"},{"name":"The Lower East Side"},{"name":"Chinatown"},{"name":"Kips Bay"},{"name":"The Financial District"},{"name":"Nolita"},{"name":"Soho"},{"name":"The West Village"}]}
INFO:root:Sat Dec  7 05:06:56 2024
INFO:root:Query Generated: 11 apartments found
INFO:root:Sat Dec  7 05:06:57 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 05:06:57 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 05:07:00 2024
INFO:root:2121591382 (73.0) - Benefits: ['Broker exclusive listing', 'Private laundry room', 'Fios available', 'Close to subway lines', 'Heart of Gramercy area'] | Drawbacks: ['High rent price', 'Small bedroom size', 'No high school ranking', 'Limited public school options', 'No fee may be unusual']
INFO:root:Sat Dec  7 05:07:04 2024
INFO:root:2119362766 (70.0) - Benefits: ['Newly renovated kitchen', 'Large closet space', 'Private courtyard access', 'In-building laundry', 'No fee rental'] | Drawbacks: ['Small studio space', 'High rent price', 'Low high school ranking', 'Limited public school options', 'No separate bedroom']
INFO:root:Sat Dec  7 05:07:10 2024
INFO:root:119918323 (76.0) - Benefits: ['Broker exclusive listing', 'Garden and skyline views', 'No broker fees', 'Large renovated studio', 'High-ranking nearby schools'] | Drawbacks: ['High rent price', 'Small studio layout', 'Limited middle school ranking', 'Co-op board approval needed', 'No separate bedroom']
INFO:root:Sat Dec  7 05:07:15 2024
INFO:root:2054524261 (68.0) - Benefits: ['Affordable rent price', 'Three bedrooms available', 'Flexible lease options', 'Furnished common areas', 'Close to local parks and restaurants'] | Drawbacks: ['Low school rankings', 'Shared bathroom', 'Requires paid Wi-Fi', 'Need to manage shared living', 'Basic amenities only']
INFO:root:Sat Dec  7 05:07:25 2024
INFO:root:2108105921 (75.0) - Benefits: ['Gigantic studio space', 'Skyline view available', 'Elevator building', 'Laundry in building', 'Prime location in Murray Hill'] | Drawbacks: ['High rent price', 'Limited high school ranking', 'No separate bedroom', 'Broker fees may apply', 'Wi-Fi available separately']
INFO:root:Sat Dec  7 05:07:31 2024
INFO:root:2113393220 (72.0) - Benefits: ['Large 1-bedroom space', 'Elevator building', 'Prime location near parks', 'Live-in super available', 'Pets allowed with approval'] | Drawbacks: ['High rent price', 'Limited high school options', 'No separate laundry in unit', 'Broker fee may apply', 'Small kitchen area']
INFO:root:Sat Dec  7 05:07:44 2024
INFO:root:2060598307 (74.0) - Benefits: ['King size bedroom', 'Heat and water included', 'Large living room space', "Proximity to Trader Joe's", 'High ceilings and hardwood floors'] | Drawbacks: ['High rent price', 'Limited high school options', 'Small kitchen layout', 'No in-unit laundry', 'Broker fees may apply']
INFO:root:Sat Dec  7 05:08:07 2024
INFO:root:72518330 (75.0) - Benefits: ['Huge 1 bedroom space', 'Eat-in kitchen with dishwasher', 'Abundant storage options', 'Well maintained building', 'Prime Gramercy location'] | Drawbacks: ['High rent price', 'Limited high school ranking', 'Broker fees may apply', 'No in-unit laundry', 'Furniture may not fit']
INFO:root:Sat Dec  7 05:08:22 2024
INFO:root:2108925684 (72.0) - Benefits: ['Fully furnished for flexibility', 'Two bathrooms available', 'Prime SoHo location', 'Close to multiple subway lines', 'High-definition cable TV included'] | Drawbacks: ['High rent price', 'Short-term lease only', 'Limited high school rankings', 'No kitchen appliances listed', 'Broker fees may apply']
INFO:root:Sat Dec  7 05:08:31 2024
INFO:root:2127596297 (74.0) - Benefits: ['King-size bedroom', 'Sun-drenched with large windows', 'Exposed brick charm', 'Stainless steel kitchen appliances', 'On-site laundry available'] | Drawbacks: ['High rent price', 'Limited high school options', 'Broker fees may apply', 'No dedicated parking', 'Photos are from a similar unit']
INFO:root:Sat Dec  7 05:08:40 2024
INFO:root:2116427488 (68.0) - Benefits: ['Affordable rent for three bedrooms', 'Flexible lease options', 'High-ranking nearby schools', 'Furnished common areas', 'Close to local parks and bars'] | Drawbacks: ['Shared bathroom', 'Low middle and high school rankings', 'Wi-Fi is an extra cost', 'Limited common area space', 'Basic amenities only']
INFO:root:Sat Dec  7 05:08:41 2024
INFO:root:COMPLETED: FindBot chose 119918323, 2108105921, 72518330, 2060598307, 2127596297
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2311%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:08:54 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 05:08:54 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2311%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:08:56 2024
INFO:root:Finished Interviewing #smart-terminal
INFO:root:Sat Dec  7 05:08:56 2024
INFO:root:Finished Interviewing #smart-terminal
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2311%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 05:08:57 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 05:08:57 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 05:08:57 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 05:08:57 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2311%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 05:08:57 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 05:08:57 2024
INFO:root:Query is begin generated.
INFO:root:Sat Dec  7 05:08:59 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Upper West Side"},{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"East Village"}]}
INFO:root:Sat Dec  7 05:09:00 2024
INFO:root:Query Generated: 13 apartments found
INFO:root:Sat Dec  7 05:09:01 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 05:09:01 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 05:09:05 2024
INFO:root:2120347822 (72.5) - Benefits: ['No broker fee', 'Ample natural light', 'Modern appliances', 'Vibrant neighborhood', 'Good public transportation'] | Drawbacks: ['Higher rent price', 'No outdoor space', 'Limited school rankings', 'Crowded area', 'Potential noise from street']
INFO:root:Sat Dec  7 05:09:09 2024
INFO:root:2054509049 (68.5) - Benefits: ['Affordable rent', 'Three bedrooms available', 'Flexible lease terms', 'Laundry in home', 'Furnished common areas'] | Drawbacks: ['Low school ratings', 'Shared bathroom', 'Potential noise from roommates', 'Limited amenities', 'Less desirable neighborhood']
INFO:root:Sat Dec  7 05:09:14 2024
INFO:root:2075309157 (75.0) - Benefits: ['Luxury finishes throughout', 'Spacious bedrooms', 'No broker fee', 'High ceilings', 'Modern appliances'] | Drawbacks: ['High rent price', 'No outdoor space', 'Ground floor unit', 'No pets allowed', 'Potential noise from street']
INFO:root:Sat Dec  7 05:09:26 2024
INFO:root:2108582687 (78.0) - Benefits: ['Full-sized bedrooms', '24/7 concierge service', 'On-site fitness center', 'Common courtyard', 'No broker fee'] | Drawbacks: ['Higher rent price', 'No pets allowed', 'Shared laundry facilities', 'Potential noise from neighbors', 'Limited school rankings']
INFO:root:Sat Dec  7 05:09:34 2024
INFO:root:2071122638 (65.0) - Benefits: ['Very affordable rent', 'Three bedrooms available', 'Flexible lease terms', 'Laundry in home', 'Furnished common areas'] | Drawbacks: ['Shared apartment living', 'Limited privacy', 'Low school rankings', 'Potential noise from roommates', 'Less desirable neighborhood']
INFO:root:Sat Dec  7 05:09:38 2024
INFO:root:ERROR: invalid image URL
INFO:root:Sat Dec  7 05:09:51 2024
INFO:root:2054524243 (66.0) - Benefits: ['Affordable rent', 'Full bedroom available', 'Flexible lease terms', 'Laundry in home', 'Furnished common areas'] | Drawbacks: ['Shared bathroom', 'Limited privacy', 'Low school ratings', 'Potential noise from roommates', 'Less desirable area']
INFO:root:Sat Dec  7 05:09:59 2024
INFO:root:2107204311 (72.0) - Benefits: ['Recently renovated', 'Sun-drenched apartment', 'Dishwasher included', 'Laundry in building', 'Prime East Village location'] | Drawbacks: ['High rent price', 'Low school rankings', 'Shared bathroom', 'Potential street noise', 'Broker fee applicable']
INFO:root:Sat Dec  7 05:10:09 2024
INFO:root:2054524112 (69.0) - Benefits: ['Very affordable rent', 'Flexible lease terms', 'Dishwasher included', 'Furnished common areas', 'Nearby parks and restaurants'] | Drawbacks: ['Shared bathroom', 'Limited privacy', 'Lower school rankings', 'Potential noise from roommates', 'Crowded area']
INFO:root:Sat Dec  7 05:10:19 2024
INFO:root:2067856540 (70.0) - Benefits: ['Affordable rent', 'Private bathrooms available', 'Dishwasher included', 'Furnished common areas', 'Laundry in home'] | Drawbacks: ['Shared apartment living', 'Low school ratings', 'Potential noise from roommates', 'Limited privacy', 'Requires a guarantor for lease']
INFO:root:Sat Dec  7 05:10:30 2024
INFO:root:2122153516 (73.0) - Benefits: ['Large loft-like layout', 'Dishwasher included', 'No broker fee', 'Prime East Village location', 'Nearby shopping amenities'] | Drawbacks: ['High rent price', 'Older building style', 'Potential street noise', 'Lower school rankings', 'Shared bathroom']
INFO:root:Sat Dec  7 05:10:41 2024
INFO:root:2116427488 (67.0) - Benefits: ['Very affordable rent', 'Flexible lease terms', 'Dishwasher included', 'Furnished common areas', 'High school rankings'] | Drawbacks: ['Shared bathroom', 'Limited privacy', 'Potential noise from roommates', 'Requires a guarantor', 'Older apartment layout']
INFO:root:Sat Dec  7 05:10:55 2024
INFO:root:2074484112 (74.0) - Benefits: ['Gut renovated', 'In-unit dishwasher', 'Heat included in rent', 'Nearby schools', 'Flexible lease start'] | Drawbacks: ['Broker fee applies', 'No elevator', 'Potential street noise', 'No dogs allowed', 'Shared bathroom']
INFO:root:Sat Dec  7 05:10:55 2024
INFO:root:COMPLETED: FindBot chose 2108582687, 2075309157, 2074484112, 2122153516, 2120347822
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2312%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:11:16 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 05:11:16 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2312%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 05:11:19 2024
INFO:root:Finished Interviewing #modular-interface
INFO:root:Sat Dec  7 05:11:19 2024
INFO:root:Finished Interviewing #modular-interface
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2312%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 05:11:19 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 05:11:19 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 05:11:19 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 05:11:19 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2312%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
INFO:root:Sat Dec  7 05:11:19 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 05:11:20 2024
INFO:root:Query is begin generated.
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: None
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 05:11:21 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":5000,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"SoHo"},{"name":"Upper West Side"},{"name":"East Village"}]}
INFO:root:Sat Dec  7 05:11:22 2024
INFO:root:Query Generated: 24 apartments found
INFO:root:Sat Dec  7 05:11:22 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 05:11:23 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 05:11:25 2024
INFO:root:2124688222 (68.0) - Benefits: ['Spacious living room', 'Large bedrooms', 'Proximity to restaurants', 'Nearby public transport', 'No fee listing'] | Drawbacks: ['High rental price', 'Broker exclusive listing', 'Limited bathroom size', 'Photos of similar unit', 'No outdoor space']
INFO:root:Sat Dec  7 05:11:30 2024
INFO:root:2117392054 (75.0) - Benefits: ['No fee listing', 'Negotiable price', 'Great location in Nolita', 'Spacious split bedrooms', 'Open kitchen with dishwasher'] | Drawbacks: ['Broker exclusive listing', 'Two flights of stairs', 'Limited school ranking', 'No pets allowed', 'Laundry mat across street']
INFO:root:Sat Dec  7 05:11:34 2024
INFO:root:2120347822 (78.0) - Benefits: ['Affordable rent', 'Modern appliances', 'Ample natural light', 'Cozy living space', 'No fee listing'] | Drawbacks: ['Broker exclusive listing', 'Limited school rankings', 'Potential street noise', 'No outdoor space', 'Shared laundry facility']
INFO:root:Sat Dec  7 05:11:39 2024
INFO:root:2075309157 (80.0) - Benefits: ['Recent total gut renovation', 'Luxury finishes throughout', 'Spacious bright bedrooms', 'No fee listing', 'Located on ground floor'] | Drawbacks: ['Broker exclusive listing', 'Higher price range', 'Limited nearby school rankings', 'Dogs not allowed', 'Potential street noise']
INFO:root:Sat Dec  7 05:11:45 2024
INFO:root:2108582687 (76.0) - Benefits: ['Great amenities included', 'True 2BR layout', 'Concierge and package service', 'Laundry in every building', 'Close to Lincoln Center'] | Drawbacks: ['Broker exclusive listing', 'Schools with mixed rankings', 'Potential noise from common areas', 'No dogs allowed', 'Higher price for location']
INFO:root:Sat Dec  7 05:11:51 2024
INFO:root:2062397614 (72.0) - Benefits: ['No fee listing', 'Close to Central Park', 'City view available', 'Heat and hot water included', 'Charming exposed brick'] | Drawbacks: ['High rental price', '4th floor walk-up', 'Limited school rankings', 'Broker exclusive listing', 'Potential street noise']
INFO:root:Sat Dec  7 05:11:57 2024
INFO:root:2124218889 (74.0) - Benefits: ['No fee listing', 'Flexible lease options', 'Fully furnished', 'On-site laundry facilities', 'Vibrant East Village location'] | Drawbacks: ['Broker exclusive listing', 'Potential nightlife noise', 'Higher rental price', 'Limited school rankings', 'Walk-up building']
INFO:root:Sat Dec  7 05:12:05 2024
INFO:root:2124790949 (69.0) - Benefits: ['Massive garden-facing unit', 'Modern luxury renovation', 'Skyline view available', 'Spacious living and dining area', 'Prominent East Village location'] | Drawbacks: ['High rental price', 'Broker fee required', 'Limited nearby school rankings', 'No in-unit laundry', 'Potential street noise']
INFO:root:Sat Dec  7 05:12:16 2024
INFO:root:2105597827 (76.0) - Benefits: ['Luxury amenities available', 'Modern kitchen with appliances', 'Rooftop with city views', 'No fee listing', 'Pet-friendly and share allowed'] | Drawbacks: ['High rental price', 'No closets in bedrooms', 'Broker exclusive listing', 'Mixed school rankings', 'Potential noise from urban setting']
INFO:root:Sat Dec  7 05:12:25 2024
INFO:root:2123736978 (73.0) - Benefits: ['In-unit washer/dryer', 'Modern granite kitchen', 'Marble bathroom finishes', 'Exposed brick charm', 'No fee listing'] | Drawbacks: ['High rental price', 'Limited school rankings', 'Broker exclusive listing', 'Potential noise from urban area', 'Smaller bedroom sizes']
INFO:root:Sat Dec  7 05:12:34 2024
INFO:root:2076957295 (75.0) - Benefits: ['In-unit washer and dryer', 'Close to Central Park', 'Pet-friendly', 'Natural sunlight throughout', 'No fee listing'] | Drawbacks: ['Limited nearby school rankings', 'Broker exclusive listing', 'Higher price for 3-bedroom', 'Potential street noise', 'Less modern finishes']
INFO:root:Sat Dec  7 05:12:56 2024
INFO:root:2125764754 (72.0) - Benefits: ['Large common area', 'Bonus room available', 'Heat and hot water included', 'Exposed brick details', 'No fee listing'] | Drawbacks: ['High rental price', 'Broker exclusive listing', 'No pets allowed', 'Limited nearby school rankings', 'Potential street noise']
INFO:root:Sat Dec  7 05:13:16 2024
INFO:root:2107204311 (70.0) - Benefits: ['Renovated and sun-drenched', 'In-unit dishwasher', 'Laundry in building', 'Great East Village location', 'Near subways and parks'] | Drawbacks: ['High rental price', 'Broker exclusive listing', 'Limited school rankings', 'Flexed bedrooms may be smaller', 'Broker fee applies']
INFO:root:Sat Dec  7 05:13:29 2024
INFO:root:2077005683 (77.0) - Benefits: ['In-unit washer/dryer', 'Floor-to-ceiling windows', '24-hour attended lobby', 'Access to garage parking', 'Rooftop terrace with BBQ'] | Drawbacks: ['High rental price', 'Broker exclusive listing', 'Room layout might be restrictive', 'Limited nearby school ranking', 'Potential noise from urban environment']
INFO:root:Sat Dec  7 05:13:43 2024
INFO:root:2118698501 (72.0) - Benefits: ['High ceilings', 'Ample closet space', 'Great natural light', 'Charming exposed brick', 'Prime East Village location'] | Drawbacks: ['Broker exclusive listing', 'Limited school rankings', 'Higher rental price', 'Smaller bedroom sizes', 'Potential street noise']
INFO:root:Sat Dec  7 05:13:57 2024
INFO:root:2111582220 (74.0) - Benefits: ['Private balcony', 'Gas and heat included', 'On-site laundry facilities', 'Access to private courtyard', 'No fee listing'] | Drawbacks: ['High rental price', 'Broker exclusive listing', 'Limited nearby school ranking', 'Potential street noise', 'Fewer amenities compared to others']
INFO:root:Sat Dec  7 05:14:11 2024
INFO:root:2115688655 (70.0) - Benefits: ['Updated and renovated', 'In-unit appliances including dishwasher', 'Heating and water included', 'Flexible living arrangements', 'Guarantors accepted'] | Drawbacks: ['Broker exclusive listing', 'Limited nearby school rankings', 'Smaller bedroom sizes', 'High rent for location', 'Potential urban noise']
INFO:root:Sat Dec  7 05:14:30 2024
INFO:root:2101737894 (71.0) - Benefits: ['No fee listing', 'Modern appliances', 'Central East Village location', 'Cozy living space', 'Soaking tub in bathroom'] | Drawbacks: ['Broker exclusive listing', 'Lower school rankings', 'High rental price', 'Limited closet space in bedrooms', 'Potential street noise']
INFO:root:Sat Dec  7 05:14:44 2024
INFO:root:2122153516 (73.0) - Benefits: ['Spacious loft-like layout', 'Restored pre-war charm', 'Windowed kitchen with dishwasher', 'Prime East Village location', 'No fee listing'] | Drawbacks: ['Broker exclusive listing', 'Higher rental price for size', 'Limited school rankings', 'Potential noise from urban area', 'Basic bathroom finishes']
INFO:root:Sat Dec  7 05:15:01 2024
INFO:root:2108321246 (68.0) - Benefits: ['Renovated kitchen with dishwasher', 'Good size living room', 'Central air conditioning', 'Proximity to subway', 'Spacious bedrooms with closets'] | Drawbacks: ['High rental price', 'Broker exclusive listing', 'Small bedroom sizes', 'Limited nearby school rankings', 'Potential urban noise']
INFO:root:Sat Dec  7 05:15:20 2024
INFO:root:2123664107 (76.0) - Benefits: ['Washer and dryer in unit', 'Queen-sized bedrooms with closets', 'Stainless steel appliances', 'Garden view', 'No fee listing'] | Drawbacks: ['High rental price', 'Broker exclusive listing', 'No bathtub available', 'Limited nearby school rankings', 'Potential street noise']
INFO:root:Sat Dec  7 05:15:40 2024
INFO:root:2125119458 (71.0) - Benefits: ['City view available', 'Convenient commuting options', 'Vibrant East Village location', 'Comfortable living space', 'Close to multiple subway lines'] | Drawbacks: ['Broker exclusive listing', 'Average school rankings', 'Higher rental price for location', 'Potential street noise', 'Basic kitchen finishes']
INFO:root:Sat Dec  7 05:15:59 2024
INFO:root:2061904067 (77.0) - Benefits: ['Fully renovated luxury finishes', 'In-unit washer and dryer', 'Access to large roof deck', 'Central air conditioning', 'Close to Tompkins Square Park'] | Drawbacks: ['High rental price', 'Broker exclusive listing', 'Limited nearby school rankings', 'Potential noise from urban area', 'Fewer amenities than larger buildings']
INFO:root:Sat Dec  7 05:16:15 2024
INFO:root:2074484112 (72.0) - Benefits: ['Gut renovated with new appliances', 'Heat and hot water included', 'True two-bedroom layout', 'Stainless steel appliances', 'Flexible lease start'] | Drawbacks: ['High rental price for size', 'No elevator (walk-up)', 'Broker fee applies', 'Limited nearby school rankings', 'No dogs allowed']
INFO:root:Sat Dec  7 05:16:16 2024
INFO:root:COMPLETED: FindBot chose 2075309157, 2120347822, 2077005683, 2061904067, 2108582687
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f1026f8ddc0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f102c01c620>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%230%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 06:46:36 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 06:46:36 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%230%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 06:46:40 2024
INFO:root:Finished Interviewing #decentralized-token
INFO:root:Sat Dec  7 06:46:40 2024
INFO:root:Finished Interviewing #decentralized-token
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%230%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 06:46:40 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 06:46:40 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 06:46:40 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 06:46:40 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%230%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 06:46:41 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 06:46:41 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 06:46:46 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":4000,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"Upper West Side"}]}
INFO:root:Sat Dec  7 06:46:47 2024
INFO:root:Query Generated: 10 apartments found
INFO:root:Sat Dec  7 06:46:48 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 06:46:48 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 06:46:52 2024
INFO:root:2120347822 (75.0) - Benefits: ['Modern design and finishes', 'Ample natural light', 'Convenient Manhattan location', 'Nearby cultural attractions', 'No broker fee'] | Drawbacks: ['Pricey for two bedrooms', 'Limited public school ratings', 'Higher traffic area', 'Potential noise from neighbors', 'Limited outdoor space']
INFO:root:Sat Dec  7 06:46:55 2024
INFO:root:2054509049 (70.0) - Benefits: ['Affordable rent for three bedrooms', 'Flexible lease options available', 'Furnished common areas', 'Nearby local parks and restaurants', 'Laundry in home'] | Drawbacks: ['Low school ranking for high school', 'Shared living space with roommates', 'Street parking permit needed', 'Potential noise from other tenants', 'Smaller bedrooms compared to others']
INFO:root:Sat Dec  7 06:47:01 2024
INFO:root:2108582687 (78.0) - Benefits: ['Full-sized bedrooms with closets', 'Excellent nearby school rankings', 'Modern amenities like fitness center', '24/7 concierge service', 'No broker fee required'] | Drawbacks: ['Higher price for two bedrooms', 'Limited outdoor space', 'No pets allowed', 'Potential noise from courtyard', 'High tenant turnover rate']
INFO:root:Sat Dec  7 06:47:07 2024
INFO:root:2062397614 (72.0) - Benefits: ['Close to Central Park', 'Includes heat and hot water', 'Pet-friendly environment', 'Charming historic townhouse', 'City views from apartment'] | Drawbacks: ['High rent for two bedrooms', '4th floor walk-up', 'Limited school ratings', 'Potential noise from nearby streets', 'Smaller bedrooms than average']
INFO:root:Sat Dec  7 06:47:13 2024
INFO:root:2071122638 (68.0) - Benefits: ['Very affordable for three bedrooms', 'Flexible lease options available', 'Laundry in home included', 'Furnished common areas', 'Nearby parks and restaurants'] | Drawbacks: ['Shared living space with roommates', 'Lower school rankings for high school', 'Limited privacy in bedrooms', 'Potential noise from other tenants', 'Less spacious than typical apartments']
INFO:root:Sat Dec  7 06:47:20 2024
INFO:root:2076957295 (76.0) - Benefits: ['Washer and dryer in unit', 'Stainless steel appliances', 'Close to Central Park', 'High ceilings and natural light', 'Pets are welcome'] | Drawbacks: ['Moderate school rankings', 'Higher price for three bedrooms', 'Noise from nearby roads', 'Limited outdoor space', 'Broker fee required']
INFO:root:Sat Dec  7 06:47:27 2024
INFO:root:2054524243 (65.0) - Benefits: ['Affordable rent for two bedrooms', 'Modern kitchen with appliances', 'Laundry in home included', 'Flexible lease terms available', 'Nearby parks and restaurants'] | Drawbacks: ['Low high school rating', 'Shared living space', 'Limited privacy in bedrooms', 'Potential noise from other tenants', 'Less spacious compared to standalone apartments']
INFO:root:Sat Dec  7 06:47:37 2024
INFO:root:2054524112 (67.0) - Benefits: ['Very affordable for three bedrooms', 'High school ranking is good', 'Flexible lease options available', 'Modern kitchen appliances', "Located in vibrant Hell's Kitchen"] | Drawbacks: ['Shared living space with roommates', 'Lower rankings for primary and middle schools', 'Limited privacy in bedrooms', 'Potential noise from city', 'Less spacious than standalone units']
INFO:root:Sat Dec  7 06:47:46 2024
INFO:root:2067856540 (70.0) - Benefits: ['Affordable rent for three bedrooms', 'Two bathrooms for convenience', 'Modern kitchen and appliances', 'Laundry in home included', 'Nearby parks and dining options'] | Drawbacks: ['Lower school rankings overall', 'Shared living space', 'Potential noise from other tenants', 'Limited privacy in bedrooms', 'Less spacious compared to standalone apartments']
INFO:root:Sat Dec  7 06:47:56 2024
INFO:root:2074484112 (74.0) - Benefits: ['Recently renovated with new appliances', 'Includes heat and hot water', 'True bedrooms with good space', 'Convenient location near amenities', 'Cats allowed, no dogs'] | Drawbacks: ['Higher rent for two bedrooms', 'No elevator, walk-up', 'Broker fee applies', 'Limited school rankings', 'Potential noise from street']
INFO:root:Sat Dec  7 06:47:56 2024
INFO:root:COMPLETED: FindBot chose 2108582687, 2076957295, 2120347822, 2074484112, 2062397614
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%231%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 06:48:42 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 06:48:42 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%231%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 06:48:45 2024
INFO:root:Finished Interviewing #interoperable-grid
INFO:root:Sat Dec  7 06:48:45 2024
INFO:root:Finished Interviewing #interoperable-grid
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%231%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 06:48:45 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 06:48:45 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 06:48:45 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 06:48:45 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%231%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 06:48:45 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 06:48:46 2024
INFO:root:Query is begin generated.
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 06:48:47 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":4500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"The Financial District"},{"name":"Chinatown"}]}
INFO:root:Sat Dec  7 06:48:48 2024
INFO:root:Query Generated: 13 apartments found
INFO:root:Sat Dec  7 06:48:48 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 06:48:48 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 06:48:52 2024
INFO:root:109168447 (72.5) - Benefits: ['Prime West Village location', 'Spacious loft-style layout', 'Abundant natural light', 'Gourmet kitchen', 'Historic building charm'] | Drawbacks: ['No pets allowed', 'High rent at $3950', 'Limited public school options', 'Floor plan lacks privacy', 'May feel cramped for some']
INFO:root:Sat Dec  7 06:48:57 2024
INFO:root:2116274569 (75.0) - Benefits: ['Waterfront location', 'Access to valet parking', 'Updated unit with hardwood floors', 'No amenity or pet fees', 'Nearby high-ranked schools'] | Drawbacks: ['High rent at $4250', 'Limited room in bedroom', 'May feel less spacious', 'Surrounding area may be busy', 'Converted office building vibe']
INFO:root:Sat Dec  7 06:49:05 2024
INFO:root:2103407621 (68.0) - Benefits: ['No fee apartment', 'Bright and spacious layout', 'Hardwood flooring throughout', 'Close to public transportation', 'Laundry facilities in building'] | Drawbacks: ['Nearby schools have average ratings', 'Higher rent for Chelsea area', 'May feel less luxurious', 'Limited storage options', 'Street noise in urban setting']
INFO:root:Sat Dec  7 06:49:12 2024
INFO:root:2114501637 (72.0) - Benefits: ['Affordable rent at $2500', 'Spacious queen-sized bedroom', 'Large windows for natural light', 'Exposed brick wall charm', 'Close to Times Square'] | Drawbacks: ['No fee mentioned', 'Basic kitchen finishes', 'Nearby schools have mixed rankings', 'Potential noise from city', 'Older building may need updates']
INFO:root:Sat Dec  7 06:49:24 2024
INFO:root:2125515358 (76.0) - Benefits: ['Waterfront view', 'Access to garage parking', 'Updated unit with hardwood floors', 'No pet or amenity fees', 'Close to high-ranked schools'] | Drawbacks: ['High rent at $4250', 'Limited privacy for bedroom', 'High-rise living may feel crowded', 'Potential noise from the area', 'Converted office building atmosphere']
INFO:root:Sat Dec  7 06:49:32 2024
INFO:root:2092869878 (78.0) - Benefits: ['Breathtaking waterfront and city views', 'Multiple closets for storage', 'Updated kitchen and appliances', 'Access to garage and valet parking', 'High-ranking nearby schools'] | Drawbacks: ['High rent at $4465', 'Potential for noise in urban area', 'Limited middle school ratings', 'May feel isolated from city life', 'Valet parking can be inconvenient']
INFO:root:Sat Dec  7 06:49:41 2024
INFO:root:2115487014 (70.0) - Benefits: ["No broker's fee", 'Spacious bedrooms', 'Prime Lower East Side location', 'Stainless steel appliances', 'Close to public transportation'] | Drawbacks: ['Mixed school rankings', 'Limited storage space', 'Potential noise from the street', 'Small kitchen area', 'Cluttered living space in photos']
INFO:root:Sat Dec  7 06:49:52 2024
INFO:root:2068749157 (77.0) - Benefits: ['Breathtaking waterfront view', 'Ample storage space', 'Modern kitchen with quartz countertops', 'Access to garage and valet parking', 'High-ranking nearby schools'] | Drawbacks: ['High rent at $4491', 'Limited middle school ratings', 'Potential for noise in urban area', 'High-rise living may feel isolating', 'Valet parking can be inconvenient']
INFO:root:Sat Dec  7 06:50:06 2024
INFO:root:2126023203 (73.0) - Benefits: ["No broker's fee", 'Generous storage space', 'Bright and spacious living area', 'Modern kitchen with appliances', 'Prime subway access nearby'] | Drawbacks: ['High rent at $4000', 'Mixed school ratings', 'Potential street noise', 'Limited outdoor space', 'Photos not of actual unit']
INFO:root:Sat Dec  7 06:50:18 2024
INFO:root:2105229208 (78.0) - Benefits: ['Waterfront view', 'Ample storage space', 'Modern kitchen with quartz countertops', 'Access to garage and valet parking', 'High-ranking nearby schools'] | Drawbacks: ['High rent at $4460', 'Limited middle school ratings', 'Potential for noise in urban area', 'High-rise living may feel isolating', 'Valet parking can be inconvenient']
INFO:root:Sat Dec  7 06:50:36 2024
INFO:root:89330009 (75.0) - Benefits: ['No broker fee', 'Spacious with high ceilings', 'Ample closet space', 'Rich building amenities', 'Prime Financial District location'] | Drawbacks: ['High rent at $4298', 'No dogs allowed', 'Mixed school rankings', 'Potential noise from urban area', 'Conversion options might be limited']
INFO:root:Sat Dec  7 06:50:52 2024
INFO:root:2117905556 (76.0) - Benefits: ['No broker fee', 'In-unit washer/dryer', 'Walk-in closet', 'High-quality building amenities', 'Nearby high-ranking schools'] | Drawbacks: ['High rent at $4500', 'No pets allowed', 'Limited outdoor space', 'City views may lack privacy', 'Valet parking added cost']
INFO:root:Sat Dec  7 06:51:05 2024
INFO:root:2127596297 (71.0) - Benefits: ['Affordable rent at $2875', 'King-size bedroom', 'Sun-drenched with oversized windows', 'Exposed brick charm', 'Proximity to SoHo and transportation'] | Drawbacks: ['Mixed school ratings', 'Limited storage in kitchen', 'Older building may need updates', 'Photos not of the actual unit', 'Potential street noise']
INFO:root:Sat Dec  7 06:51:06 2024
INFO:root:COMPLETED: FindBot chose 2092869878, 2105229208, 2068749157, 2125515358, 2117905556
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%232%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:05:09 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:05:09 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%232%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:05:12 2024
INFO:root:Finished Interviewing #ultra-thread
INFO:root:Sat Dec  7 08:05:12 2024
INFO:root:Finished Interviewing #ultra-thread
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%232%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:05:13 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:05:13 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:05:13 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:05:13 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%232%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:05:13 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:05:13 2024
INFO:root:Query is begin generated.
INFO:root:Sat Dec  7 08:05:15 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Greenwich Village"},{"name":"Upper East Side"},{"name":"Lower East Side"},{"name":"Harlem"},{"name":"Midtown"},{"name":"Battery Park City"}]}
INFO:root:Sat Dec  7 08:05:17 2024
INFO:root:Query Generated: 90 apartments found
INFO:root:Sat Dec  7 08:05:17 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:05:18 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:05:21 2024
INFO:root:2102176481 (76.0) - Benefits: ["Great location in Hell's Kitchen", 'Two bedrooms for space', 'No broker fee', 'Heating and hot water included', 'Close to public transport'] | Drawbacks: ['High rent price', 'Laundry not in apartment', 'Small living space', 'Limited storage options', 'Basic school rankings']
INFO:root:Sat Dec  7 08:05:24 2024
INFO:root:2099617984 (82.0) - Benefits: ['Recently renovated and spacious', 'Ample closet space', 'High ceilings for openness', 'Close to public transport', 'Affordable rent for location'] | Drawbacks: ['Only one bedroom available', 'Basic school rankings', 'Broker fee included', 'No laundry in unit', 'Illustrative photos, not exact']
INFO:root:Sat Dec  7 08:05:29 2024
INFO:root:97852527 (74.0) - Benefits: ['Spacious two-bedroom apartment', 'Recently renovated with modern finishes', 'No broker fee requirement', 'Laundry room in the building', 'Close to public transport options'] | Drawbacks: ['High rent price', 'Mixed school rankings', 'Application and interview process', 'Bicycle storage may be limited', 'Potential noise from Broadway']
INFO:root:Sat Dec  7 08:05:33 2024
INFO:root:2070932276 (78.0) - Benefits: ['Newly renovated with modern features', 'Two bedrooms for ample space', 'Great local school rankings', 'Close to subway station', 'Garden view enhances privacy'] | Drawbacks: ['High rent price', 'Broker fee included', 'Only one bathroom', 'Limited storage space', 'Potential noise from surroundings']
INFO:root:Sat Dec  7 08:05:38 2024
INFO:root:31547481 (80.0) - Benefits: ['Large private patio and backyard', 'Washer and dryer in apartment', 'No broker fee required', 'Close to multiple subway lines', 'Abundant natural light and high ceilings'] | Drawbacks: ['Moderate school rankings', 'Garden view might have privacy issues', 'High rent price', 'Potential noise from outdoor space', 'Requires good credit and references']
INFO:root:Sat Dec  7 08:05:43 2024
INFO:root:2114589240 (77.0) - Benefits: ['Cozy and fully furnished', 'In-apartment laundry facilities', 'Great location in East Village', 'High school ranking is decent', 'Flexible lease options available'] | Drawbacks: ['High rent for one bedroom', 'Broker fee may apply', 'Walk-up building without elevator', 'Variable pricing based on stay', 'Limited storage space']
INFO:root:Sat Dec  7 08:05:49 2024
INFO:root:2063295259 (79.0) - Benefits: ['Recently renovated with modern features', 'Stunning skyline view', 'Two closets in bedroom', 'High ceilings and hardwood floors', 'No broker fee required'] | Drawbacks: ['High rent price', 'Only one bedroom available', 'Tenant occupied, need scheduling', 'Limited storage beyond closets', 'Street noise possible from skyline view']
INFO:root:Sat Dec  7 08:06:03 2024
INFO:root:2127042743 (75.0) - Benefits: ['Spacious 1300SF layout', 'No broker fee required', 'Pets are welcome', 'Bright natural light indoors', 'Close to public transportation'] | Drawbacks: ['High rental price', 'Mixed school rankings', 'Potential noise from Broadway', 'Transportation may be crowded', 'Limited closet space']
INFO:root:Sat Dec  7 08:06:11 2024
INFO:root:2121591382 (76.0) - Benefits: ['Located in Gramercy area', 'Private laundry room', 'Close to public transport', 'No broker fee required', 'Good school rankings'] | Drawbacks: ['High rent price for size', 'Limited kitchen space', 'One bedroom only', 'Potential noise from surroundings', 'Basic school ranking for high school']
INFO:root:Sat Dec  7 08:06:18 2024
INFO:root:2078845061 (79.0) - Benefits: ['Affordable rent for location', 'Utilities included in rent', 'Hardwood floors throughout', 'Skyline view enhances ambiance', 'Flexible start date available'] | Drawbacks: ['Basic school rankings', 'One bedroom limits space', 'No pets allowed', 'Limited storage options', 'Condition of the building not specified']
INFO:root:Sat Dec  7 08:06:28 2024
INFO:root:2111068098 (76.0) - Benefits: ['Great location near Central Park', 'High school ranked 10', 'Private outdoor space available', 'Hardwood floors and exposed brick', 'Ample closet space in bedrooms'] | Drawbacks: ['High rent price', 'Broker fee may apply', 'Photos of kitchen/bathroom not exact', 'Limited storage for larger items', 'Potential noise from outdoor area']
INFO:root:Sat Dec  7 08:06:43 2024
INFO:root:2113851994 (77.0) - Benefits: ['Prime East Village location', 'Access to a shared roof deck', 'No broker fee required', 'Ample closet space', 'Stainless steel appliances'] | Drawbacks: ['High rent price', 'Occupied until 11/30', 'Potential noise from street', 'Limited storage space', 'Mix of school rankings']
INFO:root:Sat Dec  7 08:06:54 2024
INFO:root:2094388869 (80.0) - Benefits: ['Private garden space available', 'Two full bathrooms for convenience', 'Laundry in the building', 'Heat and hot water included', 'Renovated duplex in prewar style'] | Drawbacks: ['Moderate school rankings', 'High rent for size', 'Potential noise from courtyard', 'Broker fee may apply', 'Limited natural light']
INFO:root:Sat Dec  7 08:07:06 2024
INFO:root:2124594032 (78.0) - Benefits: ['Beautiful city view', 'Renovated kitchen with custom cabinetry', 'Multiple large closets', 'No broker fee required', 'Pet friendly options'] | Drawbacks: ['High rent price', 'Single bedroom limits space', 'Only one bathroom', 'Limited storage in kitchen', 'Potential street noise']
INFO:root:Sat Dec  7 08:07:18 2024
INFO:root:2090018903 (72.0) - Benefits: ['Affordable rent for four bedrooms', 'Flexible lease options available', 'Laundry in home', 'Furnished common areas', 'Close to parks, restaurants, and bars'] | Drawbacks: ['Lower school rankings', 'Shared bathrooms may be inconvenient', 'Potential for noise in a shared unit', 'Single small room limits space', 'High turnover possible in shared apartment']
INFO:root:Sat Dec  7 08:07:29 2024
INFO:root:2094722033 (79.0) - Benefits: ['Brand new renovations', 'In-unit washer/dryer', 'Prime Upper East Side location', 'No broker fee required', 'Good school rankings'] | Drawbacks: ['High rent price', 'Limited living space', 'Only one bedroom available', 'May have noise from street', 'Electricity not included in rent']
INFO:root:Sat Dec  7 08:07:41 2024
INFO:root:2054524261 (70.0) - Benefits: ['Affordable rent for three bedrooms', 'Flexible lease options available', 'Furnished common areas', 'Access to nearby parks and restaurants', 'Laundry available in building'] | Drawbacks: ['Moderate school rankings', 'Shared bathroom can be inconvenient', 'Potential noise in a shared environment', 'Limited living space', 'High turnover expected in shared apartments']
INFO:root:Sat Dec  7 08:07:54 2024
INFO:root:2059968740 (73.0) - Benefits: ['Rent stabilized unit', 'Pet friendly with no fees', 'Stainless steel appliances', 'Good natural light', 'Close to transportation'] | Drawbacks: ['Low school rankings', 'Only one bedroom available', '4th floor walk-up', 'Limited visual appeal in photos', 'Broker fee applies']
INFO:root:Sat Dec  7 08:08:06 2024
INFO:root:2105223262 (75.0) - Benefits: ['Spacious living room', 'Large closets for storage', 'High ceilings create openness', 'Good school rankings nearby', 'Effective location in Upper East Side'] | Drawbacks: ['Moderate rent price', 'Lack of detailed listings/photos', 'Broker fee applies', 'Only one bedroom available', 'Limited amenities described']
INFO:root:Sat Dec  7 08:08:20 2024
INFO:root:244842522 (77.0) - Benefits: ['Renovated with modern finishes', 'Spacious living room', 'Hardwood flooring throughout', 'Close to parks and restaurants', 'Pets allowed, guarantors welcome'] | Drawbacks: ['Moderate school rankings', 'Broker fee may apply', 'Only one bedroom available', 'Small kitchen space', 'Potential noise from neighbors']
INFO:root:Sat Dec  7 08:08:35 2024
INFO:root:2116739785 (74.0) - Benefits: ['High school ranked 7', 'Ample storage space', 'Granite countertops in kitchen', 'Quiet tree-lined block', 'Close to shopping and amenities'] | Drawbacks: ['Broker fee may apply', 'Moderate rent price', 'Only one bedroom available', 'Limited natural light in photos', 'Older building aesthetic']
INFO:root:Sat Dec  7 08:08:51 2024
INFO:root:2129681680 (80.0) - Benefits: ['In-unit washer and dryer', 'Gut renovated with modern finishes', 'Stainless steel appliances', 'Good school rankings', 'No broker fee required'] | Drawbacks: ['High rent price', 'Only one bedroom available', 'Potential street noise from city view', 'Limited storage options', 'No detailed amenities listed']
INFO:root:Sat Dec  7 08:09:05 2024
INFO:root:2116983298 (76.0) - Benefits: ['Two spacious bedrooms', 'Dishwasher included', 'Close to good schools', 'Sun-drenched living areas', 'Modern kitchen amenities'] | Drawbacks: ['Moderate rent price', 'Broker fee may apply', 'Limited detailed description', 'Potential street noise', 'Basic school rankings']
INFO:root:Sat Dec  7 08:09:25 2024
INFO:root:439311299 (76.0) - Benefits: ['Renovated with modern finishes', 'Good closet space', 'Plenty of natural light', 'Convenient location in Upper East Side', 'Close to well-ranked schools'] | Drawbacks: ['Moderate rent price', 'No pets allowed', 'Broker fee may apply', 'Limited living space', 'Basic kitchen layout']
INFO:root:Sat Dec  7 08:09:42 2024
INFO:root:2077819500 (72.0) - Benefits: ['Affordable rent for two bedrooms', 'Flexible lease options available', 'Furnished common areas', 'Access to local parks and shops', 'High school ranked 8'] | Drawbacks: ['Low school ranking for high school', 'Shared bathroom could be inconvenient', 'Potential for noise in shared apartment', 'Limited living space', 'Basic kitchen layout']
INFO:root:Sat Dec  7 08:10:21 2024
INFO:root:2125096521 (79.0) - Benefits: ['Prime location near Central Park', 'Queen-sized bedroom with two closets', 'Brand new kitchen with stainless appliances', 'High school ranked 10', 'Spacious living area with decorative fireplace'] | Drawbacks: ['High rent price', 'Broker fee may apply', 'Potential noise from street', 'Basic school ranking for lower grades', 'Limited visual appeal in non-staged photos']
INFO:root:Sat Dec  7 08:10:39 2024
INFO:root:2126696964 (78.0) - Benefits: ['Gut renovated with modern finishes', 'Stainless steel appliances included', 'Good school ratings', 'Ample natural light', 'City view adds ambiance'] | Drawbacks: ['High rent price', 'Broker fee may apply', 'Limited storage space', 'Only one bedroom available', 'Potential street noise']
INFO:root:Sat Dec  7 08:10:58 2024
INFO:root:2107066486 (76.0) - Benefits: ['Spacious with lots of natural light', 'Two massive king-sized bedrooms', 'Great for roommates sharing', 'Convenient location near supermarkets', 'Close to public transport options'] | Drawbacks: ['High rent price', 'Only one bathroom available', 'Walk-up two flights of stairs', 'Basic school rankings for high school', 'Potential noise from street']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f706b702120>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f706b700b60>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%233%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:11:13 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:11:13 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%233%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:11:14 2024
INFO:root:Finished Interviewing #cognitive-bit
INFO:root:Sat Dec  7 08:11:14 2024
INFO:root:Finished Interviewing #cognitive-bit
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%233%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%233%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:11:14 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 08:11:14 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:11:15 2024
INFO:root:FAILED: 'coroutine' object has no attribute 'matches'
INFO:root:Sat Dec  7 08:11:16 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 45, in _select
    listings = await programmer.query(dataset)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/programmer.py", line 83, in query
    res = self.search_dataset(dataset, qry)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/programmer.py", line 74, in search_dataset
    return Listings([l for l in dataset.root if query.matches(l) ])
                                                ^^^^^^^^^^^^^
AttributeError: 'coroutine' object has no attribute 'matches'

INFO:root:Sat Dec  7 08:11:16 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:16 2024
INFO:root:2111574205 (79.0) - Benefits: ['King-sized bedroom', 'Lots of storage space', 'Pet friendly', 'No broker fee required', 'Live-in super and elevator'] | Drawbacks: ['High rent price', 'Basic renovations in common areas', 'Limited visual appeal in bathroom', 'Potential street noise', 'Only one bathroom available']
INFO:root:Sat Dec  7 08:11:17 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:17 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:17 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:18 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:18 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:19 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:19 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:19 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:20 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:20 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:20 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:21 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:21 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:21 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:22 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:22 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:23 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:23 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:23 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:24 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:24 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:24 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:25 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:25 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:26 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:26 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:26 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:11:27 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:11:36 2024
INFO:root:2084665069 (75.0) - Benefits: ['Over 900 sq. ft. of space', 'Utilities included in rent', 'Open-concept kitchen with ample cabinetry', 'Close to Marcus Garvey Park', 'Convenient access to amenities and transport'] | Drawbacks: ['Moderate school rankings', 'Only one bathroom available', 'Potential for street noise', 'Renovations might leave some feeling basic', 'Limited aesthetic appeal in photos']
INFO:root:Sat Dec  7 08:11:55 2024
INFO:root:2112857405 (78.0) - Benefits: ['Recently renovated with modern finishes', "Large open chef's kitchen", 'Ample closet space', 'Convenient Midtown West location', 'Sun-drenched and spacious rooms'] | Drawbacks: ['High rent price', 'Basic school rankings', 'No in-unit laundry', 'Potential noise from street', 'Broker fee may apply']
INFO:root:Sat Dec  7 08:12:19 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 38, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:12:20 2024
INFO:root:2119029879 (75.0) - Benefits: ['Two spacious bedrooms', 'Recently remodeled with hardwood floors', 'In-unit dishwasher', 'No broker fee required', 'Convenient location near transit'] | Drawbacks: ['Moderate school rankings', 'Only one bathroom', 'Basic bathroom aesthetics', 'Limited storage space', 'Potential noise from nearby traffic']
INFO:root:Sat Dec  7 08:12:49 2024
INFO:root:2097589739 (76.0) - Benefits: ['Three spacious bedrooms', 'In-unit washer/dryer', 'Modern kitchen with dishwasher', 'Natural light in living area', 'Pets allowed'] | Drawbacks: ['Low school rankings', 'Higher rent for the area', 'Potential noise in shared apartment', 'Limited aesthetic appeal in common areas', 'Broker fee may apply']
INFO:root:Sat Dec  7 08:13:55 2024
INFO:root:2111593777 (78.0) - Benefits: ['Private backyard space', 'Renovated with hardwood floors', 'Spacious living room and queen bedroom', 'Stainless steel appliances', 'No broker fee required'] | Drawbacks: ['Moderate school rankings', 'Higher rent price', 'Photos of similar apartments', 'Potential outdoor noise', 'Limited storage space']
INFO:root:Sat Dec  7 08:13:56 2024
INFO:root:FAILED: Error code: 400 - {'error': {'message': 'Too many images in request: 251, maximum allowed: 250.', 'type': 'invalid_request_error', 'param': None, 'code': None}}
INFO:root:Sat Dec  7 08:13:56 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 46, in _select
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 79, in rank_all
    rnk = await self.rank(listing)
          ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 61, in rank
    self.user(listing_message, noteworthy=False)
                                            ^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 59, in rank
    }
      
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/textagent.py", line 94, in generate_to_spec
    self.utter(message, noteworthy=noteworthy)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 427, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1839, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1533, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1634, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': 'Too many images in request: 251, maximum allowed: 250.', 'type': 'invalid_request_error', 'param': None, 'code': None}}

ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fb482ff1fa0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fb482ff1820>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%234%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:16:40 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:16:40 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%234%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:16:42 2024
INFO:root:Finished Interviewing #wireless-instance
INFO:root:Sat Dec  7 08:16:42 2024
INFO:root:Finished Interviewing #wireless-instance
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%234%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:16:43 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:16:43 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:16:43 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:16:43 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%234%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:16:43 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 08:16:43 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:16:45 2024
INFO:root:assistant: {"minimum_rent":1200,"maximum_rent":4000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"The Financial District"},{"name":"Chinatown"}]}
INFO:root:Sat Dec  7 08:16:45 2024
INFO:root:Query Generated: 9 apartments found
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f49881e58b0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f49881e5190>
INFO:root:Sat Dec  7 08:16:45 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:16:46 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:16:49 2024
INFO:root:109168447 (72.5) - Benefits: ['Prime West Village location', 'Spacious loft-style layout', 'Abundant natural light', 'Gourmet kitchen', 'Elegant primary suite'] | Drawbacks: ['High rent price', 'No pets allowed', 'Limited bedroom privacy', 'Public school ratings vary', 'No outdoor space']
INFO:root:Sat Dec  7 08:16:53 2024
INFO:root:2054524261 (65.0) - Benefits: ['Affordable rent', 'Flexible lease options', 'Furnished common areas', 'Access to local amenities', 'Supportive rental service'] | Drawbacks: ['Shared living situation', 'Lower school rankings', 'Limited kitchen space', 'No in-unit laundry', 'Basic decor style']
INFO:root:Sat Dec  7 08:16:57 2024
INFO:root:2103407621 (73.0) - Benefits: ['Bright layout with hardwood flooring', 'High ceilings and natural light', 'Located in upscale Chelsea', 'Convenient laundry room', 'Close to multiple subway lines'] | Drawbacks: ['High rent price', 'Average school ratings', 'No outdoor space', 'Limited storage options', 'Not a pet-friendly unit']
INFO:root:Sat Dec  7 08:17:02 2024
INFO:root:2054524243 (70.0) - Benefits: ['Affordable rent for two bedrooms', 'Flexible lease options', 'Free laundry in-home', 'Hardwood flooring throughout', 'Access to local amenities'] | Drawbacks: ['Shared living situation', 'Lower high school ranking', 'Basic kitchen design', 'Limited outdoor space', 'Furnishing preferences may vary']
INFO:root:Sat Dec  7 08:17:09 2024
INFO:root:2114501637 (74.0) - Benefits: ['Located in Hudson Yards', 'Spacious and bright layout', 'Large windows for natural light', 'Modern marble bathroom', 'Close to NYC attractions'] | Drawbacks: ['Moderate price for one bedroom', 'Basic kitchen design', 'Shared building amenities', 'Average school ratings', 'No outdoor space']
INFO:root:Sat Dec  7 08:17:15 2024
INFO:root:2115487014 (68.0) - Benefits: ["No broker's fee", 'High school ranking 10', 'Spacious bedrooms', 'Modern stainless steel appliances', 'Vibrant neighborhood with amenities'] | Drawbacks: ['High price point', 'School ratings lower for middle/high', 'Limited living space', 'Bathroom may feel small', 'Cluttered current appearance']
INFO:root:Sat Dec  7 08:17:22 2024
INFO:root:2126023203 (78.0) - Benefits: ['Newly renovated interior', 'Prime West Village location', 'Generous storage space', 'Modern kitchen appliances', 'On-site laundry and superintendent'] | Drawbacks: ['High rent price', 'Average school ratings', 'Limited outdoor space', 'Broker exclusive listing', 'No pets allowed']
INFO:root:Sat Dec  7 08:17:30 2024
INFO:root:2054524112 (68.0) - Benefits: ['Affordable rent for three bedrooms', 'Flexible lease options', 'Furnished common areas', 'Dishwasher and modern appliances', 'Central location near amenities'] | Drawbacks: ['Shared living situation', 'Average school ratings', 'Limited personal space', 'Possible noise from roommates', 'Wi-Fi paid separately']
INFO:root:Sat Dec  7 08:17:38 2024
INFO:root:2127596297 (75.0) - Benefits: ['Sun-drenched with oversized windows', 'King-size bedroom', 'Exposed brick for charm', 'Modern kitchen with stainless steel', 'Great location near SoHo'] | Drawbacks: ['Moderate rent price', 'Average school ratings', 'Broker exclusive listing', 'No outdoor space', 'Older building amenities']
INFO:root:Sat Dec  7 08:17:39 2024
INFO:root:COMPLETED: FindBot chose 2126023203, 2127596297, 2114501637, 2103407621, 109168447
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f4b3e0e5700>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f4b3e33dcd0>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%235%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:20:37 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:20:37 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%235%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:20:38 2024
INFO:root:Finished Interviewing #real-time-bit
INFO:root:Sat Dec  7 08:20:38 2024
INFO:root:Finished Interviewing #real-time-bit
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%235%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:20:38 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:20:38 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:20:38 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:20:38 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%235%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:20:39 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 08:20:39 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:20:40 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":null,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"The Financial District"},{"name":"Chinatown"}]}
INFO:root:Sat Dec  7 08:20:41 2024
INFO:root:Query Generated: 74 apartments found
INFO:root:Sat Dec  7 08:20:41 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:20:42 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:20:44 2024
INFO:root:2057438375 (75.0) - Benefits: ['High-end appliances', '24-hour doorman service', 'Rooftop access', 'Basketball court', 'Family-friendly amenities'] | Drawbacks: ['High price for rent', 'Only one bathroom', 'Limited nearby schools quality', 'Small bedrooms', 'Possible noise from city']
INFO:root:Sat Dec  7 08:20:49 2024
INFO:root:2069928019 (85.0) - Benefits: ['Stunning river and city views', 'Spacious with four bathrooms', 'Luxury amenities including spa', 'High ceilings and open layout', 'Prime location near High Line'] | Drawbacks: ['Very high rental price', 'Limited nearby school quality', 'Overwhelming living space for small families', 'Potential for high utility costs', 'Exclusive building may feel isolating']
INFO:root:Sat Dec  7 08:20:54 2024
INFO:root:2070899357 (70.0) - Benefits: ['Modern kitchen appliances', 'Concierge service', 'Rooftop terrace', 'Close to transportation', 'In-unit washer/dryer'] | Drawbacks: ['High rent for one bedroom', 'Limited school rankings nearby', 'Small living space', 'Only one bathroom', 'Potential noise from surroundings']
INFO:root:Sat Dec  7 08:21:00 2024
INFO:root:2125403755 (76.0) - Benefits: ['Luxury finishes and appliances', '24-hour doorman', 'Rooftop terrace with BBQ', 'Pet-friendly building', 'Recently renovated unit'] | Drawbacks: ['High rental price', 'Only one bedroom', 'Limited nearby school rankings', 'Small living space', 'Potential noise from neighbors']
INFO:root:Sat Dec  7 08:21:12 2024
INFO:root:2090367924 (80.0) - Benefits: ['Expansive private roof deck', 'Modern and elegant interiors', 'High ceilings and hardwood floors', 'In-unit washer and dryer', 'Prime location near Soho'] | Drawbacks: ['High rental price', 'Only two bathrooms for two bedrooms', 'Limited nearby school quality', 'Potential noise from busy area', 'Roof deck maintenance responsibility']
INFO:root:Sat Dec  7 08:21:20 2024
INFO:root:2057384613 (78.0) - Benefits: ['Stunning Hudson River views', 'Ample storage space', 'Two full bathrooms', 'Concierge service', 'Garage parking available'] | Drawbacks: ['High rental price', 'Only moderate school rankings', 'Possible noise from waterfront activities', 'Closed kitchen may limit space', 'Potential maintenance fees for amenities']
INFO:root:Sat Dec  7 08:21:32 2024
INFO:root:2096508988 (68.0) - Benefits: ['Affordable rent for 3 bedrooms', 'Modern appliances and counters', 'City view from the apartment', 'Elevator building', 'Shared rooftop access'] | Drawbacks: ['Only one bathroom', 'Limited nearby school quality', 'Tight living space', 'Potential noise from street', 'No dedicated parking options']
INFO:root:Sat Dec  7 08:21:40 2024
INFO:root:109168447 (74.0) - Benefits: ['Charming loft-style interior', 'High ceilings and exposed brick', 'Located in vibrant West Village', 'Large windows for natural light', 'Prime location near parks and transportation'] | Drawbacks: ['Only one bedroom', 'High rental price for one bedroom', 'No pets allowed', 'Limited nearby school options', 'Potential noise from street']
INFO:root:Sat Dec  7 08:21:49 2024
INFO:root:2118739082 (75.0) - Benefits: ['Modern, bright interior', 'Stunning city views', 'Concierge service', 'Access to rooftop deck', 'Nearby schools with good rankings'] | Drawbacks: ['High rent for one bedroom', 'Only one bathroom', 'Limited kitchen space', 'Potential street noise', 'Garage parking may incur fees']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f5a46aa9520>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f5a469dd7f0>
INFO:root:Sat Dec  7 08:22:00 2024
INFO:root:2112503161 (76.0) - Benefits: ['Luxury amenities including pool', 'Spacious and well-lit interior', '24-hour doorman service', 'In-unit washer/dryer', 'Good nearby schools'] | Drawbacks: ['High rental price', 'Only one bedroom', 'Limited kitchen space', 'Street noise potential', 'Garage parking may incur fees']
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%236%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:22:08 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:22:08 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%236%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:22:10 2024
INFO:root:Finished Interviewing #virtual-plugin
INFO:root:Sat Dec  7 08:22:10 2024
INFO:root:Finished Interviewing #virtual-plugin
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
INFO:root:Sat Dec  7 08:22:10 2024
INFO:root:2076926138 (82.0) - Benefits: ['Expansive design with bay windows', 'High-end kitchen and appliances', 'Access to extensive amenities', 'Partial Hudson River views', 'Nearby prestigious schools'] | Drawbacks: ['Very high rental price', 'Limited nearby school ratings', 'Only two bedrooms for large families', 'Potential noise from the neighborhood', 'Garage parking might incur extra fees']
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%236%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:22:10 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:22:10 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:22:10 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:22:10 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%236%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:22:11 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 08:22:11 2024
INFO:root:Query is begin generated.
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:22:12 2024
INFO:root:FAILED: 'coroutine' object has no attribute 'matches'
INFO:root:Sat Dec  7 08:22:12 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 43, in _async_select
    listings = await programmer.query(dataset)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/programmer.py", line 83, in query
    res = self.search_dataset(dataset, qry)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/programmer.py", line 74, in search_dataset
    return Listings([l for l in dataset.root if query.matches(l) ])
                                                ^^^^^^^^^^^^^
AttributeError: 'coroutine' object has no attribute 'matches'

INFO:root:Sat Dec  7 08:22:14 2024
INFO:root:ERROR: invalid image URL for listing 2120457830
INFO:root:Sat Dec  7 08:22:28 2024
INFO:root:80007866 (75.0) - Benefits: ['Stunning Hudson River views', 'Recently renovated interiors', 'Full service building', 'Includes spacious amenities', 'Good nearby school rankings'] | Drawbacks: ['Only one bedroom', 'High rent for the unit', 'Limited nearby school options', 'Furnished rental may have extra fees', 'No pets allowed']
INFO:root:Sat Dec  7 08:22:44 2024
INFO:root:338595009 (84.0) - Benefits: ['Stunning skyline views', 'High-end finishes and appliances', 'Extensive luxury amenities', 'Spacious layout with 3 bedrooms', 'Convenient location in Lower Manhattan'] | Drawbacks: ['Very high rental price', 'Limited nearby school ratings', 'Three bathrooms may be excessive', 'Potential for noise in the city', 'High maintenance costs for amenities']
INFO:root:Sat Dec  7 08:22:58 2024
INFO:root:2077846741 (72.0) - Benefits: ['Modern finishes and appliances', 'Stunning city and river views', 'Pet-friendly options available', 'Access to extensive amenities', 'No fee for renting'] | Drawbacks: ['High rent for one bedroom', 'Limited nearby school quality', 'Potential noise in busy area', 'Small living space', 'Only one bathroom']
INFO:root:Sat Dec  7 08:23:17 2024
INFO:root:2073099816 (70.0) - Benefits: ['Modern kitchen with appliances', 'In-unit washer/dryer', 'Generous closet space', 'Rooftop garden access', '24/7 concierge service'] | Drawbacks: ['Limited nearby school quality', 'Only one bedroom', 'Potential noise from city', 'Small living space', 'Higher rental price for location']
INFO:root:Sat Dec  7 08:23:38 2024
INFO:root:2096925094 (72.0) - Benefits: ['Fully furnished with amenities', 'Modern stainless steel kitchen', 'Flexible rental terms', 'Convenient Midtown West location', 'Roof deck with great views'] | Drawbacks: ['Only one bathroom', 'Limited nearby school quality', 'Potential noise from street', 'Smaller living space for two bedrooms', 'Higher rental price for furnished unit']
INFO:root:Sat Dec  7 08:23:58 2024
INFO:root:2088156602 (78.0) - Benefits: ['Luxury amenities including pool', 'Gas, water, and heating included', 'Pet-friendly with no fees', '24-hour doorman service', 'Close to subway access'] | Drawbacks: ['High rental price', 'Only moderate school rankings', 'Potential noise in busy area', 'Two bedrooms but only one bathroom', 'Photos may be of a model unit']
INFO:root:Sat Dec  7 08:24:17 2024
INFO:root:2054524261 (65.0) - Benefits: ['Very low rental price', 'Flexible lease options available', 'Furnished common areas', 'Wi-Fi access', 'Located in Chinatown with amenities'] | Drawbacks: ['Only one bathroom for three bedrooms', 'Limited nearby school quality', 'Potential for noise in urban area', 'Small bedroom size', 'Shared living space may be crowded']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f04a89f9400>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f04a8b8cb30>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%237%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:24:29 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:24:29 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%237%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:24:30 2024
INFO:root:Finished Interviewing #self-adaptive-syscall
INFO:root:Sat Dec  7 08:24:30 2024
INFO:root:Finished Interviewing #self-adaptive-syscall
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%237%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:24:31 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:24:31 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%237%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:24:31 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 08:24:31 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:24:32 2024
INFO:root:FAILED: 'coroutine' object has no attribute 'matches'
INFO:root:Sat Dec  7 08:24:32 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 44, in _async_select
    listings = await programmer.query(dataset)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/programmer.py", line 85, in query
    res = self.search_dataset(dataset, qry)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/programmer.py", line 75, in search_dataset
    return Listings([l for l in dataset.root if query.matches(l) ])
                                                ^^^^^^^^^^^^^
AttributeError: 'coroutine' object has no attribute 'matches'

INFO:root:Sat Dec  7 08:24:36 2024
INFO:root:2127598461 (80.0) - Benefits: ['Private terrace with views', 'High-end finishes and appliances', 'Luxury building amenities', 'In-unit washer/dryer', 'Situated in vibrant Flatiron District'] | Drawbacks: ['Very high rental price', 'Only one bathroom', 'Limited nearby school quality', 'Potential noise from city', 'May lack parking options']
INFO:root:Sat Dec  7 08:24:54 2024
INFO:root:219636729 (82.0) - Benefits: ['Stunning city views', 'High-end finishes throughout', 'Access to luxury amenities', 'Located in Four Seasons building', 'Good nearby school rankings'] | Drawbacks: ['Very high rental price', 'Only two bathrooms for two bedrooms', 'Possible noise from busy area', 'Limited community amenities outside building', 'Photos may not be of actual unit']
INFO:root:Sat Dec  7 08:25:19 2024
INFO:root:89331662 (81.0) - Benefits: ['Stunning penthouse with terrace', 'High-end finishes and appliances', 'Access to luxurious amenities', 'Great nearby school rankings', 'Convenient location near subway'] | Drawbacks: ['High rental price', 'Only two bathrooms for two bedrooms', 'Potential noise from city', 'Photos may not represent actual unit', 'High maintenance costs']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fed1bdeda60>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fed1bded460>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%238%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:25:46 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:25:46 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%238%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
INFO:root:Sat Dec  7 08:25:46 2024
INFO:root:2116343099 (79.0) - Benefits: ['Luxurious eco-friendly building', 'Great views and natural light', 'Excellent school rankings nearby', 'Access to extensive amenities', 'In-unit washer dryer'] | Drawbacks: ['Very high rental price', 'Potential noise from neighbors', 'Only two bathrooms', "Limited nearby schools' ratings", 'Parking may incur additional fees']
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:25:47 2024
INFO:root:Finished Interviewing #adaptive-syscall
INFO:root:Sat Dec  7 08:25:47 2024
INFO:root:Finished Interviewing #adaptive-syscall
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%238%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%238%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:25:47 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 08:25:48 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:25:50 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":4500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Upper East Side"},{"name":"Upper West Side"},{"name":"Midtown"}]}
INFO:root:Sat Dec  7 08:25:50 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:25:51 2024
INFO:root:assistant: {"minimum_rent":3000,"maximum_rent":4000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Upper West Side"},{"name":"Midtown"}]}
INFO:root:Sat Dec  7 08:25:52 2024
INFO:root:Query Generated: 56 apartments found
INFO:root:Sat Dec  7 08:25:52 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:25:53 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:25:55 2024
INFO:root:2102176481 (72.0) - Benefits: ['No broker fee', 'Heating included in rent', 'Proximity to Broadway theaters', 'Nearby restaurants and shops', 'Laundry on site'] | Drawbacks: ['Small bedrooms', 'Limited natural light', 'Higher than average rent', 'Only one bathroom', 'Split layout may feel cramped']
INFO:root:Sat Dec  7 08:25:59 2024
INFO:root:244754638 (78.0) - Benefits: ['Stunning city and river views', 'Full-service amenities building', 'Valet parking available', 'Rooftop garden and pool', 'Renovated bathroom'] | Drawbacks: ['Higher rental price', 'Only one bedroom', 'No dogs allowed', 'Smaller living space', 'Broker exclusive listing']
INFO:root:Sat Dec  7 08:26:03 2024
INFO:root:2126754626 (75.0) - Benefits: ['Large sunny windows', 'No broker fee', 'Close to subway lines', 'Renovated kitchen with dishwasher', 'Laundry in building'] | Drawbacks: ['Higher rental price', 'Only one bathroom', 'Broker exclusive listing', 'Part-time doorman service', 'Photos are of similar unit']
INFO:root:Sat Dec  7 08:26:08 2024
INFO:root:2094160151 (76.0) - Benefits: ['Loft-like spacious layout', 'Walk-in closet available', 'Convertible to 2 bedrooms', 'Furnished or unfurnished option', 'City view windows'] | Drawbacks: ['Higher rental price', 'Only one bathroom', 'Broker exclusive listing', 'Limited natural light in some areas', 'Floor-through may feel exposed']
INFO:root:Sat Dec  7 08:26:12 2024
INFO:root:2115877377 (74.0) - Benefits: ['Affordable for a luxury building', 'Excellent nearby school rankings', 'Large walk-in closet', 'Access to extensive amenities', 'Modern kitchen with stainless steel appliances'] | Drawbacks: ['Only one bathroom', 'Limited living area space', 'Potential noise from the city', 'Higher utility costs due to location', 'Parking may incur additional fees']
INFO:root:Sat Dec  7 08:26:14 2024
INFO:root:2114399838 (79.0) - Benefits: ['Park view windows', 'Full-time doorman service', 'Massive living area', 'Abundant closet space', 'Gym in the building'] | Drawbacks: ['Higher rental price', 'Broker exclusive listing', 'Laundry not in unit', 'Pets case-by-case', 'Elementary school ranking 6']
INFO:root:Sat Dec  7 08:26:19 2024
INFO:root:109168447 (77.0) - Benefits: ['Charming West Village location', 'Spacious loft-style layout', 'Abundant natural light', 'Walk-in closet', 'Historic building character'] | Drawbacks: ['Higher rental price', 'No pets allowed', 'Broker exclusive listing', 'Middle school ranking 5', 'Limited storage for larger items']
INFO:root:Sat Dec  7 08:26:25 2024
INFO:root:2126897046 (74.0) - Benefits: ['In-unit laundry', 'Dishwasher included', 'Modern bathroom design', 'Spacious living room', 'Exposed brick for charm'] | Drawbacks: ['Higher rental price', 'Broker exclusive listing', 'No school ranking above 8', 'Limited photos available', 'Inquire for video']
INFO:root:Sat Dec  7 08:26:32 2024
INFO:root:2089611427 (74.0) - Benefits: ['Large living room', 'Working marble fireplace', 'Private garden view', 'Full-service doorman building', 'Pet friendly'] | Drawbacks: ['Higher rental price', 'Low school rankings', 'Broker exclusive listing', 'Limited fitness amenities', 'Potentially limited natural light']
INFO:root:Sat Dec  7 08:26:38 2024
INFO:root:2116274569 (74.0) - Benefits: ['Affordable rent for a 1BR', 'Nearby schools have good rankings', '24-hour concierge service', 'Amenities without extra fees', 'Access to waterfront views'] | Drawbacks: ['Only one bathroom', 'Potential noise from city', 'Limited nearby school quality', 'Small living space', 'Photos may not represent actual unit']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fe9f79d1a00>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fe9f85998e0>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%239%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:26:54 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:26:54 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%239%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:26:56 2024
INFO:root:Finished Interviewing #responsive-topology
INFO:root:Sat Dec  7 08:26:56 2024
INFO:root:Finished Interviewing #responsive-topology
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%239%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:26:56 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:26:56 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:26:56 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:26:56 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%239%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
ERROR:livekit.plugins.openai.realtime:Error in _recv_task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 974, in _recv_task
    raise Exception("OpenAI S2S connection closed unexpectedly")
Exception: OpenAI S2S connection closed unexpectedly
ERROR:livekit.plugins.openai.realtime:Error in _recv_task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 974, in _recv_task
    raise Exception("OpenAI S2S connection closed unexpectedly")
Exception: OpenAI S2S connection closed unexpectedly
ERROR:livekit.plugins.openai.realtime:Error in _main_task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 1047, in _main_task
    await asyncio.gather(*tasks)
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 974, in _recv_task
    raise Exception("OpenAI S2S connection closed unexpectedly")
Exception: OpenAI S2S connection closed unexpectedly
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:27:03 2024
INFO:root:79496370 (79.0) - Benefits: ['Luxurious historic building', 'Flexible layout for multiple uses', 'Soaring ceilings and large windows', 'Great school rankings nearby', 'Access to top-notch amenities'] | Drawbacks: ['High rental price', 'Only two bathrooms for two bedrooms', 'Potential noise from urban setting', 'Furnished rental may include higher costs', 'Limited local amenities outside the building']
INFO:root:Sat Dec  7 08:27:03 2024
INFO:root:FAILED: Error code: 400 - {'error': {'message': 'Too many images in request: 251, maximum allowed: 250.', 'type': 'invalid_request_error', 'param': None, 'code': None}}
INFO:root:Sat Dec  7 08:27:04 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 46, in _select
    ranked = await ranker.rank_all(listings)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 79, in rank_all
    rnk = await self.rank(listing)
          ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 61, in rank
    self.user(listing_message, noteworthy=False)
                                            ^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 59, in rank
    }
      
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/textagent.py", line 94, in generate_to_spec
    self.utter(message, noteworthy=noteworthy)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 427, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1839, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1533, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1634, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': 'Too many images in request: 251, maximum allowed: 250.', 'type': 'invalid_request_error', 'param': None, 'code': None}}

ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f19778b6f60>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f19777e8e90>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2310%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:27:11 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:27:11 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2310%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:27:12 2024
INFO:root:Finished Interviewing #contextual-interface
INFO:root:Sat Dec  7 08:27:12 2024
INFO:root:Finished Interviewing #contextual-interface
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2310%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:27:12 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:27:12 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2310%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:27:13 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 08:27:13 2024
INFO:root:Query is begin generated.
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:27:20 2024
INFO:root:assistant: {"minimum_rent":500,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Lower East Side"},{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"Harlem"},{"name":"The Financial District"},{"name":"Midtown West"},{"name":"Upper West Side"},{"name":"Tribeca"},{"name":"East Village"},{"name":"Upper East Side"}]}
INFO:root:Sat Dec  7 08:27:21 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:27:21 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":3000,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Upper West Side"},{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"East Village"}]}
INFO:root:Sat Dec  7 08:27:22 2024
INFO:root:Query Generated: 6 apartments found
INFO:root:Sat Dec  7 08:27:22 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fcb4b0ea8a0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fcb4b0e9310>
INFO:root:Sat Dec  7 08:27:22 2024
INFO:root:Started Ranking
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
INFO:root:Sat Dec  7 08:27:26 2024
INFO:root:2054509049 (68.0) - Benefits: ['Affordable price for three bedrooms', 'Flexible lease options available', 'In-unit laundry for convenience', 'Access to local parks nearby', 'Furnished common areas provided'] | Drawbacks: ['Single bathroom may be crowded', 'Limited school ranking quality', 'Street parking requires permits', 'No air conditioning mentioned', 'Possible noise from shared apartments']
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2311%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:27:30 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:27:30 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2311%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
INFO:root:Sat Dec  7 08:27:31 2024
INFO:root:2071122638 (75.0) - Benefits: ['Lower price for three bedrooms', 'Two bathrooms for convenience', 'Higher school rankings nearby', 'Flexible lease options available', 'In-unit laundry and TV included'] | Drawbacks: ['Full room may feel smaller', 'Limited outdoor space mentioned', 'No air conditioning specified', 'Street parking might be challenging', 'Possible noise from shared living']
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:27:32 2024
INFO:root:Finished Interviewing #dynamic-network
INFO:root:Sat Dec  7 08:27:32 2024
INFO:root:Finished Interviewing #dynamic-network
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2311%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:27:32 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:27:32 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:27:32 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:27:32 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2311%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:27:33 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 08:27:33 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:27:34 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"East Village"},{"name":"Upper West Side"}]}
INFO:root:Sat Dec  7 08:27:35 2024
INFO:root:Query Generated: 29 apartments found
INFO:root:Sat Dec  7 08:27:35 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:27:36 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:27:37 2024
INFO:root:2054524243 (72.0) - Benefits: ['Good school rankings nearby', 'Two bedrooms for shared living', 'Modern kitchen appliances included', 'Laundry in-home for convenience', 'Access to parks and amenities'] | Drawbacks: ['Higher price for smaller space', 'Only one bathroom for two bedrooms', 'Potential noise from the street', 'No air conditioning mentioned', 'Limited storage space indicated']
INFO:root:Sat Dec  7 08:27:44 2024
INFO:root:2114589240 (75.0) - Benefits: ['Cozy and modern furnishings', 'Laundry in the apartment', 'Pet-friendly options available', 'Great East Village location', 'Flexible lease terms'] | Drawbacks: ['Higher price for NYC area', 'Walk-up building may be inconvenient', 'Broker fees might apply', 'Limited schools nearby', 'Booking rates can vary']
INFO:root:Sat Dec  7 08:27:44 2024
INFO:root:2054524112 (70.0) - Benefits: ['Affordable price for three bedrooms', 'Good school rankings nearby', 'Furnished common areas included', 'Modern kitchen appliances and fixtures', 'Access to local parks and dining'] | Drawbacks: ['Only one bathroom for three bedrooms', 'Possible noise from urban area', 'No air conditioning mentioned', 'Street parking may be difficult', 'Common laundry not specified']
INFO:root:Sat Dec  7 08:27:47 2024
INFO:root:2120347822 (78.0) - Benefits: ['Two spacious bedrooms', 'Modern kitchen appliances', 'Ample natural light', 'Convenient location in Manhattan Valley', 'No broker fees'] | Drawbacks: ['Higher overall price', 'Limited school rankings', 'Less vibrant nightlife compared to other areas', 'Potentially limited public transportation', 'Neighborhood might feel quieter']
INFO:root:Sat Dec  7 08:27:51 2024
INFO:root:2067856540 (76.0) - Benefits: ['Two bathrooms for convenience', 'Affordable price for three bedrooms', 'Good nearby school rankings', 'In-unit laundry for convenience', 'Furnished common areas available'] | Drawbacks: ['Some schools have lower rankings', 'Shared living space may feel crowded', 'Potential noise from multiple roommates', 'Heating type may vary', 'Need a permit for street parking']
INFO:root:Sat Dec  7 08:27:52 2024
INFO:root:2113851994 (72.0) - Benefits: ['Prime East Village location', 'Access to a shared roof deck', 'Stainless steel appliances', 'Bright and cozy interior', 'No broker fees'] | Drawbacks: ['High rental price', "Limited nearby schools' rankings", 'Potential noise from nightlife', 'Small size for a one-bedroom', 'Occupied until end of November']
INFO:root:Sat Dec  7 08:27:57 2024
INFO:root:2094388869 (80.0) - Benefits: ['Private garden space', 'Two full bathrooms', 'Prewar charm with renovations', 'Laundry in the building', 'Heat and hot water included'] | Drawbacks: ['Broker exclusive listing', 'Potential noise from courtyard', 'Limited bedroom space', 'Only one bedroom', 'Nearby schools not highly ranked']
INFO:root:Sat Dec  7 08:27:58 2024
INFO:root:2116427488 (69.0) - Benefits: ['High school ranked 9 nearby', 'Three bedrooms at competitive price', 'Dishwasher and in-unit appliances', 'Furnished common areas available', 'Convenient location near amenities'] | Drawbacks: ['Single bathroom for three roommates', 'Higher price than similar listings', 'Street parking requires permits', 'Noise from busy neighborhood', 'Potentially small bedroom sizes']
INFO:root:Sat Dec  7 08:27:59 2024
INFO:root:COMPLETED: FindBot chose 2067856540, 2071122638, 2054524243, 2054524112, 2116427488
INFO:root:Sat Dec  7 08:28:05 2024
INFO:root:2054509049 (68.0) - Benefits: ['Affordably priced for NYC', 'Three bedrooms for sharing', 'Flexible lease options', 'In-unit laundry facilities', 'Close to parks and amenities'] | Drawbacks: ['1 bathroom for 3 bedrooms', 'Low school rankings nearby', 'Potential for noise in shared space', 'Limited living space for 3 roommates', 'No outdoor space features']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fe6849e5a00>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fe684b79070>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:received job request
INFO:livekit.agents:registered worker
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2312%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:28:18 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:28:18 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2312%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:28:19 2024
INFO:root:Finished Interviewing #dynamic-array
INFO:root:Sat Dec  7 08:28:19 2024
INFO:root:Finished Interviewing #dynamic-array
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2312%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:28:19 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:28:19 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2312%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: None
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:28:19 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 08:28:20 2024
INFO:root:Query is begin generated.
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:28:21 2024
INFO:root:assistant: {"minimum_rent":2000,"maximum_rent":null,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"Upper West Side"},{"name":"The Financial District"},{"name":"Tribeca"}]}
INFO:root:Sat Dec  7 08:28:21 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:28:22 2024
INFO:root:assistant: {"minimum_rent":3000,"maximum_rent":5000,"minimum_bathrooms":2,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"Upper West Side"}]}
INFO:root:Sat Dec  7 08:28:22 2024
INFO:root:system: This query is too tight - it restricts the set of available apartments too heavily. Try again.
INFO:root:Sat Dec  7 08:28:23 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":6000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Upper West Side"},{"name":"The Financial District"},{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"Tribeca"}]}
INFO:root:Sat Dec  7 08:28:23 2024
INFO:root:Query Generated: 78 apartments found
INFO:root:Sat Dec  7 08:28:24 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f6096ae9ee0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f6097724170>
INFO:root:Sat Dec  7 08:28:24 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:28:28 2024
INFO:root:2070899357 (70.5) - Benefits: ['City view from apartment', 'Rooftop terrace with BBQ', 'Fitness center with TechnoGym', 'On-site coffee shop', 'Proximity to subway lines'] | Drawbacks: ['High monthly rent', 'Ranked lower nearby schools', 'Limited bedroom space', 'Street noise potential', 'No private outdoor space']
INFO:root:Sat Dec  7 08:28:35 2024
INFO:root:2125403755 (72.5) - Benefits: ['Luxury finishes and appliances', 'Landscaped rooftop with BBQ', '24-hour doorman service', 'Pet-friendly building', 'Proximity to public transportation'] | Drawbacks: ['Higher monthly rent', 'Lower ranked nearby schools', 'Standard sized bedroom', 'Limited parking availability', 'Smaller living space']
INFO:root:Sat Dec  7 08:28:44 2024
INFO:root:2112722090 (76.0) - Benefits: ['City view from apartment', 'High ceilings and modern finishes', 'Access to gym and pool', 'Pet-friendly with outdoor space', 'On-site parking with valet'] | Drawbacks: ['Mid-range school rankings', 'Higher overall maintenance fees', 'Smaller living room space', 'Potential street noise', 'Price slightly above budget']
INFO:root:Sat Dec  7 08:28:50 2024
INFO:root:2107663659 (74.0) - Benefits: ['Three spacious king-size bedrooms', 'Fully renovated with luxury finishes', 'Washer/dryer in unit', 'Sprawling living room space', 'Responsive management and super'] | Drawbacks: ['Higher rent for size', 'Average school rankings', 'Walkup building may be inconvenient', 'Limited amenities', 'City view may have noise']
INFO:root:Sat Dec  7 08:28:58 2024
INFO:root:2102306536 (78.0) - Benefits: ['Located in Upper West Side', 'High-ranking nearby schools', 'Queen-sized bedrooms available', 'Washer/dryer in unit', 'Lots of natural sunlight'] | Drawbacks: ['Only one bathroom', 'Moderate monthly rent', 'Limited living space', 'Older building amenities', 'Street noise potential']
INFO:root:Sat Dec  7 08:29:04 2024
INFO:root:2114399838 (75.0) - Benefits: ['Affordable rent for Manhattan', 'Park view from apartment', 'Large living area', 'Abundant closet space', 'Full-time doorman presence'] | Drawbacks: ['Lower Ranked nearby schools', 'Only one bathroom', 'Limited amenities compared to others', 'Street noise potential', 'Pets case by case only']
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:29:10 2024
INFO:root:109168447 (76.0) - Benefits: ['Located in desirable West Village', 'High-ranking nearby schools', 'Spacious loft-style layout', 'Abundant natural light', 'Historic building charm'] | Drawbacks: ['Higher monthly rent', 'Only one bathroom', 'No pets allowed', 'Limited kitchen storage', 'Street noise potential']
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2313%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:14 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:29:14 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2313%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:15 2024
INFO:root:Finished Interviewing #transparent-blockchain
INFO:root:Sat Dec  7 08:29:15 2024
INFO:root:Finished Interviewing #transparent-blockchain
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2313%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:15 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:29:15 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2313%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
ERROR:livekit.plugins.openai.realtime:Error in _recv_task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 974, in _recv_task
    raise Exception("OpenAI S2S connection closed unexpectedly")
Exception: OpenAI S2S connection closed unexpectedly
ERROR:livekit.plugins.openai.realtime:Error in _recv_task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 974, in _recv_task
    raise Exception("OpenAI S2S connection closed unexpectedly")
Exception: OpenAI S2S connection closed unexpectedly
ERROR:livekit.plugins.openai.realtime:Error in _main_task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 1047, in _main_task
    await asyncio.gather(*tasks)
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 974, in _recv_task
    raise Exception("OpenAI S2S connection closed unexpectedly")
Exception: OpenAI S2S connection closed unexpectedly
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:29:19 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 08:29:19 2024
INFO:root:Query is begin generated.
INFO:root:Sat Dec  7 08:29:21 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":5500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"Chinatown"},{"name":"The Financial District"},{"name":"Upper West Side"},{"name":"East Village"},{"name":"West Harlem"}]}
INFO:root:Sat Dec  7 08:29:21 2024
INFO:root:2118739082 (72.0) - Benefits: ['Beautiful city views', 'High-ranking nearby schools', 'Access to rooftop deck', 'On-site garage parking', 'Concierge and community features'] | Drawbacks: ['High monthly rent', 'Only one bedroom', 'Limited total square footage', 'Average school rankings for some', 'Potential noise from city']
INFO:root:Sat Dec  7 08:29:22 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f4aef1de210>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f4aefa18d70>
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2314%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:29 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:29:29 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2314%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:31 2024
INFO:root:Finished Interviewing #immutable-mesh
INFO:root:Sat Dec  7 08:29:31 2024
INFO:root:Finished Interviewing #immutable-mesh
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2314%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:31 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:29:31 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:29:31 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:29:31 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:31 2024
INFO:root:2112503161 (75.0) - Benefits: ['Luxury Tribeca location', 'Access to pool and gym', 'High-ranking nearby schools', 'On-site garage and valet', 'Abundant building amenities'] | Drawbacks: ['High monthly rent', 'Only one bedroom', 'Potential street noise', 'Standard kitchen size', 'No separate dining area']
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2314%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:29:35 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 08:29:35 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:36 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":4500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"Upper East Side"},{"name":"West Village"},{"name":"Financial District"},{"name":"Brooklyn Heights"}]}
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
INFO:root:Sat Dec  7 08:29:37 2024
INFO:root:Query Generated: 59 apartments found
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:38 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:38 2024
INFO:root:Started Ranking
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2315%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:39 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:29:39 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2315%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:40 2024
INFO:root:Finished Interviewing #low-latency-circuit
INFO:root:Sat Dec  7 08:29:40 2024
INFO:root:Finished Interviewing #low-latency-circuit
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2315%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:29:40 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:29:40 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2315%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
ERROR:livekit.plugins.openai.realtime:Error in _recv_task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 974, in _recv_task
    raise Exception("OpenAI S2S connection closed unexpectedly")
Exception: OpenAI S2S connection closed unexpectedly
ERROR:livekit.plugins.openai.realtime:Error in _recv_task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 974, in _recv_task
    raise Exception("OpenAI S2S connection closed unexpectedly")
Exception: OpenAI S2S connection closed unexpectedly
ERROR:livekit.plugins.openai.realtime:Error in _main_task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 1047, in _main_task
    await asyncio.gather(*tasks)
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/utils/log.py", line 16, in async_fn_logs
    return await fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/plugins/openai/realtime/realtime_model.py", line 974, in _recv_task
    raise Exception("OpenAI S2S connection closed unexpectedly")
Exception: OpenAI S2S connection closed unexpectedly
INFO:root:Sat Dec  7 08:29:41 2024
INFO:root:2129681660 (75.0) - Benefits: ['City view', 'Washer/dryer in unit', 'Renovated kitchen', 'No broker fee', 'Nearby top schools'] | Drawbacks: ['High rent', 'Only one bathroom', 'Limited storage', 'Start date in December', 'No outdoor space']
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:29:43 2024
INFO:root:2070932276 (70.0) - Benefits: ['Garden view', 'Newly renovated', 'Good train access', 'Broker exclusive', 'Two bedrooms'] | Drawbacks: ['Only one bathroom', 'Lower school ranking', 'No washer/dryer', 'Limited storage', 'Not a city view']
INFO:root:Sat Dec  7 08:29:48 2024
INFO:root:2120457830 (79.0) - Benefits: ['Luxury finishes and appliances', 'Abundant natural light', 'Large walk-in closet', 'Access to rooftop deck', 'High-ranking nearby schools'] | Drawbacks: ['Mid-range priced schools', 'Potential street noise', 'Limited outdoor space', 'People may have mixed views on views', 'Higher overall rent']
INFO:root:Sat Dec  7 08:29:49 2024
INFO:root:2094160151 (72.0) - Benefits: ['City view', 'Walk-in closet', 'Convertible to two beds', 'Elevator building', 'Available furnished'] | Drawbacks: ['High rent', 'Only one bathroom', 'Smaller living space', 'Broker exclusive', 'Not a two-bedroom']
INFO:root:Sat Dec  7 08:29:54 2024
INFO:root:109168447 (74.0) - Benefits: ['Charming West Village location', 'Spacious loft-style layout', 'Walk-in closet', 'Abundant natural light', 'Historic building character'] | Drawbacks: ['High rent', 'Only one bedroom', 'Broker exclusive', 'No pets allowed', 'No outdoor space']
INFO:root:Sat Dec  7 08:29:59 2024
INFO:root:80007866 (74.0) - Benefits: ['Spectacular river and city views', 'Well-designed loft-style apartment', 'Access to extensive amenities', 'High-ranking nearby schools', '24-hour doorman service'] | Drawbacks: ['Higher rent than comparable units', 'Only one bedroom', 'Potential street noise', 'Limited parking options', 'Short rental duration']
INFO:root:Sat Dec  7 08:29:59 2024
INFO:root:2063295259 (78.0) - Benefits: ['City skyline view', 'No broker fee', 'Recently renovated', 'High ceilings', 'Good school rankings'] | Drawbacks: ['Only one bedroom', 'Tenant occupied', 'Precarious commuting options', 'No outdoor space', 'High demand area']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f0454f01910>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f0454f01340>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:received job request
INFO:livekit.agents:registered worker
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2316%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:30:11 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:30:11 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2316%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:30:13 2024
INFO:root:Finished Interviewing #augmented-snippet
INFO:root:Sat Dec  7 08:30:13 2024
INFO:root:Finished Interviewing #augmented-snippet
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
INFO:root:Sat Dec  7 08:30:13 2024
INFO:root:2120347822 (78.0) - Benefits: ['Affordable rent for Manhattan', 'Two separate bedrooms', 'Ample natural light', 'Modern appliances in kitchen', 'Close to dining and transport'] | Drawbacks: ['Mid-range school rankings', 'Only one bathroom', 'Potential street noise', 'Smaller living space', 'Limited amenities']
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2316%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:30:13 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:30:13 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:30:13 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:30:13 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2316%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:30:16 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 08:30:17 2024
INFO:root:Query is begin generated.
INFO:root:Sat Dec  7 08:30:18 2024
INFO:root:assistant: {"minimum_rent":1200,"maximum_rent":3000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"West Village"},{"name":"Greenwich Village"}]}
INFO:root:Sat Dec  7 08:30:18 2024
INFO:root:system: This query is too tight - it restricts the set of available apartments too heavily. Try again.
INFO:root:Sat Dec  7 08:30:19 2024
INFO:root:assistant: {"minimum_rent":1000,"maximum_rent":null,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":null}
INFO:root:Sat Dec  7 08:30:19 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:30:20 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":4000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Upper East Side"},{"name":"Midtown"},{"name":"East Village"},{"name":"Lower East Side"}]}
INFO:root:Sat Dec  7 08:30:20 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:30:23 2024
INFO:root:assistant: {"minimum_rent":2000,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Upper West Side"},{"name":"SoHo"},{"name":"Tribeca"}]}
INFO:root:Sat Dec  7 08:30:24 2024
INFO:root:Query Generated: 10 apartments found
INFO:root:Sat Dec  7 08:30:24 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:30:24 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:30:28 2024
INFO:root:2112705752 (77.0) - Benefits: ['High-ranking nearby schools', 'Garden and skyline views', 'Large bi-level living space', 'Boutique luxury building', 'Prime Central Park West location'] | Drawbacks: ['Higher monthly rent', 'Only one bathroom', 'Limited kitchen space', 'No outdoor space', 'Older building amenities']
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fb7ebdd5250>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fb7ec445cd0>
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2317%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:30:33 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:30:33 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2317%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:30:36 2024
INFO:root:Finished Interviewing #reactive-middleware
INFO:root:Sat Dec  7 08:30:36 2024
INFO:root:Finished Interviewing #reactive-middleware
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2317%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:30:36 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:30:36 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:30:36 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:30:36 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2317%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: None
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:30:39 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 08:30:40 2024
INFO:root:Query is begin generated.
INFO:root:Sat Dec  7 08:30:41 2024
INFO:root:assistant: {"minimum_rent":0,"maximum_rent":2000,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"The Financial District"},{"name":"Chinatown"},{"name":"Upper West Side"}]}
INFO:root:Sat Dec  7 08:30:42 2024
INFO:root:Query Generated: 6 apartments found
INFO:root:Sat Dec  7 08:30:42 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:30:43 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:30:43 2024
INFO:root:2077846741 (73.0) - Benefits: ['Stunning city views', 'Luxurious amenities including pool', 'Pet-friendly options', 'Centrally located near transit', 'Sustainable building features'] | Drawbacks: ['High rent for one bedroom', 'Low-ranked nearby schools', 'Limited living space', 'Street noise potential', 'Price and availability may vary']
INFO:root:Sat Dec  7 08:30:46 2024
INFO:root:2054509049 (68.5) - Benefits: ['Affordable rent for location', 'Flexible lease options available', 'Modern kitchen amenities', 'Laundry in home is free', 'Close to parks and restaurants'] | Drawbacks: ['Shared bathroom potentially inconvenient', 'Low public high school ranking', 'Street parking requires permit', 'Limited natural light', 'Not all utilities included']
INFO:root:Sat Dec  7 08:30:50 2024
INFO:root:2054524261 (64.0) - Benefits: ['Affordable rent for NYC area', 'Flexible lease options available', 'Furnished common areas provided', 'Nearby dining and entertainment', 'Access to 24/7 resident support'] | Drawbacks: ['Shared bathroom could be inconvenient', 'Lower school rankings nearby', 'Laundry in building is paid', 'Limited natural light in rooms', 'Street noise potential in area']
INFO:root:Sat Dec  7 08:30:56 2024
INFO:root:2071122638 (75.0) - Benefits: ['Low rent for two bathrooms', 'Free laundry in unit', 'Modern kitchen with amenities', 'Nearby parks and restaurants', 'Flexible lease options available'] | Drawbacks: ['Two bathrooms may not be en-suite', 'Shared living area considerations', 'Limited personalization in decor', 'Higher price for smaller room', 'Less natural light in common areas']
INFO:root:Sat Dec  7 08:31:00 2024
INFO:root:2073099816 (76.0) - Benefits: ['Modern kitchen with upscale finishes', 'In-unit washer/dryer', 'Abundant natural light', 'Rooftop with landscaped garden', '24/7 concierge service'] | Drawbacks: ['Moderate school rankings', 'Higher rent compared to others', 'Limited living space', 'Street noise potential', 'Only one bathroom']
INFO:root:Sat Dec  7 08:31:02 2024
INFO:root:2054524243 (70.0) - Benefits: ['Modern kitchen with dishwasher', 'Free laundry in unit', 'Good natural light in rooms', 'Located in a vibrant neighborhood', 'Flexible lease options available'] | Drawbacks: ['Price is on the higher side', 'Only one bathroom for two bedrooms', 'Low high school ranking', 'Shared living space considerations', 'Street noise potential']
INFO:root:Sat Dec  7 08:31:08 2024
INFO:root:2054524112 (72.0) - Benefits: ['Modern kitchen with dishwasher', 'Good natural light throughout', "Located in vibrant Hell's Kitchen", 'Flexible lease options available', 'Access to local amenities nearby'] | Drawbacks: ['Shared bathroom might be inconvenient', 'Higher rent for a shared room', 'Lower elementary and middle school rankings', 'Potential street noise from location', 'Limited outdoor space']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f6ae30f9fd0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f6ae30f8a40>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2318%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
INFO:root:Sat Dec  7 08:31:16 2024
INFO:root:2096925094 (74.0) - Benefits: ['Two furnished bedrooms available', 'Modern stainless steel kitchen', 'Flexible rental terms', 'Rooftop with city views', 'In-unit washer and dryer'] | Drawbacks: ['Higher monthly rent', 'Lower ranked nearby schools', 'Only one bathroom', 'Walkup building inconvenience', 'Limited living space']
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:31:16 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:31:16 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2318%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.agents:committed agent speech
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:31:33 2024
INFO:root:Finished Interviewing #interactive-semaphore
INFO:root:Sat Dec  7 08:31:33 2024
INFO:root:Finished Interviewing #interactive-semaphore
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2318%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:31:33 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:31:33 2024
INFO:root:assistant:  Hi there! I'm FindBot, here to help you find your ideal apartment in Manhattan. What's your name?
INFO:root:Sat Dec  7 08:31:33 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:31:33 2024
INFO:root:assistant:  Hi there! I'm FindBot, here to help you find your ideal apartment in Manhattan. What's your name?
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2318%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: None
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:31:34 2024
INFO:root:2056899574 (70.0) - Benefits: ['Spacious three bedrooms available', 'Located near Columbia University', 'Doorman building for security', 'Ample space for home offices', 'Two bathrooms for convenience'] | Drawbacks: ['Higher rent compared to similar units', 'Lower-ranked nearby schools', 'No pets allowed', 'Older building amenities', 'Limited kitchen space']
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
INFO:root:Sat Dec  7 08:31:37 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
INFO:root:Sat Dec  7 08:31:37 2024
INFO:root:Query is begin generated.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2319%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:31:38 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:31:38 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2319%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
INFO:root:Sat Dec  7 08:31:38 2024
INFO:root:assistant: {"minimum_rent":2000,"maximum_rent":4000,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"The Financial District"},{"name":"Midtown"}]}
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
INFO:root:Sat Dec  7 08:31:39 2024
INFO:root:Query Generated: 13 apartments found
INFO:root:Sat Dec  7 08:31:39 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:31:39 2024
INFO:root:Started Ranking
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:31:45 2024
INFO:root:Finished Interviewing #self-adaptive-cache
INFO:root:Sat Dec  7 08:31:45 2024
INFO:root:Finished Interviewing #self-adaptive-cache
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2319%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:31:45 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:31:45 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:31:45 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:31:45 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:31:45 2024
INFO:root:2102176481 (70.0) - Benefits: ['No Broker Fee', 'Heating included', 'Modern kitchen appliances', 'Close to public transport', 'Vibrant neighborhood'] | Drawbacks: ['Higher rent for size', 'Limited laundry options', 'No in-unit laundry', 'Small bedrooms', 'Potential noise from streets']
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2319%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7ffbc14f5fd0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7ffbc14f4a40>
INFO:root:Sat Dec  7 08:31:53 2024
INFO:root:2119705441 (76.0) - Benefits: ['Stunning views of Central Park', 'Access to luxury building amenities', 'No-fee luxury rentals', 'Modern kitchen with granite', 'Pool and fitness center included'] | Drawbacks: ['Higher rent for one bedroom', 'Average school rankings', 'Limited outdoor space', 'Potential street noise', 'Could feel small for some']
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2320%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:32:10 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:32:10 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2320%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
INFO:root:Sat Dec  7 08:32:12 2024
INFO:root:2115061353 (75.0) - Benefits: ['River and city views', 'Great natural light', 'Modern kitchen with stainless steel', 'Access to fitness center', 'Pets allowed up to 40 lbs'] | Drawbacks: ['Lower-ranked nearby schools', 'Potential for street noise', 'Only one bathroom', 'Larger living space may be required', 'Higher rent for size']
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:32:13 2024
INFO:root:Finished Interviewing #augmentative-firewall
INFO:root:Sat Dec  7 08:32:13 2024
INFO:root:Finished Interviewing #augmentative-firewall
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2320%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:32:14 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:32:14 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:32:14 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:32:14 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2320%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:32:17 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 08:32:18 2024
INFO:root:Query is begin generated.
INFO:root:Sat Dec  7 08:32:19 2024
INFO:root:assistant: {"minimum_rent":2000,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"The Financial District"},{"name":"Chinatown"}]}
INFO:root:Sat Dec  7 08:32:19 2024
INFO:root:system: This query is too tight - it restricts the set of available apartments too heavily. Try again.
INFO:root:Sat Dec  7 08:32:20 2024
INFO:root:assistant: {"minimum_rent":1000,"maximum_rent":5000,"minimum_bathrooms":0,"minimum_bedrooms":0,"neighborhoods":null}
INFO:root:Sat Dec  7 08:32:20 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:32:21 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":4500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"The Financial District"},{"name":"Chinatown"},{"name":"Upper West Side"},{"name":"Harlem"}]}
INFO:root:Sat Dec  7 08:32:22 2024
INFO:root:Query Generated: 73 apartments found
INFO:root:Sat Dec  7 08:32:22 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:32:23 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:32:25 2024
INFO:root:2099617984 (68.5) - Benefits: ['Recently renovated interior', 'Ample closet space', 'High ceilings', 'Close to public transit', 'Proximity to parks'] | Drawbacks: ['Higher price for one bedroom', 'Low school rankings', 'Limited nearby dining options', 'Broker exclusive listing', 'Illustrative photos only']
INFO:root:Sat Dec  7 08:32:28 2024
INFO:root:97852527 (72.5) - Benefits: ['Spacious two-bedroom layout', 'Recently renovated kitchen', 'High ceilings', 'Proximity to public transit', 'Includes no broker fee'] | Drawbacks: ['Higher rental price', 'Mixed school rankings', 'Cooperative application process', 'Broker exclusive listing', 'Windowless kitchen area']
INFO:root:Sat Dec  7 08:32:34 2024
INFO:root:2126665622 (72.0) - Benefits: ['Stunning city and river views', 'Pet-friendly with weight limit', 'Access to rooftop lounge', '24/7 concierge service', 'Sustainability-focused building'] | Drawbacks: ['Lower-ranked nearby schools', 'Moderate monthly rent', 'Street noise potential', 'Only one bathroom', 'Limited living space']
INFO:root:Sat Dec  7 08:32:35 2024
INFO:root:31547481 (76.5) - Benefits: ['Large private patio and backyard', 'No broker fee', 'In-unit washer and dryer', 'Abundant natural light', 'Proximity to subway lines'] | Drawbacks: ['Lower school rankings', 'Garden-level apartment might feel dark', 'Higher price for garden-level', 'Limited nearby schools', 'No ranking for one school']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fc56cdf5790>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fc56cdf5250>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2321%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:32:51 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:32:51 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2321%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:32:54 2024
INFO:root:Finished Interviewing #interactive-swap
INFO:root:Sat Dec  7 08:32:54 2024
INFO:root:Finished Interviewing #interactive-swap
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2321%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:32:55 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:32:55 2024
INFO:root:Sat Dec  7 08:32:55 2024
INFO:root:assistant: None
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:32:55 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2321%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:32:56 2024
INFO:root:2110688395 (75.0) - Benefits: ['Stunning views from rooftop', 'Renovated with modern amenities', 'Pet-friendly with pet park', 'Close to Central Park', 'Diverse building amenities'] | Drawbacks: ['Moderate school rankings', 'Higher monthly rent', 'Limited living space', 'Only one bathroom', 'Potential street noise']
INFO:root:Sat Dec  7 08:32:58 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 08:32:58 2024
INFO:root:Query is begin generated.
INFO:root:Sat Dec  7 08:33:00 2024
INFO:root:assistant: {"minimum_rent":2000,"maximum_rent":4500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"Upper West Side"}]}
INFO:root:Sat Dec  7 08:33:00 2024
INFO:root:Query Generated: 27 apartments found
INFO:root:Sat Dec  7 08:33:01 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:33:01 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:33:04 2024
INFO:root:2114399838 (75.0) - Benefits: ['Park view', 'Massive living area', 'High ceilings', 'Abundant light', 'Full-time doorman'] | Drawbacks: ['High rent price', 'Pets case by case', 'No laundry in unit', 'Limited nearby schools', 'Potential noise from street']
INFO:root:Sat Dec  7 08:33:08 2024
INFO:root:109168447 (78.0) - Benefits: ['Charming loft-style design', 'Abundant natural light', 'Walk-in closet', 'Prime West Village location', 'Gourmet kitchen'] | Drawbacks: ['High rent price', 'No pets allowed', 'Limited nearby middle schools', 'Smaller overall size', 'Possible noise from street']
INFO:root:Sat Dec  7 08:33:12 2024
INFO:root:2120347822 (82.0) - Benefits: ['Affordable rent', 'Two separate bedrooms', 'Modern kitchen appliances', 'Ample natural light', 'No broker fee'] | Drawbacks: ['Limited nearby school rankings', 'Smaller overall space', 'Possible noise from neighbors', 'No laundry in unit', 'Basic decoration style']
INFO:root:Sat Dec  7 08:33:17 2024
INFO:root:2115061353 (75.0) - Benefits: ['River and city views', 'Spacious living area', 'Floor-to-ceiling windows', 'State-of-the-art fitness center', 'Pets welcome'] | Drawbacks: ['High rent price', 'Limited nearby school rankings', 'Broker exclusive', 'No laundry in unit', 'Basic interior design']
INFO:root:Sat Dec  7 08:33:19 2024
INFO:root:2115877377 (74.0) - Benefits: ['High-ranked nearby schools', 'Access to luxury amenities', 'Spacious living area', 'Walk-in closet for storage', 'Convenient location in Financial District'] | Drawbacks: ['Moderate monthly rent', 'Street noise potential', 'Only one bathroom', 'Limited living space', 'Potential lack of natural light']
INFO:root:Sat Dec  7 08:33:23 2024
INFO:root:2125096521 (80.0) - Benefits: ['Prime Upper East Side location', 'Two closets in bedroom', 'New kitchen appliances', 'Tons of natural light', 'High school ranked 10'] | Drawbacks: ['Broker exclusive', 'Higher rent for a one-bedroom', 'Limited neighborhood school rankings', 'Functional fireplace, no heating', 'Possibly fewer amenities']
INFO:root:Sat Dec  7 08:33:32 2024
INFO:root:2108582687 (75.0) - Benefits: ['True two-bedroom layout', 'In-unit laundry', '24/7 concierge services', 'Fitness center on-site', 'Close to Lincoln Center'] | Drawbacks: ['Broker exclusive', 'No dogs allowed', 'Lower high school ranking', 'Somewhat smaller living space', 'Potential noise from courtyard']
INFO:root:Sat Dec  7 08:33:38 2024
INFO:root:2125096521 (76.0) - Benefits: ['Prime Upper East Side location', 'High-ranked nearby schools', 'New kitchen with stainless appliances', 'Abundant natural light', 'Virtual doorman for security'] | Drawbacks: ['Moderate school rankings for some', 'Potential street noise', 'Smaller living space', 'Only one bathroom', 'Limited amenities compared to others']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f59c31e1b20>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f59c3e1dcd0>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f1355cf1ac0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f1355cf1490>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
INFO:root:Sat Dec  7 08:34:02 2024
INFO:root:2116274569 (72.0) - Benefits: ['Stunning waterfront views', 'High-ranking nearby schools', 'Access to fitness center', 'Flexible layout (furnished as 2 BR)', 'No amenity or pet fees'] | Drawbacks: ['Moderate monthly rent', 'Street noise potential', 'Potential lack of natural light', 'Only one bathroom', 'Limited living space']
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2322%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:34:04 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:34:04 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2322%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:34:05 2024
INFO:root:Finished Interviewing #agile-cache
INFO:root:Sat Dec  7 08:34:05 2024
INFO:root:Finished Interviewing #agile-cache
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2322%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2322%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:34:08 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 08:34:09 2024
INFO:root:Query is begin generated.
INFO:root:Sat Dec  7 08:34:10 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":null,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Manhattan"}]}
INFO:root:Sat Dec  7 08:34:10 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:34:11 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":4000,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Upper West Side"},{"name":"Upper East Side"},{"name":"Chelsea"}]}
INFO:root:Sat Dec  7 08:34:12 2024
INFO:root:Query Generated: 18 apartments found
INFO:root:Sat Dec  7 08:34:12 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:34:12 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:34:15 2024
INFO:root:2129681660 (75.0) - Benefits: ['City view', 'No broker fee', 'In-unit washer/dryer', 'Renovated kitchen', 'Hardwood flooring'] | Drawbacks: ['High rental price', 'Limited bathrooms', 'Availability from December', 'No building amenities', 'Potential noise from street']
INFO:root:Sat Dec  7 08:34:17 2024
INFO:root:2070932276 (70.0) - Benefits: ['Garden view', 'No broker fee', 'Live-in super', 'Close to subway', 'Recently renovated'] | Drawbacks: ['Limited bathrooms', 'Lower school ranking', 'One flight up', 'No in-unit laundry', 'Smaller living space']
INFO:root:Sat Dec  7 08:34:20 2024
INFO:root:2115627115 (72.0) - Benefits: ['Natural light throughout', 'Gut renovated', 'New kitchen with dishwasher', 'Heat and water included', 'Close to subway stations'] | Drawbacks: ['High rental price', 'Railroad style layout', 'Lower school ranking', 'No short-term lease options', 'No third-party guarantors']
INFO:root:Sat Dec  7 08:34:25 2024
INFO:root:2120347822 (73.0) - Benefits: ['Modern appliances', 'Ample natural light', 'No broker fee', 'Separate kitchen area', 'Close to dining options'] | Drawbacks: ['Lower school rankings', 'High competition for units', 'Limited street parking', 'No building amenities', 'Potentially noisy surroundings']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f88714e1190>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f88714e0d40>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
INFO:root:Sat Dec  7 08:34:28 2024
INFO:root:2078321518 (74.0) - Benefits: ['Two bathrooms for convenience', 'Abundance of natural light', 'Modern kitchen with stainless steel', 'Access to rooftop terrace', 'Close to Columbia University'] | Drawbacks: ['Moderate school rankings', 'Higher rent for one bedroom', 'Potential street noise', 'Only one bedroom', 'Limited living space']
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2323%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:34:35 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:34:35 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2323%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:34:40 2024
INFO:root:Finished Interviewing #synthetic-socket
INFO:root:Sat Dec  7 08:34:40 2024
INFO:root:Finished Interviewing #synthetic-socket
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2323%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:34:40 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:34:40 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:34:40 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:34:40 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2323%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:34:44 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 08:34:44 2024
INFO:root:Query is begin generated.
INFO:root:Sat Dec  7 08:34:45 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":4000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"Upper West Side"}]}
INFO:root:Sat Dec  7 08:34:46 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:34:46 2024
INFO:root:assistant: {"minimum_rent":3000,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"Upper West Side"}]}
INFO:root:Sat Dec  7 08:34:47 2024
INFO:root:Query Generated: 8 apartments found
INFO:root:Sat Dec  7 08:34:47 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:34:48 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:34:50 2024
INFO:root:2108582687 (73.0) - Benefits: ['True two-bedroom layout', 'High-ranked nearby schools', 'Access to fitness center', 'Common courtyard for residents', 'Responsive management'] | Drawbacks: ['Moderate rent for size', 'No dogs allowed', 'Only one bathroom', 'Potential street noise', 'Lower-ranked schools for some']
INFO:root:Sat Dec  7 08:34:51 2024
INFO:root:2120347822 (77.5) - Benefits: ['Modern appliances and stylish interiors', 'Ample natural light throughout', 'Separate bedrooms for privacy', 'No broker fee', 'Close to dining and cultural spots'] | Drawbacks: ['Price may be high for area', 'Only one bathroom', 'Limited school rankings', 'Urban noise potential', 'No outdoor space listed']
INFO:root:Sat Dec  7 08:34:55 2024
INFO:root:2125096521 (80.0) - Benefits: ['Prime Upper East Side location', 'Near Central Park', 'Updated kitchen and bathroom', 'Ample storage with three closets', 'High school ranked 10 nearby'] | Drawbacks: ['Small one-bedroom unit', 'Higher price point', 'Broker exclusive listing', 'Limited living space', 'Potential noise from street']
INFO:root:Sat Dec  7 08:34:59 2024
INFO:root:2108582687 (78.0) - Benefits: ['True two-bedroom layout', 'No broker fee', '24/7 concierge service', 'Fitness center and laundry', 'Close to cultural institutions'] | Drawbacks: ['Only one bathroom', 'High school with low ranking', 'Broker exclusive listing', 'Limited nearby schools', 'No pets allowed']
INFO:root:Sat Dec  7 08:35:07 2024
INFO:root:2100070890 (75.0) - Benefits: ['Charming pre-war building', 'Steps from Central Park', 'Spacious living room with light', 'On-site laundry facilities', 'Ample closet space in bedroom'] | Drawbacks: ['Only one bathroom', 'Broker exclusive listing', 'Elementary school rankings moderate', 'Kitchen may feel dated', 'Higher rent for one-bedroom']
INFO:root:Sat Dec  7 08:35:14 2024
INFO:root:2076957295 (82.5) - Benefits: ['Washer & dryer in unit', 'Pet-friendly building', 'Close to Central Park', 'High ceilings and natural light', 'Stainless steel appliances'] | Drawbacks: ['Only one bathroom', 'Lower school ratings', 'Broker exclusive listing', 'Higher density neighborhood', 'Potential street noise']
INFO:root:Sat Dec  7 08:35:17 2024
INFO:root:2067966242 (72.0) - Benefits: ['Charming duplex layout', 'Private balcony for outdoor space', 'High-ranked nearby schools', 'Spacious living room', 'Brick walls add character'] | Drawbacks: ['Broker fee applies', 'Only one bathroom', 'Potential for street noise', 'Older bathroom fixtures', 'Limited amenities compared to others']
INFO:root:Sat Dec  7 08:35:18 2024
INFO:root:FAILED: Error code: 400 - {'error': {'message': 'Too many images in request: 251, maximum allowed: 250.', 'type': 'invalid_request_error', 'param': None, 'code': None}}
INFO:root:Sat Dec  7 08:35:18 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 46, in _select
    ranker = Ranker(iv)
             ^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 79, in rank_all
    rnk = await self.rank(listing)
          ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 61, in rank
    self.user(listing_message, noteworthy=False)
                                            ^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 59, in rank
    }
      
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/textagent.py", line 94, in generate_to_spec
    self.utter(message, noteworthy=noteworthy)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 427, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1839, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1533, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1634, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': 'Too many images in request: 251, maximum allowed: 250.', 'type': 'invalid_request_error', 'param': None, 'code': None}}

INFO:root:Sat Dec  7 08:35:20 2024
INFO:root:2103382078 (76.0) - Benefits: ['Spacious one-bedroom layout', 'High ceilings and large windows', 'Ebony hardwood floors', 'Decorative fireplace', 'No broker fee'] | Drawbacks: ['Only one bathroom', 'Higher price for one-bedroom', 'School ratings are mixed', 'Potential street noise', 'Broker exclusive listing']
INFO:root:Sat Dec  7 08:35:28 2024
INFO:root:2126880660 (74.0) - Benefits: ['Bright and quiet apartment', 'South-facing for good lighting', 'Separate kitchen with ample cabinets', 'Large closet in bedroom', 'Elevator building with friendly management'] | Drawbacks: ['Only one bathroom', 'Broker exclusive listing', 'Moderate school rankings', 'Potential blend of old features', 'Price point on higher side']
INFO:root:Sat Dec  7 08:35:36 2024
INFO:root:2074484112 (78.0) - Benefits: ['Gut renovated with new appliances', 'True two bedrooms for sharing', 'Open kitchen with modern finishes', 'Heat and hot water included', 'Friendly building management'] | Drawbacks: ['No elevator; three flights up', 'Broker fee applies', 'Only personal guarantors accepted', 'Limited schools nearby', 'No dogs allowed, only cats']
INFO:root:Sat Dec  7 08:35:36 2024
INFO:root:COMPLETED: FindBot chose 2076957295, 2125096521, 2108582687, 2074484112, 2120347822
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2324%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:39:01 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:39:01 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2324%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:39:03 2024
INFO:root:Finished Interviewing #efficient-mesh
INFO:root:Sat Dec  7 08:39:03 2024
INFO:root:Finished Interviewing #efficient-mesh
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2324%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:39:03 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:39:03 2024
INFO:root:Sat Dec  7 08:39:03 2024
INFO:root:assistant: None
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:39:03 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2324%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:39:04 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 08:39:04 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:39:05 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":5000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"The Financial District"},{"name":"Chinatown"}]}
INFO:root:Sat Dec  7 08:39:06 2024
INFO:root:Query Generated: 23 apartments found
INFO:root:Sat Dec  7 08:39:06 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:39:07 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:39:07 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 08:39:07 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 37, in _async_select
    (convo, num) = pickle.loads(fifo.read())
                   ^^^^^^^^^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 08:39:09 2024
INFO:root:109168447 (72.5) - Benefits: ['Prime West Village location', 'Spacious loft-style layout', 'Abundant natural light', 'Gourmet kitchen features', 'Walk-in closet'] | Drawbacks: ['High rent price', 'No pets allowed', 'Limited public school options', 'Small bathroom space', 'No outdoor area']
INFO:root:Sat Dec  7 08:39:14 2024
INFO:root:2120457830 (78.0) - Benefits: ['Luxury amenities and features', 'Spectacular water views', 'Spacious corner unit', '24/7 doorman service', 'Great nearby schools'] | Drawbacks: ['High rent price', 'Possibly noisy construction nearby', 'Limited outdoor space', 'Utilities not included', 'Less residential feel']
INFO:root:Sat Dec  7 08:39:18 2024
INFO:root:80007866 (75.5) - Benefits: ['Stunning river and city views', 'Renovated with modern design', 'Full service building amenities', '24-hour doorman and concierge', 'Close to transportation options'] | Drawbacks: ['High rental price', 'No pets allowed', 'Potentially small living space', 'Limited nearby school rankings', 'Short-term rental only']
INFO:root:Sat Dec  7 08:39:24 2024
INFO:root:2073099816 (74.0) - Benefits: ['Modern kitchen design', 'In-unit washer and dryer', 'Generous closet space', 'Rooftop garden access', 'City and park views'] | Drawbacks: ['High rental price', 'Limited nearby school rankings', 'Potential noise from the city', 'No outdoor space on unit', 'Concealed views due to layout']
INFO:root:Sat Dec  7 08:39:30 2024
INFO:root:2115877377 (76.0) - Benefits: ['Elegant design and finishes', 'Ample closet space', 'Great school nearby', 'Excellent amenities and services', 'Central Financial District location'] | Drawbacks: ['High monthly rental price', 'Potentially limited outdoor space', 'Limited nearby school rankings', 'No pets allowed', 'Somewhat commercial area']
INFO:root:Sat Dec  7 08:39:44 2024
INFO:root:2116274569 (75.0) - Benefits: ['Waterfront location with views', 'Convenient parking options', 'No fee building', 'Updated with hardwood floors', 'Excellent nearby schools'] | Drawbacks: ['Moderate rental price', 'Limited space for flexibility', 'Inner city noise potential', 'No outdoor area in unit', 'Not all amenities shown']
INFO:root:Sat Dec  7 08:39:52 2024
INFO:root:2103407621 (68.0) - Benefits: ['Affordable rent for Chelsea', 'Bright, natural light throughout', 'High ceilings and hardwood floors', 'Convenient laundry on-site', 'Close to multiple subway lines'] | Drawbacks: ['Limited nearby school rankings', 'No extensive building amenities', 'Small unit size', 'Potential street noise', 'Basic kitchen cabinetry']
INFO:root:Sat Dec  7 08:40:02 2024
INFO:root:2121593120 (77.0) - Benefits: ['No fee apartment', 'Excellent building amenities', 'Rooftop with great views', 'Gas and water included', 'Centrally located near transit'] | Drawbacks: ['Relatively high rent', 'Limited nearby school rankings', 'Potential city noise', 'Parking additional costs', 'Small kitchen area']
INFO:root:Sat Dec  7 08:40:23 2024
INFO:root:2125078385 (78.0) - Benefits: ['Great nearby school rankings', 'Beautiful interior design', 'Access to pool and recreation', 'Spacious living/dining area', 'Excellent natural light'] | Drawbacks: ['High rental price', 'Potentially limited views', 'Inner city noise exposure', 'Extra costs for parking', 'Not all amenities included']
INFO:root:Sat Dec  7 08:40:36 2024
INFO:root:2113422130 (76.5) - Benefits: ['High-floor with city views', 'Ample closet space', 'Great nearby schools', 'Extensive building amenities', 'No fee for rental'] | Drawbacks: ['Moderate rental price', 'Separate kitchen may limit space', 'Potential city noise exposure', 'Inner city environment', 'Limited personalization options']
INFO:root:Sat Dec  7 08:40:47 2024
INFO:root:2110571682 (80.0) - Benefits: ['Beautiful interior finishes', 'Extensive building amenities', 'Great nearby schools', 'Two months free rent available', 'Centrally located near transit'] | Drawbacks: ['High rental price', 'Potentially limited views', 'Commercial area noise', 'Parking additional costs', 'Security deposit required']
INFO:root:Sat Dec  7 08:41:03 2024
INFO:root:2114501637 (72.5) - Benefits: ['Affordable rent in Hudson Yards', 'Spacious layout with natural light', 'Convenient location near attractions', 'Exposed brick adds character', 'Queen-sized bedroom fits comfortably'] | Drawbacks: ['Basic kitchen cabinetry', 'Limited building amenities', 'No laundry in unit', 'Potential street noise', 'Nearby school rankings are average']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f3c6b2edbb0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f3c6bb31e20>
INFO:root:Sat Dec  7 08:41:17 2024
INFO:root:2125515358 (77.0) - Benefits: ['Waterfront location with views', 'No fees for amenities', 'Updated with modern finishes', 'Convenient parking options', 'Excellent nearby schools'] | Drawbacks: ['Moderate rental price', 'Limited school rankings for older grades', 'Potential for street noise', 'Smaller living space', 'Overhead construction noise risks']
INFO:root:Sat Dec  7 08:41:28 2024
INFO:root:2092869878 (78.0) - Benefits: ['Stunning waterfront views', 'Ample storage with multiple closets', 'Access to modern amenities', 'Convenient location near attractions', 'No fee for renting'] | Drawbacks: ['Moderate rental price', 'Limited nearby school rankings', 'Potential street noise', 'High demand area', 'Parking may incur extra costs']
INFO:root:Sat Dec  7 08:41:45 2024
INFO:root:2115487014 (70.0) - Benefits: ['Affordable rent for two bedrooms', "No broker's fee", 'Proximity to multiple amenities', 'Nearby high-ranking schools', 'Spacious bedrooms for NYC'] | Drawbacks: ['Basic kitchen appliances', 'Limited nearby school rankings for older grades', 'Potential street noise', 'Smaller living area', 'Cluttered appearance in photos']
INFO:root:Sat Dec  7 08:42:01 2024
INFO:root:2068749157 (76.5) - Benefits: ['Waterfront location with city views', 'Spacious living area and kitchen', 'Updated finishes and appliances', 'Access to on-site amenities', 'Nearby high-ranking schools'] | Drawbacks: ['Moderate rental price', 'Limited nearby school options for high school', 'Potential for street noise', 'Parking may incur additional costs', 'Inner city lifestyle might not suit everyone']
INFO:root:Sat Dec  7 08:42:17 2024
INFO:root:2126023203 (74.0) - Benefits: ['Charming West Village location', 'Newly renovated interior', 'Generous storage space', 'Bright and spacious layout', 'Close to public transportation'] | Drawbacks: ['Moderate rental price', 'Limited nearby school rankings', 'No outdoor space', 'Potential street noise', 'Shared laundry facilities']
INFO:root:Sat Dec  7 08:42:35 2024
INFO:root:2105229208 (76.5) - Benefits: ['Waterfront location with views', 'Ample storage with multiple closets', 'Access to modern amenities', 'Nearby high-ranking schools', 'No fee on rental'] | Drawbacks: ['Moderate rental price', 'Limited nearby school options for high school', 'Potential street noise', 'Parking may incur additional costs', 'Less residential atmosphere']
INFO:root:Sat Dec  7 08:42:55 2024
INFO:root:89330009 (75.0) - Benefits: ['No broker fee required', 'Spacious apartment with high ceilings', 'Ample storage with walk-in closet', 'Access to luxury amenities', 'Prime location near restaurants and transport'] | Drawbacks: ['Moderate rental price', 'No dogs allowed', 'Limited nearby school rankings', 'Potential for high noise levels', 'Smaller kitchen space']
INFO:root:Sat Dec  7 08:43:13 2024
INFO:root:2062170757 (73.0) - Benefits: ['No broker fee', 'Convenient location in Tribeca', 'Spacious living and dining area', 'Access to building amenities', 'High-speed internet connection'] | Drawbacks: ['High rental price', 'Limited nearby school rankings', 'Potential for street noise', 'Garage parking costs extra', 'No pets allowed']
INFO:root:Sat Dec  7 08:43:37 2024
INFO:root:2117905556 (76.0) - Benefits: ['Modern appliances and finishes', 'Ample storage with a walk-in closet', 'Access to luxury amenities', 'Great nearby school rankings', 'Convenient location in the Financial District'] | Drawbacks: ['Moderate rental price', 'No pets allowed', 'Limited view from unit', 'Parking incurs extra charges', 'Potential for street noise']
INFO:root:Sat Dec  7 08:44:01 2024
INFO:root:2116975714 (74.5) - Benefits: ['No fee apartment', 'Water and gas included', 'Modern kitchen appliances', 'Access to rooftop and gym', 'Flexible layout for additional space'] | Drawbacks: ['High rental price', 'Limited nearby school rankings', 'Potential noise from the city', 'Parking may involve additional costs', 'Smaller kitchen area']
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2325%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:44:16 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:44:16 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2325%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:44:19 2024
INFO:root:Finished Interviewing #responsive-hypervisor
INFO:root:Sat Dec  7 08:44:19 2024
INFO:root:Finished Interviewing #responsive-hypervisor
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2325%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:44:19 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:44:19 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:44:19 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:44:19 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2325%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: None
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:44:20 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 08:44:20 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:44:21 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Midtown"},{"name":"Lower East Side"},{"name":"SoHo"},{"name":"Greenwich Village"}]}
INFO:root:Sat Dec  7 08:44:21 2024
INFO:root:2127596297 (71.0) - Benefits: ['Affordable rent for the area', 'Sun-drenched with oversized windows', 'Character with exposed brick', 'Close to public transportation', 'King-sized bedroom'] | Drawbacks: ['Limited nearby school rankings', 'Basic kitchen finishes', 'No building amenities stated', 'Potential street noise', 'Older building charm might not suit everyone']
INFO:root:Sat Dec  7 08:44:22 2024
INFO:root:COMPLETED: FindBot chose 2110571682, 2120457830, 2125078385, 2092869878, 2121593120
INFO:root:Sat Dec  7 08:44:22 2024
INFO:root:Query Generated: 8 apartments found
INFO:root:Sat Dec  7 08:44:22 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:44:23 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:44:30 2024
INFO:root:FAILED: Error code: 400 - {'error': {'message': 'Timeout while downloading https://photos.zillowstatic.com/fp/495da6fe41a92946f85d988d8264a620-cc_ft_384.jpg.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_image_url'}}
INFO:root:Sat Dec  7 08:44:31 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 46, in _async_select
    ranked = await ranker.rank_all(listings)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 79, in rank_all
    rnk = await self.rank(listing)
          ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 64, in rank
    score = await self.generate_to_spec(ListingScore, noteworthy=False)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/textagent.py", line 113, in generate_to_spec
    return await self.query_retry()(self._generate_to_spec)(fmt, noteworthy)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/_utils.py", line 99, in inner
    return call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 398, in <lambda>
    self._add_action_func(lambda rs: rs.outcome.result())
                                     ^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/textagent.py", line 116, in _generate_to_spec
    completion = await client.beta.chat.completions.parse(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 427, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1839, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1533, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1634, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': 'Timeout while downloading https://photos.zillowstatic.com/fp/495da6fe41a92946f85d988d8264a620-cc_ft_384.jpg.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_image_url'}}

ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f81239c6f00>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f8123fa2b40>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f89fcfb6690>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f89fcfb6060>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2326%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:45:56 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:45:56 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2326%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:45:59 2024
INFO:root:Finished Interviewing #augmented-webhook
INFO:root:Sat Dec  7 08:45:59 2024
INFO:root:Finished Interviewing #augmented-webhook
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2326%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:46:00 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:46:00 2024
INFO:root:Sat Dec  7 08:46:00 2024
INFO:root:assistant: None
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:46:00 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2326%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:46:00 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 08:46:00 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:46:01 2024
INFO:root:assistant: {"minimum_rent":2000,"maximum_rent":5000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"SoHo"},{"name":"Tribeca"},{"name":"Upper West Side"},{"name":"Midtown"}]}
INFO:root:Sat Dec  7 08:46:02 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:46:02 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":4000,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"East Village"},{"name":"Chelsea"},{"name":"Lower East Side"}]}
INFO:root:Sat Dec  7 08:46:03 2024
INFO:root:Query Generated: 10 apartments found
INFO:root:Sat Dec  7 08:46:03 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:46:03 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:46:06 2024
INFO:root:2124688222 (75.0) - Benefits: ['Spacious living room', 'Large bedrooms', 'Stainless steel appliances', 'Lots of closet space', 'Nearby restaurants and bars'] | Drawbacks: ['High monthly rent', 'Photos of similar unit', 'No parking mentioned', 'Possible noise from nightlife', 'Limited outdoor space']
INFO:root:Sat Dec  7 08:46:12 2024
INFO:root:2075309157 (80.0) - Benefits: ['Recent total gut renovation', 'Luxury features throughout', 'Large windowed kitchen', 'High ceilings for spacious feel', 'No fee and guarantors ok'] | Drawbacks: ['Ground floor might lack privacy', 'Dogs not allowed', 'Limited outdoor space', 'Potential noise from street', 'Still relatively high rent']
INFO:root:Sat Dec  7 08:46:16 2024
INFO:root:2124218889 (78.0) - Benefits: ['Flexible lease options', 'Furnished with premium amenities', 'In-apartment laundry', 'Centrally located in East Village', "No broker's fee"] | Drawbacks: ['Higher rent for furnished unit', 'Noise from nightlife', 'Walk-up building may be inconvenient', 'Price can vary based on duration', 'Limited outdoor space']
INFO:root:Sat Dec  7 08:46:22 2024
INFO:root:2107204311 (76.0) - Benefits: ['Renovated and sun-drenched', 'Dishwasher in unit', 'Laundry in the building', 'Great East Village location', 'Low brokerage fee'] | Drawbacks: ['Flexed layout might be cramped', 'Not many nearby schools', 'Limited outdoor space', 'Not furnished', 'Potential noise from nightlife']
INFO:root:Sat Dec  7 08:46:27 2024
INFO:root:2115487014 (74.0) - Benefits: ["No broker's fee", 'Spacious bedrooms', 'Stainless steel appliances', 'Great Lower East Side location', 'Close to public transportation'] | Drawbacks: ['Potential noise from nightlife', 'Tight living space', 'Low ranking for nearby schools', 'Cluttered living area in photos', 'Security deposit might still apply']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f11e28aeab0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f11e28ae5a0>
INFO:root:Sat Dec  7 08:46:36 2024
INFO:root:2118698501 (77.0) - Benefits: ['Charming exposed brick', 'High ceilings and natural light', 'Spacious living area', 'Great East Village location', 'Close to public transport'] | Drawbacks: ['High monthly rent', "No broker's fee details", 'Potential noise from nightlife', 'No washer/dryer in unit', 'Income requirements may be strict']
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2327%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:46:44 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:46:44 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
INFO:root:Sat Dec  7 08:46:45 2024
INFO:root:2115688655 (72.0) - Benefits: ['Updated and renovated kitchen', 'Stainless steel appliances', 'Utilities included in rent', 'Ample closet space', 'Guarantors accepted'] | Drawbacks: ['High rent for three bedrooms', 'Limited nearby school rankings', 'Small living space', 'No washer/dryer in unit', 'Lack of character in decor']
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2327%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:46:47 2024
INFO:root:Finished Interviewing #seamless-neuralnet
INFO:root:Sat Dec  7 08:46:47 2024
INFO:root:Finished Interviewing #seamless-neuralnet
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2327%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:46:48 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:46:48 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:46:48 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:46:48 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2327%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:46:48 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 08:46:48 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:46:50 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"The Financial District"},{"name":"East Village"},{"name":"Upper West Side"}]}
INFO:root:Sat Dec  7 08:46:51 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:46:52 2024
INFO:root:assistant: {"minimum_rent":2200,"maximum_rent":3000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Upper West Side"},{"name":"Chelsea"}]}
INFO:root:Sat Dec  7 08:46:52 2024
INFO:root:Query Generated: 3 apartments found
INFO:root:Sat Dec  7 08:46:53 2024
INFO:root:2101737894 (75.0) - Benefits: ['Modern appliances', "No broker's fee", 'Ample closet space', 'Close to subway lines', 'Vibrant East Village location'] | Drawbacks: ['Limited nearby school rankings', 'High income requirement', 'Small living area', 'Potential noise from nightlife', 'Upper floors might lack easy access']
INFO:root:Sat Dec  7 08:46:53 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:46:53 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:46:57 2024
INFO:root:2084377010 (72.5) - Benefits: ['Quiet location', 'Modern renovations', 'Fitness center available', 'Close to public transport', 'Concierge service present'] | Drawbacks: ["Broker's fee required", 'Small living space', 'No pets allowed', 'Tenant occupied unit', 'Higher price for area']
INFO:root:Sat Dec  7 08:47:00 2024
INFO:root:2114501637 (75.0) - Benefits: ['Spacious layout', 'Large windows for light', 'Exposed brick charm', 'Close to Times Square', 'Convenient location'] | Drawbacks: ["Broker's fee required", 'Some noise expected', 'Smaller kitchen space', 'Public school rankings vary', 'Higher cost in crowded area']
INFO:root:Sat Dec  7 08:47:01 2024
INFO:root:2122153516 (73.0) - Benefits: ['Spacious loft-like layout', 'Restored pre-war charm', 'Windowed kitchen with dishwasher', "Close to Trader Joe's and Whole Foods", "No broker's fee"] | Drawbacks: ['Limited nearby school rankings', 'Potential noise from street', 'Bathroom might feel outdated', 'Photos show some clutter', 'High rent for two bedrooms']
INFO:root:Sat Dec  7 08:47:05 2024
INFO:root:124011772 (73.0) - Benefits: ['Across from Central Park', 'Spacious rooms available', 'New kitchen renovation', 'Sunny and quiet apartment', 'Elevator and laundry in-building'] | Drawbacks: ["Broker's fee required", 'Public school rankings vary', 'Limited kitchen space', 'Older building charm may vary', 'Potential for street noise']
INFO:root:Sat Dec  7 08:47:06 2024
INFO:root:COMPLETED: FindBot chose 2114501637, 124011772, 2084377010
INFO:root:Sat Dec  7 08:47:09 2024
INFO:root:2125119458 (76.0) - Benefits: ['City view from apartment', 'Conveniently near subway lines', 'Vibrant East Village location', 'Comfortable for sharing', "No broker's fee"] | Drawbacks: ['High monthly rent', 'Bathroom appears basic', 'Nearby school rankings are low', 'Potential noise from street', 'Staged photos may not reflect true space']
INFO:root:Sat Dec  7 08:47:10 2024
INFO:root:COMPLETED: FindBot chose 2075309157, 2124218889, 2118698501, 2107204311, 2125119458
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f291aaa3cb0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f291aaa2840>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2328%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:47:29 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:47:29 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2328%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:47:32 2024
INFO:root:Finished Interviewing #virtualized-packet
INFO:root:Sat Dec  7 08:47:32 2024
INFO:root:Finished Interviewing #virtualized-packet
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2328%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:47:32 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:47:32 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:47:32 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:47:32 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2328%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:47:33 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 08:47:33 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:47:34 2024
INFO:root:assistant: {"minimum_rent":1000,"maximum_rent":4000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"East Village"},{"name":"Upper West Side"},{"name":"Greenwich Village"}]}
INFO:root:Sat Dec  7 08:47:35 2024
INFO:root:Query Generated: 51 apartments found
INFO:root:Sat Dec  7 08:47:35 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:47:35 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:47:38 2024
INFO:root:2124688222 (78.5) - Benefits: ['Spacious living room', 'Large bedrooms', 'Stainless steel appliances', 'Near public transport', 'Close to restaurants'] | Drawbacks: ['High rent price', 'No outdoor space', 'Photos are not of this unit', 'Limited storage outside closets', 'Potential crowding in area']
INFO:root:Sat Dec  7 08:47:41 2024
INFO:root:2114589240 (82.0) - Benefits: ['Affordable rent price', 'Includes a balcony', 'Flexible lease options', 'In-apartment laundry', 'Pets allowed'] | Drawbacks: ['Only 1 bedroom available', 'Walk-up building', 'Limited space', 'Potentially noisy area', 'Deposit may be required']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f5286e43ef0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f528679a540>
INFO:root:Sat Dec  7 08:47:48 2024
INFO:root:2114399838 (79.0) - Benefits: ['Park view', 'Massive living area', 'High ceilings', 'Doorman service', 'On-site gym'] | Drawbacks: ['Higher price point', 'Pets case by case', 'Only 1 bedroom', 'No outdoor space', 'Limited nearby schools']
INFO:root:Sat Dec  7 08:47:54 2024
INFO:root:109168447 (76.5) - Benefits: ['Charming West Village location', 'Spacious loft-style layout', 'High ceilings with natural light', 'Walk-in closet', 'Proximity to Hudson River Park'] | Drawbacks: ['High rental price', 'No pets allowed', 'Limited school options', 'Potentially noisy area', 'Photos may not represent current state']
INFO:root:Sat Dec  7 08:47:59 2024
INFO:root:2126897046 (78.0) - Benefits: ['In-unit laundry', 'Modern bathroom', 'Dishwasher included', 'Spacious living room', 'Exposed brick design'] | Drawbacks: ['Higher rent for size', 'Photos not representative', 'Limited nearby schools', 'Potentially crowded area', 'Broker exclusive listing']
INFO:root:Sat Dec  7 08:48:05 2024
INFO:root:2120347822 (81.0) - Benefits: ['Affordable rental price', 'Two separate bedrooms', 'Modern appliances', 'Ample natural light', 'Convenient access to transport options'] | Drawbacks: ['Broker exclusive listing', 'Limited school rankings', 'No outdoor space', 'Potential noise from street', 'Less central location']
INFO:root:Sat Dec  7 08:48:12 2024
INFO:root:2113851994 (80.0) - Benefits: ['Prime East Village location', 'Shared roof deck', 'Stainless steel appliances', 'Hardwood floors', 'No fee rental'] | Drawbacks: ['Higher rent price', 'Photos of similar unit', 'Limited parking options', 'Potential noise from nearby activities', 'Broker exclusive listing']
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2329%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:48:34 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:48:34 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2329%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:48:36 2024
INFO:root:Finished Interviewing #efficient-pipeline
INFO:root:Sat Dec  7 08:48:36 2024
INFO:root:Finished Interviewing #efficient-pipeline
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2329%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:48:36 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:48:36 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:48:36 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:48:36 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2329%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:48:37 2024
INFO:root:2107741979 (84.0) - Benefits: ['Luxury amenities', 'Stunning roof deck', 'In-unit washer-dryer', 'Convenient location', 'No fee rental'] | Drawbacks: ['High rent price', 'Limited nearby schools', 'Broker exclusive listing', 'Potential noise from the street', 'Photos may not represent current conditions']
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f04fbbaaa20>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f04fbbaa3c0>
INFO:root:Sat Dec  7 08:48:45 2024
INFO:root:2094388869 (82.0) - Benefits: ['Private garden space', 'Two full bathrooms', 'Heat included in rent', 'Renovated prewar charm', 'Laundry in building'] | Drawbacks: ['Broker exclusive listing', 'Limited nearby school rankings', 'Potential noise from neighbors', 'Smaller living space', 'Photos may not represent current condition']
INFO:root:Sat Dec  7 08:48:57 2024
INFO:root:2054509049 (75.0) - Benefits: ['Very affordable rent', 'Three-bedroom sharing', 'Free laundry in unit', 'Furnished common areas', 'Flexible lease terms'] | Drawbacks: ['Limited school rankings', 'Basic amenities', 'Potential for crowded living', 'Street parking only', 'Broker commission fee']
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:49:07 2024
INFO:root:2118755854 (80.0) - Benefits: ['Brand new renovations', 'Prime East Village location', 'Stainless steel appliances', 'No fee rental', 'Laundry in building'] | Drawbacks: ['Higher rent price', 'Limited school rankings', 'Broker exclusive listing', 'Walk-up building', 'Potential noise from street']
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2330%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:49:16 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:49:16 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
INFO:root:Sat Dec  7 08:49:17 2024
INFO:root:2075309157 (82.5) - Benefits: ['Recent gut renovation', 'Spacious with two bedrooms', 'Stainless steel appliances', 'No fee rental', 'High ceilings for airy feel'] | Drawbacks: ['Higher rental price', 'Broker exclusive listing', 'Limited nearby school rankings', 'Potential for noise from street', 'Dogs not allowed']
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2330%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:49:19 2024
INFO:root:Finished Interviewing #intelligent-token
INFO:root:Sat Dec  7 08:49:19 2024
INFO:root:Finished Interviewing #intelligent-token
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2330%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:49:19 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:49:19 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:49:19 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:49:19 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2330%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f2f1a3ab650>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f2f1a490080>
INFO:root:Sat Dec  7 08:49:30 2024
INFO:root:2125096521 (78.5) - Benefits: ['Prime Upper East Side location', 'Close to Central Park', 'Recently renovated kitchen', 'Queen-sized bedroom', 'Virtual doorman'] | Drawbacks: ['Higher rent price', 'Broker exclusive listing', 'Limited nearby school options', 'Potential crowding in area', 'Photos may not represent current condition']
INFO:root:Sat Dec  7 08:49:41 2024
INFO:root:2108582687 (80.0) - Benefits: ['True 2-bedroom apartment', 'Laundry in building', 'Fitness center available', '24/7 concierge service', 'Close to Lincoln Center'] | Drawbacks: ['Broker exclusive listing', 'No dogs allowed', 'Limited nearby school rankings', 'Potential for crowded living', 'Some amenities may be shared']
INFO:root:Sat Dec  7 08:49:55 2024
INFO:root:2067966242 (77.5) - Benefits: ['Charming duplex layout', 'Private balcony', 'Large living room space', 'Ample storage options', 'Laundry in building'] | Drawbacks: ['High rental price', 'Broker fee applies', 'Limited nearby school rankings', 'Potential for noise from street', 'Balcony view may be restricted']
INFO:root:Sat Dec  7 08:50:08 2024
INFO:root:2100070890 (78.0) - Benefits: ['Great Upper West Side location', 'Close to Central Park', 'Spacious living room', 'Elevator building', 'Laundry facilities on-site'] | Drawbacks: ['Broker exclusive listing', 'Limited school ranking', 'Higher rent price', 'Potential noise from street', 'Smaller bedroom space']
INFO:root:Sat Dec  7 08:50:43 2024
INFO:root:2062397614 (80.0) - Benefits: ['No broker fee', 'Heating and hot water included', 'Close to Central Park', 'Pet-friendly', 'Exposed brick in living room'] | Drawbacks: ['Higher rent price', '4th floor walk-up', 'Limited nearby school rankings', 'Potential noise from street', 'Bedrooms may be small for some']
INFO:root:Sat Dec  7 08:50:58 2024
INFO:root:2115004220 (79.0) - Benefits: ['No broker fee', 'Modern kitchen appliances', 'Marble bathroom', 'Large windows', 'Great school rankings nearby'] | Drawbacks: ['Higher rent price', 'Limited living space', 'Potential noise from the street', 'Photos may not represent exact current state', 'Only one bedroom available']
INFO:root:Sat Dec  7 08:51:13 2024
INFO:root:2071122638 (74.0) - Benefits: ['Extremely affordable rent', 'Large three-bedroom shared apartment', 'Laundry in unit', 'Flexible lease options', 'Access to local parks and restaurants'] | Drawbacks: ['Limited school rankings', 'Shared living space', 'Less privacy in common areas', '5% broker commission fee', 'Basic amenities provided']
INFO:root:Sat Dec  7 08:51:34 2024
INFO:root:2084377010 (79.5) - Benefits: ['No broker fee', 'Close to Lincoln Center', 'On-site fitness center', 'Laundry in every building', 'High-rated nearby schools'] | Drawbacks: ['Broker fee applies for this unit', 'Dogs not allowed', 'Potential for crowded living space', 'Some amenities may be shared', 'Limited privacy in community areas']
INFO:root:Sat Dec  7 08:51:49 2024
INFO:root:2103407621 (76.5) - Benefits: ['Bright and spacious layout', 'High ceilings', 'No fee rental', 'Close to multiple subway lines', 'Laundry room in building'] | Drawbacks: ['Higher rent price', 'Broker exclusive listing', 'Limited school rankings', 'Photos may not represent exact unit', 'Potential street noise']
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2331%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:52:09 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:52:09 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2331%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:52:12 2024
INFO:root:Finished Interviewing #crypto-token
INFO:root:Sat Dec  7 08:52:12 2024
INFO:root:Finished Interviewing #crypto-token
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2331%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:52:12 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:52:12 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:52:12 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:52:12 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2331%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:52:21 2024
INFO:root:2124218889 (81.5) - Benefits: ['No broker fee', 'Two-bedroom space', 'Flexible lease options', 'In-apartment laundry', 'Vibrant East Village location'] | Drawbacks: ['Higher rent price', 'Potential noise from nightlife', 'Photos may not reflect current unit', 'Limited nearby school rankings', 'Walk-up building']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fbf31eab590>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fbf31eaaff0>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2332%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:52:49 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:52:49 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2332%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:52:51 2024
INFO:root:Finished Interviewing #enhanced-bit
INFO:root:Sat Dec  7 08:52:51 2024
INFO:root:Finished Interviewing #enhanced-bit
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2332%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:52:51 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:52:51 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:52:51 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:52:51 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2332%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
ERROR:livekit.agents:unhandled exception while running the job task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py", line 87, in on_job
    json.dump((iv.convo, iv.notes.number), fifo)
  File "/usr/lib/python3.12/json/__init__.py", line 180, in dump
    fp.write(chunk)
TypeError: a bytes-like object is required, not 'str'
ERROR:livekit.agents:unhandled exception while running the job task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py", line 87, in on_job
    json.dump((iv.convo, iv.notes.number), fifo)
  File "/usr/lib/python3.12/json/__init__.py", line 180, in dump
    fp.write(chunk)
TypeError: a bytes-like object is required, not 'str'
DEBUG:livekit.agents:committed agent speech
INFO:root:Sat Dec  7 08:52:58 2024
INFO:root:244694115 (81.0) - Benefits: ['Great Upper West Side location', 'Ample closet space', 'Modern kitchen appliances', 'Access to rooftop garden', 'Full-service building amenities'] | Drawbacks: ['Higher rent price', 'Broker exclusive listing', 'Limited nearby school rankings', 'Potential street noise', 'Parking may be limited']
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2333%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:53:04 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:53:04 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2333%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.agents:committed agent speech
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:53:14 2024
INFO:root:Finished Interviewing #virtual-matrix
INFO:root:Sat Dec  7 08:53:14 2024
INFO:root:Finished Interviewing #virtual-matrix
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2333%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:53:15 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:53:15 2024
INFO:root:assistant:  Hi there! I'm FindBot, your go-to for finding the perfect rental apartment in Manhattan. What's your name? And what brings you to the city?
INFO:root:Sat Dec  7 08:53:15 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:53:15 2024
INFO:root:assistant:  Hi there! I'm FindBot, your go-to for finding the perfect rental apartment in Manhattan. What's your name? And what brings you to the city?
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2333%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
ERROR:livekit.agents:unhandled exception while running the job task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py", line 87, in on_job
    json.dump((iv.convo, iv.notes.number), fifo)
  File "/usr/lib/python3.12/json/__init__.py", line 180, in dump
    fp.write(chunk)
TypeError: a bytes-like object is required, not 'str'
ERROR:livekit.agents:unhandled exception while running the job task
Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py", line 87, in on_job
    json.dump((iv.convo, iv.notes.number), fifo)
  File "/usr/lib/python3.12/json/__init__.py", line 180, in dump
    fp.write(chunk)
TypeError: a bytes-like object is required, not 'str'
INFO:root:Sat Dec  7 08:53:20 2024
INFO:root:2082064711 (80.0) - Benefits: ['Two bathrooms', 'Spacious duplex layout', 'Stainless steel appliances', 'Virtual doorman', 'Laundry in building'] | Drawbacks: ['Higher rent price', 'Broker exclusive listing', 'Limited school rankings', 'Potential noise in area', 'Photos may not depict current state']
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit:tungstenite::protocol:683:tungstenite::protocol - Replying to close with Frame { header: FrameHeader { is_final: true, rsv1: false, rsv2: false, rsv3: false, opcode: Control(Close), mask: None }, payload: [3, 232] }
WARNING:livekit:livekit::rtc_engine:430:livekit::rtc_engine - received session close: "signal client closed: \"stream closed\"" UnknownReason Resume
WARNING:livekit:livekit::rtc_engine:430:livekit::rtc_engine - received session close: "signal client closed: \"stream closed\"" UnknownReason Resume
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f06214af2f0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f06214aef00>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2334%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:53:33 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:53:33 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2334%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:53:36 2024
INFO:root:Finished Interviewing #self-healing-opcode
INFO:root:Sat Dec  7 08:53:36 2024
INFO:root:Finished Interviewing #self-healing-opcode
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2334%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:53:36 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:53:36 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:53:36 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:53:36 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2334%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit:tungstenite::protocol:683:tungstenite::protocol - Replying to close with Frame { header: FrameHeader { is_final: true, rsv1: false, rsv2: false, rsv3: false, opcode: Control(Close), mask: None }, payload: [3, 232] }
WARNING:livekit:livekit::rtc_engine:430:livekit::rtc_engine - received session close: "signal client closed: \"stream closed\"" UnknownReason Resume
WARNING:livekit:livekit::rtc_engine:430:livekit::rtc_engine - received session close: "signal client closed: \"stream closed\"" UnknownReason Resume
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: RoomClosed
DEBUG:livekit.agents:shutting down job task
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:livekit.agents:job exiting
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:53:45 2024
INFO:root:2120368568 (78.5) - Benefits: ['Prime Upper West Side location', 'Stainless steel appliances', 'Ample closet space', 'Bright and modern', 'Close to Central Park'] | Drawbacks: ['Higher rent price', 'Broker exclusive listing', 'Limited nearby school rankings', 'Potential noise from street', 'Accessibility features not specified']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f1d423a75f0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f1d425d4230>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2335%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:54:04 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:54:04 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2335%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:54:08 2024
INFO:root:Finished Interviewing #futuristic-widget
INFO:root:Sat Dec  7 08:54:08 2024
INFO:root:Finished Interviewing #futuristic-widget
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2335%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:54:09 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:54:09 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:54:09 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:54:09 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2335%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:54:12 2024
INFO:root:2067622343 (76.0) - Benefits: ['Affordable rent price', 'Heat and hot water included', 'Spacious and bright layout', 'Cats allowed', "Close to Trader Joe's and Target"] | Drawbacks: ['Broker exclusive listing', 'No dogs allowed', 'Limited school rankings', 'Basic amenities', 'Potential noise from street']
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2336%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:54:20 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:54:20 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2336%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:54:24 2024
INFO:root:Finished Interviewing #swarm-registry
INFO:root:Sat Dec  7 08:54:24 2024
INFO:root:Finished Interviewing #swarm-registry
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2336%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:54:25 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:54:25 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:54:25 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:54:25 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2336%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:54:32 2024
INFO:root:2076957295 (82.0) - Benefits: ['In-unit washer and dryer', 'Close to Central Park', 'Pet-friendly', 'Spacious with high ceilings', 'Stainless steel appliances'] | Drawbacks: ['Higher rent for size', 'Limited school rankings', 'Broker exclusive listing', 'Potential noise from neighbors', 'Photos may not represent current state']
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fce6d7934d0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fce6e7c9940>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2337%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
INFO:root:Sat Dec  7 08:54:51 2024
INFO:root:2103382078 (77.5) - Benefits: ['Spacious one bedroom', 'High ceilings', 'Oversized windows', 'Decorative fireplace', 'No fee rental'] | Drawbacks: ['Higher rent price', 'Broker exclusive listing', 'Limited school rankings', 'Photos may not represent current unit', 'Potential street noise']
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:54:51 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:54:51 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2337%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:54:53 2024
INFO:root:Finished Interviewing #quantum-registry
INFO:root:Sat Dec  7 08:54:53 2024
INFO:root:Finished Interviewing #quantum-registry
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2337%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:54:53 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:54:53 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2337%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:54:54 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 08:54:54 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:54:56 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":4500,"minimum_bathrooms":2,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"Lower East Side"},{"name":"Upper West Side"},{"name":"Tribeca"},{"name":"Soho"}]}
INFO:root:Sat Dec  7 08:54:57 2024
INFO:root:system: This query is too tight - it restricts the set of available apartments too heavily. Try again.
INFO:root:Sat Dec  7 08:54:57 2024
INFO:root:assistant: {"minimum_rent":2000,"maximum_rent":6000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":null}
INFO:root:Sat Dec  7 08:54:57 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:54:58 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":5000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"East Village"},{"name":"Upper West Side"},{"name":"Tribeca"},{"name":"Soho"}]}
INFO:root:Sat Dec  7 08:54:59 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:55:00 2024
INFO:root:assistant: {"minimum_rent":3000,"maximum_rent":5000,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"Upper West Side"},{"name":"Tribeca"}]}
INFO:root:Sat Dec  7 08:55:00 2024
INFO:root:Query Generated: 5 apartments found
INFO:root:Sat Dec  7 08:55:00 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:55:01 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:55:04 2024
INFO:root:2120347822 (75.0) - Benefits: ['Modern design and appliances', 'Ample natural light', 'No broker fee', 'Close to public transport', 'Nearby dining and shopping'] | Drawbacks: ['High monthly rent', 'Limited public school ranking', 'Small size for two bedrooms', 'Possible noise from street', 'No outdoor space']
INFO:root:Sat Dec  7 08:55:11 2024
INFO:root:2108582687 (78.0) - Benefits: ['Full-sized bedrooms with windows', 'Concierge and package service', 'Access to fitness center', 'Common courtyard for relaxing', 'High school with decent ranking'] | Drawbacks: ['Higher monthly rent than others', 'Low ranking for high school', 'No dogs allowed', 'Potentially crowded amenities', 'Possible noise from courtyard']
INFO:root:Sat Dec  7 08:55:15 2024
INFO:root:2062397614 (72.0) - Benefits: ['No broker fee', 'Included heat and hot water', 'Charming historic townhouse', 'Close to Central Park', 'Pets allowed'] | Drawbacks: ['High monthly rent', 'Stairs to fourth floor', 'Limited public school ranking', 'Smaller bedrooms', 'Exposed brick may require upkeep']
INFO:root:Sat Dec  7 08:55:16 2024
INFO:root:2054524243 (72.0) - Benefits: ['Very affordable rent', 'Laundry in home', 'Dishwasher included', 'Flexible lease options', 'Access to local parks and restaurants'] | Drawbacks: ['Limited school rankings', 'Shared living space', '5% broker commission', 'Low ranking for one school', 'Potentially crowded living areas']
INFO:root:Sat Dec  7 08:55:19 2024
INFO:root:2076957295 (76.0) - Benefits: ['Washer and dryer in unit', 'Close to Central Park', 'Pets allowed', 'Natural sunlight throughout', 'Stainless steel appliances'] | Drawbacks: ['Moderate public school rankings', 'High monthly rent', 'Possible noise with three bedrooms', 'No outdoor space', 'Limited public transport options']
INFO:root:Sat Dec  7 08:55:27 2024
INFO:root:2074484112 (74.0) - Benefits: ['Gut renovated with new appliances', 'Heat and hot water included', 'True two bedrooms', 'Close to public transport', 'Flexible lease options'] | Drawbacks: ['Broker fee applies', 'No dogs allowed', 'Stairs to fourth floor', 'Moderate public school ranking', 'Kitchen space might be limited']
INFO:root:Sat Dec  7 08:55:28 2024
INFO:root:COMPLETED: FindBot chose 2108582687, 2076957295, 2120347822, 2074484112, 2062397614
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2338%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:55:34 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 08:55:34 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2338%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 08:55:36 2024
INFO:root:Finished Interviewing #self-adaptive-log
INFO:root:Sat Dec  7 08:55:36 2024
INFO:root:Finished Interviewing #self-adaptive-log
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2338%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 08:55:37 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:55:37 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 08:55:37 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 08:55:37 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2338%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 08:55:37 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 08:55:37 2024
INFO:root:Query is begin generated.
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 08:55:39 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":4500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"East Village"},{"name":"Upper West Side"},{"name":"Chelsea"},{"name":"The Financial District"}]}
INFO:root:Sat Dec  7 08:55:39 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:55:39 2024
INFO:root:2118685933 (78.0) - Benefits: ['Bright and spacious layout', 'Exposed brick design', 'King-size bedroom', 'Views of Tompkins Square Park', 'No fee rental'] | Drawbacks: ['5th floor walk-up', 'Limited school rankings', 'Broker exclusive listing', 'Potential street noise', 'Basic kitchen amenities']
INFO:root:Sat Dec  7 08:55:40 2024
INFO:root:assistant: {"minimum_rent":2000,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"East Village"},{"name":"Upper West Side"},{"name":"Chelsea"}]}
INFO:root:Sat Dec  7 08:55:40 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:55:40 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":4000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"Upper West Side"}]}
INFO:root:Sat Dec  7 08:55:40 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:55:41 2024
INFO:root:assistant: {"minimum_rent":2700,"maximum_rent":3200,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"}]}
INFO:root:Sat Dec  7 08:55:41 2024
INFO:root:system: This query is too tight - it restricts the set of available apartments too heavily. Try again.
INFO:root:Sat Dec  7 08:55:42 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"Upper West Side"},{"name":"East Village"}]}
INFO:root:Sat Dec  7 08:55:42 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 08:55:42 2024
INFO:root:Failed to find an appropraite apartment set after 5 tries, returning 23 entries
INFO:root:Sat Dec  7 08:55:42 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 08:55:43 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 08:55:47 2024
INFO:root:2114589240 (73.5) - Benefits: ['Cozy and thoughtfully designed', 'Fully-equipped kitchen', 'Flexible lease options', 'Pets allowed', 'Convenient East Village location'] | Drawbacks: ['High monthly rent', 'Walk-up building', 'Potential for noise', 'Limited nearby transit options', 'Broker fees might apply']
INFO:root:Sat Dec  7 08:55:51 2024
INFO:root:2120347822 (78.0) - Benefits: ['Spacious two-bedroom layout', 'Modern kitchen with appliances', 'Ample natural light', 'Convenient Manhattan Valley location', 'No broker fee'] | Drawbacks: ['High monthly rent', 'Limited nearby school rankings', 'Potential street noise', 'No specified laundry facilities', 'Public transport might be crowded']
INFO:root:Sat Dec  7 08:55:55 2024
INFO:root:2113851994 (75.0) - Benefits: ['Prime East Village location', 'No broker fee', 'Shared roof deck views', 'Stainless steel appliances', 'Ample closet space'] | Drawbacks: ['High monthly rent', 'Limited bedroom size', 'Potential noise from street', 'Occupied until end of November', 'Photos of similar unit']
INFO:root:Sat Dec  7 08:56:04 2024
INFO:root:2094388869 (81.0) - Benefits: ['Private garden space', 'Two full bathrooms', 'Heat and hot water included', 'Renovated prewar charm', 'Laundry in building'] | Drawbacks: ['High monthly rent', 'Potential for limited natural light', 'Broker exclusive might limit viewings', 'Small bedroom size', 'Garden maintenance responsibility']
INFO:root:Sat Dec  7 08:56:07 2024
INFO:root:2107204311 (79.0) - Benefits: ['Renovated and sun-drenched', 'Two bedrooms available', 'In-unit dishwasher', 'Laundry in building', 'Great East Village location'] | Drawbacks: ['Broker exclusive listing', 'Limited school rankings', 'Potentially small bedrooms', 'Higher rent for size', 'Basic amenities']
INFO:root:Sat Dec  7 08:56:08 2024
INFO:root:FAILED: Error code: 400 - {'error': {'message': 'Too many images in request: 251, maximum allowed: 250.', 'type': 'invalid_request_error', 'param': None, 'code': None}}
INFO:root:Sat Dec  7 08:56:08 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 46, in _select
    ranker = Ranker(iv)
         ^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 79, in rank_all
    rnk = await self.rank(listing)
          ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 61, in rank
    self.user(listing_message, noteworthy=False)
                                            ^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 59, in rank
    }
      
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/textagent.py", line 94, in generate_to_spec
    self.utter(message, noteworthy=noteworthy)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 427, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1839, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1533, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1634, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': 'Too many images in request: 251, maximum allowed: 250.', 'type': 'invalid_request_error', 'param': None, 'code': None}}

INFO:root:Sat Dec  7 08:56:11 2024
INFO:root:2118755854 (76.5) - Benefits: ['Brand new renovations', 'Prime East Village location', 'No broker fee', 'In-unit dishwasher', 'Laundry in building'] | Drawbacks: ['High monthly rent', 'Small school rankings', 'Walk-up may be inconvenient', 'Limited transit options nearby', 'Potential noise from street']
INFO:root:Sat Dec  7 08:56:16 2024
INFO:root:2075309157 (79.5) - Benefits: ['Recent total gut renovation', 'Bright and spacious layout', 'High ceilings and oak floors', 'In-unit dishwasher and microwave', 'Prime East Village location'] | Drawbacks: ['High monthly rent', 'Broker exclusive may limit access', 'No pets allowed', 'Limited school rankings', 'Potential street noise']
INFO:root:Sat Dec  7 08:56:23 2024
INFO:root:2125096521 (80.0) - Benefits: ['Prime Upper East Side location', 'Close to Central Park', 'Newly renovated kitchen', 'Ample storage space', 'High school rankings are excellent'] | Drawbacks: ['High monthly rent', 'Broker exclusive may limit viewings', 'Potential for street noise', 'Limited public transportation options', 'Decorative fireplace might not be functional']
INFO:root:Sat Dec  7 08:56:31 2024
INFO:root:2108582687 (78.0) - Benefits: ['True 2-bedroom layout', 'Convenient Lincoln Center location', 'On-site fitness center', '24/7 concierge service', 'Laundry in every building'] | Drawbacks: ['High monthly rent', 'Limited school rankings', 'No dogs allowed', 'Broker exclusive may limit access', 'Potential street noise']
INFO:root:Sat Dec  7 08:56:44 2024
INFO:root:2100070890 (76.0) - Benefits: ['Prime Upper West Side location', 'Close to Central Park', 'Spacious living room', 'Elevator building', 'Laundry facilities on-site'] | Drawbacks: ['High monthly rent', 'Limited school rankings', 'Broker exclusive may restrict access', 'Potential street noise', 'Small bedroom size']
INFO:root:Sat Dec  7 08:56:52 2024
INFO:root:2084377010 (74.0) - Benefits: ['True 1BR layout', 'Convenient West Side location', 'On-site fitness center', 'Laundry in every building', '24/7 concierge service'] | Drawbacks: ['Broker fee applies', 'Dogs not allowed', 'High monthly rent', 'Potential street noise', 'Limited school rankings']
INFO:root:Sat Dec  7 08:57:03 2024
INFO:root:2067622343 (75.0) - Benefits: ['Affordable rent', 'Heat and hot water included', 'Prime East Village location', "Close to Trader Joe's and Target", 'Cats allowed, dogs not'] | Drawbacks: ['Broker exclusive listing', 'Potential for street noise', 'Older building condition', 'Limited nearby school rankings', 'Small living space']
INFO:root:Sat Dec  7 08:57:16 2024
INFO:root:2076957295 (82.0) - Benefits: ['Bright and spacious layout', 'Washer and dryer in unit', 'Close to Central Park', 'Pet-friendly', 'No broker fee'] | Drawbacks: ['High monthly rent', 'Limited school rankings', 'Potential street noise', 'Older building condition', 'May require roommate arrangements']
INFO:root:Sat Dec  7 08:57:30 2024
INFO:root:2103382078 (76.5) - Benefits: ['Spacious one-bedroom layout', 'High ceilings and oversized windows', 'Decorative fireplace adds charm', 'No broker fee', 'Good school rankings nearby'] | Drawbacks: ['High monthly rent', 'Limited kitchen space', 'Potential street noise', 'Older building condition', 'No in-unit laundry']
INFO:root:Sat Dec  7 08:57:59 2024
INFO:root:2118685933 (78.0) - Benefits: ['Super bright with large windows', 'King-sized bedroom', 'Exposed brick charm', 'Dishwasher in kitchen', 'Across from Tompkins Square Park'] | Drawbacks: ['High monthly rent', 'Walk-up building may be inconvenient', 'Limited school rankings', 'Potential street noise', 'No in-unit laundry']
INFO:root:Sat Dec  7 08:58:14 2024
INFO:root:2107204311 (76.0) - Benefits: ['Renovated flexed two-bedroom', 'Sun-drenched with modern finishes', 'Dishwasher and laundry in building', 'Prime East Village location', 'Secure building with key entry'] | Drawbacks: ['High monthly rent', 'Broker exclusive may limit access', 'Limited school rankings', 'Possibility of small bedroom sizes', 'Available starting January 1st']
INFO:root:Sat Dec  7 08:58:35 2024
INFO:root:2114501637 (75.0) - Benefits: ['Affordable rent', 'Spacious layout', 'Large windows with natural light', 'Prime Hudson Yards location', 'Nearby schools with good rankings'] | Drawbacks: ['Broker exclusive may limit access', 'Potential street noise', 'Older building condition', 'No in-unit laundry', 'Limited high-end amenities']
INFO:root:Sat Dec  7 08:58:50 2024
INFO:root:2103872242 (74.5) - Benefits: ['Affordable rent', 'Spacious living room', 'Modern kitchen appliances', 'Close to NYU and stores', 'Fireplace adds charm'] | Drawbacks: ['Broker exclusive may limit access', 'Limited high school ranking', 'Potential for street noise', 'Smaller bedroom size', 'Older building condition']
INFO:root:Sat Dec  7 08:59:12 2024
INFO:root:2131131099 (79.0) - Benefits: ['Thoughtfully furnished', 'In-unit laundry', 'No broker fee', 'Flexible lease options', 'Prime East Village location'] | Drawbacks: ['High monthly rent', 'Potential noise from street', 'Walk-up building', 'Limited nearby school rankings', 'Broker exclusive restrictions']
INFO:root:Sat Dec  7 08:59:28 2024
INFO:root:55500811 (78.0) - Benefits: ['Bright and spacious layout', "Large windowed chef's kitchen", 'Three sizable closets', 'Common roof terrace', 'Elevator building with amenities'] | Drawbacks: ['High monthly rent', 'Broker exclusive may limit access', 'Limited school rankings', 'Potential street noise', 'May have smaller living area']
INFO:root:Sat Dec  7 08:59:48 2024
INFO:root:2126880660 (76.0) - Benefits: ['Bright and quiet atmosphere', 'Good natural lighting', 'Separate kitchen with ample storage', 'Large closet in bedroom', 'Elevator building with laundry'] | Drawbacks: ['High monthly rent', 'Broker exclusive may limit access', 'Limited school rankings', 'Visuals may not be accurate', 'Potential noise from courtyard']
INFO:root:Sat Dec  7 09:00:04 2024
INFO:root:2122153516 (77.5) - Benefits: ['Large loft-like layout', 'Charming pre-war features', 'Windowed kitchen with dishwasher', 'Close to grocery stores', 'No broker fee'] | Drawbacks: ['High monthly rent', 'Limited nearby school rankings', 'Potential for street noise', 'Smaller bedrooms', 'Broker exclusive may limit access']
INFO:root:Sat Dec  7 09:00:28 2024
INFO:root:124011772 (75.0) - Benefits: ['Affordable rent', 'New kitchen renovation', 'Close to Central Park', 'Elevator and laundry in building', 'Charming stained glass door'] | Drawbacks: ['Limited high school ranking', 'Broker exclusive may limit access', 'Potential noise from street', 'Older building condition', 'Smaller bedroom size']
INFO:root:Sat Dec  7 09:00:45 2024
INFO:root:2074484112 (74.5) - Benefits: ['Gut renovated with new appliances', 'Heat and hot water included', 'Two true bedrooms', 'Close to public transportation', 'Flexible lease options'] | Drawbacks: ['High monthly rent', 'Broker fee applies', 'Walk-up may be inconvenient', 'No dogs allowed', 'Limited school rankings']
INFO:root:Sat Dec  7 09:00:45 2024
INFO:root:COMPLETED: FindBot chose 2076957295, 2094388869, 2125096521, 2075309157, 2131131099
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2339%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:01:00 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 09:01:00 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2339%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:01:02 2024
INFO:root:Finished Interviewing #optimized-pipeline
INFO:root:Sat Dec  7 09:01:02 2024
INFO:root:Finished Interviewing #optimized-pipeline
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2339%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 09:01:02 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 09:01:02 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 09:01:02 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 09:01:02 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2339%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
INFO:root:Sat Dec  7 09:01:03 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 09:01:03 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 09:01:03 2024
INFO:root:Query is begin generated.
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 09:01:03 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 36, in _select
EOFError: Ran out of input

INFO:root:Sat Dec  7 09:01:04 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":4500,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"Lower East Side"},{"name":"Hell's Kitchen"}]}
INFO:root:Sat Dec  7 09:01:05 2024
INFO:root:Query Generated: 9 apartments found
INFO:root:Sat Dec  7 09:01:05 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 09:01:06 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 09:01:09 2024
INFO:root:2102176481 (72.5) - Benefits: ['Cozy converted layout', 'Heating included in rent', 'Close to Broadway theaters', 'Nearby restaurants and shops', 'Laundry in building next door'] | Drawbacks: ['High monthly rent', 'Limited natural light', 'Small living space', 'No in-unit laundry', 'Public school rankings are low']
INFO:root:Sat Dec  7 09:01:12 2024
INFO:root:2124688222 (78.0) - Benefits: ['Spacious living room', 'Large bedrooms', 'Dishwasher included', 'Close to NYU', 'Nearby restaurants and bars'] | Drawbacks: ['High monthly rent', 'Photos are of similar unit', 'Potential noise from nearby nightlife', 'Limited privacy in some areas', 'Less cozy compared to other units']
INFO:root:Sat Dec  7 09:01:17 2024
INFO:root:2088380402 (74.0) - Benefits: ['Gorgeous renovated apartment', 'Lots of sunlight', 'Full open kitchen', 'No fee and incentives', 'Laundry facilities in building'] | Drawbacks: ['High rental price', 'Limited lease duration', 'Nearby schools have low rankings', 'King-sized bedroom may feel cramped', 'Potential noise from busy area']
INFO:root:Sat Dec  7 09:01:21 2024
INFO:root:2105597827 (81.5) - Benefits: ['Luxury amenities and concierge', 'Gorgeous roof deck with views', 'In-unit washer-dryer', 'Spacious open living area', 'Pet-friendly and shares allowed'] | Drawbacks: ['High monthly rent', 'No bedroom closets', 'Nearby schools have low rankings', 'Potential noise from street', 'Limited privacy near amenities']
INFO:root:Sat Dec  7 09:01:27 2024
INFO:root:2123736978 (76.5) - Benefits: ['In-unit washer and dryer', 'Exposed brick and high ceilings', 'Stainless steel appliances', 'Great for entertaining', 'No fee for rental'] | Drawbacks: ['High monthly rent', 'Low public school rankings', 'Limited closet space in bedrooms', 'Possible noise from street', 'Tight living space overall']
INFO:root:Sat Dec  7 09:01:35 2024
INFO:root:2112818286 (75.0) - Benefits: ['Duplex layout with modern design', 'Lots of natural light', 'Jacuzzi bathtub in bathroom', 'Walking distance to Central Park', 'Convenient access to public transport'] | Drawbacks: ['High monthly rent', 'Broker fees apply', 'Low school rankings nearby', 'No pets allowed', 'Possibly noisy urban environment']
INFO:root:Sat Dec  7 09:01:41 2024
INFO:root:2115487014 (77.0) - Benefits: ["No broker's fee", 'High school ranking is good', 'Renovated kitchen with stainless steel', 'Close to parks and transport', 'Located in vibrant neighborhood'] | Drawbacks: ['Moderate monthly rent', 'Bedrooms may be cramped', 'Limited storage space', 'Public school rankings vary', 'Could be noisy due to nightlife']
INFO:root:Sat Dec  7 09:01:51 2024
INFO:root:2077005683 (78.0) - Benefits: ['Washer/dryer in apartment', 'Large living room space', 'Fitness room and roof terrace', 'Garage parking available', 'High school ranking is good'] | Drawbacks: ['High monthly rent', 'Broker exclusive listing', 'Flex wall could limit space', 'Less character than older units', 'Limited public school rankings']
INFO:root:Sat Dec  7 09:02:00 2024
INFO:root:2076849707 (76.0) - Benefits: ['No broker fee', 'Newly renovated duplex', 'Ample natural light', 'Laundry in building', 'Close to subway and amenities'] | Drawbacks: ['Moderate monthly rent', 'Low school rankings nearby', 'No pets allowed', 'Potential noise from street', 'Limited character compared to older units']
INFO:root:Sat Dec  7 09:02:00 2024
INFO:root:COMPLETED: FindBot chose 2105597827, 2124688222, 2077005683, 2115487014, 2123736978
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2340%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:02:41 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 09:02:41 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2340%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
ERROR:livekit.plugins.openai.realtime:response generation failed
ERROR:livekit.plugins.openai.realtime:response generation failed
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:02:53 2024
INFO:root:Finished Interviewing #efficient-node
INFO:root:Sat Dec  7 09:02:53 2024
INFO:root:Finished Interviewing #efficient-node
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2340%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 09:02:53 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 09:02:53 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2340%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 09:02:54 2024
INFO:root:FAILED: Expecting value: line 1 column 1 (char 0)
INFO:root:Sat Dec  7 09:02:54 2024
INFO:root:FAILED: invalid load key, '['.
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 09:02:54 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 37, in _async_select
    (convo, num) = json.load(fifo)
                   ^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 293, in load
    return loads(fp.read(),
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

INFO:root:Sat Dec  7 09:02:55 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 36, in _select
_pickle.UnpicklingError: invalid load key, '['.

INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2341%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:02:58 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 09:02:58 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2341%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
ERROR:livekit.plugins.openai.realtime:response generation failed
ERROR:livekit.plugins.openai.realtime:response generation failed
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:03:18 2024
INFO:root:Finished Interviewing #interoperable-wireframe
INFO:root:Sat Dec  7 09:03:18 2024
INFO:root:Finished Interviewing #interoperable-wireframe
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2341%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 09:03:19 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 09:03:19 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2341%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 09:03:19 2024
INFO:root:FAILED: Expecting value: line 1 column 1 (char 0)
INFO:root:Sat Dec  7 09:03:19 2024
INFO:root:FAILED: invalid load key, '['.
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
INFO:root:Sat Dec  7 09:03:20 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 37, in _async_select
    (convo, num) = json.load(fifo)
                   ^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 293, in load
    return loads(fp.read(),
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

INFO:root:Sat Dec  7 09:03:20 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 36, in _select
_pickle.UnpicklingError: invalid load key, '['.

DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2342%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:03:23 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 09:03:23 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2342%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
ERROR:livekit.plugins.openai.realtime:response generation failed
ERROR:livekit.plugins.openai.realtime:response generation failed
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:05:03 2024
INFO:root:Finished Interviewing #robotic-opcode
INFO:root:Sat Dec  7 09:05:03 2024
INFO:root:Finished Interviewing #robotic-opcode
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2342%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 09:05:04 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 09:05:04 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2342%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 09:05:04 2024
INFO:root:FAILED: invalid load key, '['.
INFO:root:Sat Dec  7 09:05:04 2024
INFO:root:FAILED: Expecting value: line 1 column 1 (char 0)
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 09:05:05 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 36, in _select
_pickle.UnpicklingError: invalid load key, '['.

INFO:root:Sat Dec  7 09:05:05 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 37, in _async_select
    (convo, num) = json.load(fifo)
                   ^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 293, in load
    return loads(fp.read(),
           ^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2343%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:05:25 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 09:05:25 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2343%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
ERROR:livekit.plugins.openai.realtime:response generation failed
ERROR:livekit.plugins.openai.realtime:response generation failed
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:05:52 2024
INFO:root:Finished Interviewing #robotic-query
INFO:root:Sat Dec  7 09:05:52 2024
INFO:root:Finished Interviewing #robotic-query
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2343%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 09:05:52 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 09:05:52 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2343%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 09:05:52 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 09:05:52 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 09:05:53 2024
INFO:root:Query is begin generated.
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 09:05:53 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 36, in _select
EOFError: Ran out of input

INFO:root:Sat Dec  7 09:06:14 2024
INFO:root:FAILED: RetryError[<Future at 0x7f043e451910 state=finished raised RateLimitError>]
INFO:root:Sat Dec  7 09:06:15 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/textagent.py", line 116, in _generate_to_spec
    completion = await client.beta.chat.completions.parse(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 427, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1839, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1533, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1619, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1666, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1619, in _request
    return await self._retry_request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1666, in _retry_request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1634, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 44, in _async_select
    listings = await programmer.query(dataset)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/programmer.py", line 83, in query
    qry = await self.write_query()
          ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/programmer.py", line 65, in write_query
    parse = await self.generate_to_spec(ApartmentQuery)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/textagent.py", line 113, in generate_to_spec
    return await self.query_retry()(self._generate_to_spec)(fmt, noteworthy)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/_utils.py", line 99, in inner
    return call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x7f043e451910 state=finished raised RateLimitError>]

ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f0440ab7440>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f0440ab6c90>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2344%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:19:13 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 09:19:13 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2344%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:81> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.34 seconds
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:81> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.34 seconds
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
ERROR:livekit.plugins.openai.realtime:response generation failed
ERROR:livekit.plugins.openai.realtime:response generation failed
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:19:54 2024
INFO:root:Finished Interviewing #emergent-firewall
INFO:root:Sat Dec  7 09:19:54 2024
INFO:root:Finished Interviewing #emergent-firewall
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2344%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 09:19:55 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 09:19:55 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2344%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 09:19:55 2024
INFO:root:FAILED: invalid load key, '['.
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 09:19:56 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 36, in _select
_pickle.UnpicklingError: invalid load key, '['.

INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2345%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:21:01 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 09:21:01 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2345%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
ERROR:livekit.plugins.openai.realtime:response generation failed
ERROR:livekit.plugins.openai.realtime:response generation failed
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f563b3ab290>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f563b3ab0b0>
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:21:21 2024
INFO:root:Finished Interviewing #self-adaptive-matrix
INFO:root:Sat Dec  7 09:21:21 2024
INFO:root:Finished Interviewing #self-adaptive-matrix
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2345%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 09:21:21 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 09:21:21 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2345%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 09:21:22 2024
INFO:root:FAILED: invalid load key, '['.
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 09:21:22 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/./findbot.py", line 36, in _select
_pickle.UnpicklingError: invalid load key, '['.

DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2346%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:21:41 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 09:21:41 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2346%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
ERROR:livekit.plugins.openai.realtime:response generation failed
ERROR:livekit.plugins.openai.realtime:response generation failed
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:22:26 2024
INFO:root:Finished Interviewing #digital-quantum
INFO:root:Sat Dec  7 09:22:26 2024
INFO:root:Finished Interviewing #digital-quantum
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2346%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 09:22:26 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 09:22:26 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2346%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 09:22:27 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 09:22:27 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2347%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:25:51 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 09:25:51 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2347%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
ERROR:livekit.plugins.openai.realtime:response generation failed
ERROR:livekit.plugins.openai.realtime:response generation failed
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 09:26:00 2024
INFO:root:Finished Interviewing #binary-cluster
INFO:root:Sat Dec  7 09:26:00 2024
INFO:root:Finished Interviewing #binary-cluster
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2347%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 09:26:00 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 09:26:00 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2347%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
INFO:livekit:livekit::room:1129:livekit::room - disconnected from room with reason: ClientInitiated
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 09:26:01 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 09:26:01 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7feaf8abb260>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7feaf981f5c0>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2348%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 10:37:46 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 10:37:46 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2348%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:81> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.19 seconds
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:81> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.19 seconds
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
ERROR:livekit.plugins.openai.realtime:response generation failed
ERROR:livekit.plugins.openai.realtime:response generation failed
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 10:37:58 2024
INFO:root:Finished Interviewing #responsive-git
INFO:root:Sat Dec  7 10:37:58 2024
INFO:root:Finished Interviewing #responsive-git
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2348%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 10:37:58 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 10:37:58 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2348%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 10:37:59 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 10:37:59 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 10:38:01 2024
INFO:root:assistant: {"minimum_rent":2000,"maximum_rent":4500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"The Financial District"},{"name":"Upper West Side"},{"name":"Greenwich Village"}]}
INFO:root:Sat Dec  7 10:38:02 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 10:38:03 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":4000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"The Financial District"}]}
INFO:root:Sat Dec  7 10:38:03 2024
INFO:root:Query Generated: 4 apartments found
INFO:root:Sat Dec  7 10:38:04 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 10:38:04 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 10:38:08 2024
INFO:root:109168447 (72.5) - Benefits: ['Prime West Village location', 'Spacious loft-style design', 'Abundant natural light', 'Gourmet kitchen amenities', 'Walk-in closet in bedroom'] | Drawbacks: ['Price may be too high', 'No pets allowed', 'Limited nearby school rankings', 'Shared laundry facilities', 'Small overall size']
INFO:root:Sat Dec  7 10:38:11 2024
INFO:root:2103407621 (68.5) - Benefits: ['Bright and spacious layout', 'High ceilings and hardwood floors', 'Oversized windows for light', 'Convenient laundry facilities', 'Close to major subway lines'] | Drawbacks: ['Moderate nearby school rankings', 'No pets allowed', 'Price may still feel high', 'No amenities beyond laundry', 'Small overall size']
INFO:root:Sat Dec  7 10:38:16 2024
INFO:root:2114501637 (75.0) - Benefits: ['Affordable price for Manhattan', 'Spacious one-bedroom layout', 'Large windows for natural light', 'Exposed brick for character', 'Great location near amenities'] | Drawbacks: ['Limited nearby school rankings', 'Basic kitchen finishes', 'Older building features', 'No luxury amenities', 'Street noise may be an issue']
INFO:root:Sat Dec  7 10:38:21 2024
INFO:root:ERROR: Could not generate spec: 
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f163c0a3a10>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7f163c74c230>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2349%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 11:34:28 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 11:34:29 2024
INFO:root:Query is begin generated.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2349%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Helper-Method': 'beta.chat.completions.parse'}, 'files': None, 'post_parser': <function AsyncCompletions.parse.<locals>.parser at 0x7fec961009a0>, 'json_data': {'messages': [{'role': 'assistant', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'user', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'assistant', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'user', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'assistant', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'user', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'assistant', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'user', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'assistant', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'user', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'assistant', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'user', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'system', 'content': '\nYour interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.\n    '}], 'model': 'gpt-4o', 'response_format': {'type': 'json_schema', 'json_schema': {'schema': {'$defs': {'Neighborhood': {'description': 'A neighborhood, district, or general area in Manhattan.', 'properties': {'name': {'description': "The name of the neighborhood. For example, 'Chelsea', 'The Financial District', 'Chinatown', etc", 'title': 'Name', 'type': 'string'}}, 'required': ['name'], 'title': 'Neighborhood', 'type': 'object', 'additionalProperties': False}}, 'properties': {'minimum_rent': {'description': 'The minimum rent the user is willing to pay. This should never be negative.', 'title': 'Minimum Rent', 'type': 'integer'}, 'maximum_rent': {'anyOf': [{'type': 'integer'}, {'type': 'null'}], 'description': 'The maximum rent the user is willing to pay or `null` if there is no maximum. This should never be negative.', 'title': 'Maximum Rent'}, 'minimum_bathrooms': {'description': 'The minimum number of bathrooms the user wants in their apartment. This should never be negative.', 'title': 'Minimum Bathrooms', 'type': 'integer'}, 'minimum_bedrooms': {'description': 'The minimum number of bedrooms the user wants in their apartment. This should never be negative.', 'title': 'Minimum Bedrooms', 'type': 'integer'}, 'neighborhoods': {'anyOf': [{'items': {'$ref': '#/$defs/Neighborhood'}, 'type': 'array'}, {'type': 'null'}], 'description': 'A complete list of neighborhoods in which the user may be interested or `null` if the user has no specific neighborhood in mind.', 'title': 'Neighborhoods'}}, 'required': ['minimum_rent', 'maximum_rent', 'minimum_bathrooms', 'minimum_bedrooms', 'neighborhoods'], 'title': 'ApartmentQuery', 'type': 'object', 'additionalProperties': False}, 'name': 'ApartmentQuery', 'strict': True}}, 'stream': False}}
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fec93d73710>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7fec994165d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fec966c9be0>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 07 Dec 2024 16:34:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-n2gi24wc4tyfk4wl3z8y9dao'), (b'openai-processing-ms', b'1004'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'799318'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'51ms'), (b'x-request-id', b'req_1d36db54617fbcfd4941a52814ccc119'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=V5CSV.oa0_46egrE5WbjjUOWv6dLp7NmRRlqVqjATp0-1733589270-1.0.1.1-k99hW2l2_3FdW.W5IyvsjGF7nBnEA0VXaUNYhWGHoHeeb6F8zHGhefPkh3xV_CeO8OV5gsasohBWrfoaSVUACw; path=/; expires=Sat, 07-Dec-24 17:04:30 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=Zs2sJP7MKrse0y4BV85HxOIe92UTqBaUx7Gl53zjyYA-1733589270553-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8ee5ec6658188c36-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
INFO:root:Sat Dec  7 11:34:30 2024
INFO:root:assistant: {"minimum_rent":2000,"maximum_rent":5000,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"West Village"}]}
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): maps.googleapis.com:443
DEBUG:urllib3.connectionpool:https://maps.googleapis.com:443 "GET /maps/api/geocode/json?address=Chelsea&components=country%3AUS%7Clocality%3ANew+York+City&key=AIzaSyDNESZbDCZDP9ggXIJj6SteoutblgI-gw4 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://maps.googleapis.com:443 "GET /maps/api/geocode/json?address=West+Village&components=country%3AUS%7Clocality%3ANew+York+City&key=AIzaSyDNESZbDCZDP9ggXIJj6SteoutblgI-gw4 HTTP/11" 200 None
INFO:root:Sat Dec  7 11:34:31 2024
INFO:root:system: This query is too tight - it restricts the set of available apartments too heavily. Try again.
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Helper-Method': 'beta.chat.completions.parse'}, 'files': None, 'post_parser': <function AsyncCompletions.parse.<locals>.parser at 0x7fec96181a80>, 'json_data': {'messages': [{'role': 'assistant', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'user', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'assistant', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'user', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'assistant', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'user', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'assistant', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'user', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'assistant', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'user', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'assistant', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'user', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'system', 'content': '\nYour interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.\n    '}, {'role': 'assistant', 'content': '{"minimum_rent":2000,"maximum_rent":5000,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"West Village"}]}'}, {'role': 'system', 'content': 'This query is too tight - it restricts the set of available apartments too heavily. Try again.'}], 'model': 'gpt-4o', 'response_format': {'type': 'json_schema', 'json_schema': {'schema': {'$defs': {'Neighborhood': {'description': 'A neighborhood, district, or general area in Manhattan.', 'properties': {'name': {'description': "The name of the neighborhood. For example, 'Chelsea', 'The Financial District', 'Chinatown', etc", 'title': 'Name', 'type': 'string'}}, 'required': ['name'], 'title': 'Neighborhood', 'type': 'object', 'additionalProperties': False}}, 'properties': {'minimum_rent': {'description': 'The minimum rent the user is willing to pay. This should never be negative.', 'title': 'Minimum Rent', 'type': 'integer'}, 'maximum_rent': {'anyOf': [{'type': 'integer'}, {'type': 'null'}], 'description': 'The maximum rent the user is willing to pay or `null` if there is no maximum. This should never be negative.', 'title': 'Maximum Rent'}, 'minimum_bathrooms': {'description': 'The minimum number of bathrooms the user wants in their apartment. This should never be negative.', 'title': 'Minimum Bathrooms', 'type': 'integer'}, 'minimum_bedrooms': {'description': 'The minimum number of bedrooms the user wants in their apartment. This should never be negative.', 'title': 'Minimum Bedrooms', 'type': 'integer'}, 'neighborhoods': {'anyOf': [{'items': {'$ref': '#/$defs/Neighborhood'}, 'type': 'array'}, {'type': 'null'}], 'description': 'A complete list of neighborhoods in which the user may be interested or `null` if the user has no specific neighborhood in mind.', 'title': 'Neighborhoods'}}, 'required': ['minimum_rent', 'maximum_rent', 'minimum_bathrooms', 'minimum_bedrooms', 'neighborhoods'], 'title': 'ApartmentQuery', 'type': 'object', 'additionalProperties': False}, 'name': 'ApartmentQuery', 'strict': True}}, 'stream': False}}
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 07 Dec 2024 16:34:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-n2gi24wc4tyfk4wl3z8y9dao'), (b'openai-processing-ms', b'564'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'799255'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'55ms'), (b'x-request-id', b'req_1f2eb6c1380b81004ea55e03a140e763'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8ee5ec70bc398c36-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
INFO:root:Sat Dec  7 11:34:31 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":6000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":null}
INFO:root:Sat Dec  7 11:34:31 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Helper-Method': 'beta.chat.completions.parse'}, 'files': None, 'post_parser': <function AsyncCompletions.parse.<locals>.parser at 0x7fec96144180>, 'json_data': {'messages': [{'role': 'assistant', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'user', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'assistant', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'user', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'assistant', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'user', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'assistant', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'user', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'assistant', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'user', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'assistant', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'user', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'system', 'content': '\nYour interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.\n    '}, {'role': 'assistant', 'content': '{"minimum_rent":2000,"maximum_rent":5000,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"West Village"}]}'}, {'role': 'system', 'content': 'This query is too tight - it restricts the set of available apartments too heavily. Try again.'}, {'role': 'assistant', 'content': '{"minimum_rent":1500,"maximum_rent":6000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":null}'}, {'role': 'system', 'content': "This query is too loose - it doesn't restrict the set of available apartments enough. Try again."}], 'model': 'gpt-4o', 'response_format': {'type': 'json_schema', 'json_schema': {'schema': {'$defs': {'Neighborhood': {'description': 'A neighborhood, district, or general area in Manhattan.', 'properties': {'name': {'description': "The name of the neighborhood. For example, 'Chelsea', 'The Financial District', 'Chinatown', etc", 'title': 'Name', 'type': 'string'}}, 'required': ['name'], 'title': 'Neighborhood', 'type': 'object', 'additionalProperties': False}}, 'properties': {'minimum_rent': {'description': 'The minimum rent the user is willing to pay. This should never be negative.', 'title': 'Minimum Rent', 'type': 'integer'}, 'maximum_rent': {'anyOf': [{'type': 'integer'}, {'type': 'null'}], 'description': 'The maximum rent the user is willing to pay or `null` if there is no maximum. This should never be negative.', 'title': 'Maximum Rent'}, 'minimum_bathrooms': {'description': 'The minimum number of bathrooms the user wants in their apartment. This should never be negative.', 'title': 'Minimum Bathrooms', 'type': 'integer'}, 'minimum_bedrooms': {'description': 'The minimum number of bedrooms the user wants in their apartment. This should never be negative.', 'title': 'Minimum Bedrooms', 'type': 'integer'}, 'neighborhoods': {'anyOf': [{'items': {'$ref': '#/$defs/Neighborhood'}, 'type': 'array'}, {'type': 'null'}], 'description': 'A complete list of neighborhoods in which the user may be interested or `null` if the user has no specific neighborhood in mind.', 'title': 'Neighborhoods'}}, 'required': ['minimum_rent', 'maximum_rent', 'minimum_bathrooms', 'minimum_bedrooms', 'neighborhoods'], 'title': 'ApartmentQuery', 'type': 'object', 'additionalProperties': False}, 'name': 'ApartmentQuery', 'strict': True}}, 'stream': False}}
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 07 Dec 2024 16:34:32 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-n2gi24wc4tyfk4wl3z8y9dao'), (b'openai-processing-ms', b'975'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'800000'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'799204'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'59ms'), (b'x-request-id', b'req_818f7e84b0851ab8a47852df3c0ccc16'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8ee5ec7539728c36-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
INFO:root:Sat Dec  7 11:34:32 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":5500,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"West Village"},{"name":"Greenwich Village"}]}
DEBUG:urllib3.connectionpool:https://maps.googleapis.com:443 "GET /maps/api/geocode/json?address=Greenwich+Village&components=country%3AUS%7Clocality%3ANew+York+City&key=AIzaSyDNESZbDCZDP9ggXIJj6SteoutblgI-gw4 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 11:34:33 2024
INFO:root:Query Generated: 5 apartments found
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2349%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 11:34:33 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 11:34:34 2024
INFO:root:Started Ranking
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2349%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Helper-Method': 'beta.chat.completions.parse'}, 'files': None, 'post_parser': <function AsyncCompletions.parse.<locals>.parser at 0x7fec96147b00>, 'json_data': {'messages': [{'role': 'assistant', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'user', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'assistant', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'user', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'assistant', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'user', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'assistant', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'user', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'assistant', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'user', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'assistant', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'user', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'system', 'content': "\nYour interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.\n"}, {'role': 'user', 'content': [{'type': 'text', 'text': '\n        Address: 412 W 36th St APT 4B, 10018\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 5500\n        \n        Features:\n        - Patio & porch: Deck\n- Exterior features: Fios Available,No Fee,Package Receiving,Parking,Roofdeck\n- Has view: Yes\n- View description: City View\n        \n        Nearby Schools:\n        - P.S. 51 Elias Howe - Public Primary school, grades PK-5. Ranking: 7\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- Satellite Academy High School - Public High school, grades 9-12. Ranking: 1\n        Listing Description: 412 West 36 St. off 9th Avenue, NY, NY 10018\nMIDTOWN WEST & HUDSON YARDS Location\n-New Fully Renovated Walkup Building\n TWO Bedroom Furnished Luxury Apartment: \n- Available for flexible term rental\n- Minimalist Modern Style\n- Each Bedroom has a Queen Bed, a dresser, night table and closet, desk & chair\n- Plus Sofa Bed in the Living Room\n- Includes all Bedding, Towels and Kitchenware\n- Stainless Steel Kitchen with Dishwasher & Microwave\n- Bosch Washer&Dryer in the Apt.\n- Individual Mitsubishi A/C & Heat Control\n- Apple TV and High Speed Wifi \n- Community Building Roof Deck with breathtaking views\n        '}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/e5ceee15870327691fdb0b19fb882d6a-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/7f9609da2eab22eb45e0fc2bcbfb743a-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/55286d971654b96d6590272076b437ff-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/1e6539b182c72e7dc9312000311b3d8e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/b1dc965b11e504ec9ebd2e00d95fe488-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/14cef804398ca67596ba65fdff8c6d23-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/81e471f630e3f911e5d88522be8043ef-cc_ft_384.jpg', 'detail': 'low'}}]}], 'model': 'gpt-4o-mini', 'response_format': {'type': 'json_schema', 'json_schema': {'schema': {'properties': {'benefits': {'description': 'Things the user would like about this apartment, each five words or fewer.', 'items': {'type': 'string'}, 'title': 'Benefits', 'type': 'array'}, 'drawbacks': {'description': 'Things the user would dislike about this apartment, each five words or fewer.', 'items': {'type': 'string'}, 'title': 'Drawbacks', 'type': 'array'}, 'final_score': {'description': 'A score representing how interested the user would be in this apartment, on a scale from 0 to 100', 'title': 'Final Score', 'type': 'number'}}, 'required': ['benefits', 'drawbacks', 'final_score'], 'title': 'ListingScore', 'type': 'object', 'additionalProperties': False}, 'name': 'ListingScore', 'strict': True}}, 'stream': False}}
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 07 Dec 2024 16:34:38 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-n2gi24wc4tyfk4wl3z8y9dao'), (b'openai-processing-ms', b'3468'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-input-images', b'50000'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-input-images', b'49993'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3993659'), (b'x-ratelimit-reset-input-images', b'8ms'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'95ms'), (b'x-request-id', b'req_d7891d6aeb54f6753511f765edd70f4d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8ee5ec872e498c36-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
INFO:root:Sat Dec  7 11:34:38 2024
INFO:root:2096925094 (78.0) - Benefits: ['Newly renovated building', 'In-unit washer and dryer', 'Community roof deck views', 'Furnished with essential amenities', 'Minimalist modern style'] | Drawbacks: ['High rent price', 'Limited school rankings', 'No train station mentioned', 'No parking details provided', 'Potential noise in Midtown']
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Helper-Method': 'beta.chat.completions.parse'}, 'files': None, 'post_parser': <function AsyncCompletions.parse.<locals>.parser at 0x7fec9615c040>, 'json_data': {'messages': [{'role': 'assistant', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'user', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'assistant', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'user', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'assistant', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'user', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'assistant', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'user', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'assistant', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'user', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'assistant', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'user', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'system', 'content': "\nYour interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.\n"}, {'role': 'user', 'content': [{'type': 'text', 'text': '\n        Address: 412 W 36th St APT 4B, 10018\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 5500\n        \n        Features:\n        - Patio & porch: Deck\n- Exterior features: Fios Available,No Fee,Package Receiving,Parking,Roofdeck\n- Has view: Yes\n- View description: City View\n        \n        Nearby Schools:\n        - P.S. 51 Elias Howe - Public Primary school, grades PK-5. Ranking: 7\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- Satellite Academy High School - Public High school, grades 9-12. Ranking: 1\n        Listing Description: 412 West 36 St. off 9th Avenue, NY, NY 10018\nMIDTOWN WEST & HUDSON YARDS Location\n-New Fully Renovated Walkup Building\n TWO Bedroom Furnished Luxury Apartment: \n- Available for flexible term rental\n- Minimalist Modern Style\n- Each Bedroom has a Queen Bed, a dresser, night table and closet, desk & chair\n- Plus Sofa Bed in the Living Room\n- Includes all Bedding, Towels and Kitchenware\n- Stainless Steel Kitchen with Dishwasher & Microwave\n- Bosch Washer&Dryer in the Apt.\n- Individual Mitsubishi A/C & Heat Control\n- Apple TV and High Speed Wifi \n- Community Building Roof Deck with breathtaking views\n        '}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/e5ceee15870327691fdb0b19fb882d6a-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/7f9609da2eab22eb45e0fc2bcbfb743a-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/55286d971654b96d6590272076b437ff-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/1e6539b182c72e7dc9312000311b3d8e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/b1dc965b11e504ec9ebd2e00d95fe488-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/14cef804398ca67596ba65fdff8c6d23-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/81e471f630e3f911e5d88522be8043ef-cc_ft_384.jpg', 'detail': 'low'}}]}, {'role': 'assistant', 'content': '{"benefits":["Newly renovated building","In-unit washer and dryer","Community roof deck views","Furnished with essential amenities","Minimalist modern style"],"drawbacks":["High rent price","Limited school rankings","No train station mentioned","No parking details provided","Potential noise in Midtown"],"final_score":78.0}'}, {'role': 'user', 'content': [{'type': 'text', 'text': '\n        Address: 89 Christopher St APT 10, 10014\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 4720\n        \n        Features:\n        - Exterior features: Broker Exclusive,Fios Available,No Fee,Nyc Evacuation 5\n        \n        Nearby Schools:\n        - P.S. 41 Greenwich Village - Public Primary school, grades PK-5. Ranking: 9\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- High School 560 City As School - Public High school, grades 9-12. Ranking: 2\n        Listing Description: **No Brokers Fee+ Will reduce security deposit with qualifying credit\n\nFlex 2BR or perfect 1-bedroom with home office\nFeatures:\n- Renovated\n- Stainless steel appliances with Dishwasher\n- Pet friendly!\n- Virtual Intercom System\n\n89-91 Christopher Street is comprised of adjacent buildings in the heart of West Village., Residents are near vibrant and charming atmosphere of this historic neighborhood. Built in 1910, new renovations include: hard wood flooring, modern kitchen appliances, beautiful marble bathrooms, exposed brick, and features the virtual doorman ButterflyMX. Convenient access to transportation just walking distance to major subway lines such as A,C,E,D,F,M,L,1,2,3, The Path and buses. This building is in a prime location just walking distance from NYU , Washington Square Park, and in the heart of great restaurants and nightlife.\n        '}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/b6a90d7a3b79c3c2b9a08a6f0b2ba52e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/2edcdc76c2025ad3697f925319c66537-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/3900501c1d6e003347e5eaa12f517eef-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/80b8b692731e3619615b0f6fd1fbc39e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/758de529b15ddb5e0f017fc314d08d66-cc_ft_384.jpg', 'detail': 'low'}}]}], 'model': 'gpt-4o-mini', 'response_format': {'type': 'json_schema', 'json_schema': {'schema': {'properties': {'benefits': {'description': 'Things the user would like about this apartment, each five words or fewer.', 'items': {'type': 'string'}, 'title': 'Benefits', 'type': 'array'}, 'drawbacks': {'description': 'Things the user would dislike about this apartment, each five words or fewer.', 'items': {'type': 'string'}, 'title': 'Drawbacks', 'type': 'array'}, 'final_score': {'description': 'A score representing how interested the user would be in this apartment, on a scale from 0 to 100', 'title': 'Final Score', 'type': 'number'}}, 'required': ['benefits', 'drawbacks', 'final_score'], 'title': 'ListingScore', 'type': 'object', 'additionalProperties': False}, 'name': 'ListingScore', 'strict': True}}, 'stream': False}}
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 07 Dec 2024 16:34:41 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-n2gi24wc4tyfk4wl3z8y9dao'), (b'openai-processing-ms', b'3228'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-input-images', b'50000'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-input-images', b'49988'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3980387'), (b'x-ratelimit-reset-input-images', b'14ms'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'294ms'), (b'x-request-id', b'req_401d19255276686200abdd99464e28f2'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8ee5ec9d89048c36-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
INFO:root:Sat Dec  7 11:34:41 2024
INFO:root:2104233721 (82.0) - Benefits: ["No broker's fee", 'Pet friendly', 'Near great schools', 'Prime West Village location', 'Flexible layout options'] | Drawbacks: ['Older building (built in 1910)', 'Limited luxury features', 'Potential noise in a busy area', 'Only one bathroom', 'Some low school rankings']
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Helper-Method': 'beta.chat.completions.parse'}, 'files': None, 'post_parser': <function AsyncCompletions.parse.<locals>.parser at 0x7fec9615cfe0>, 'json_data': {'messages': [{'role': 'assistant', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'user', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'assistant', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'user', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'assistant', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'user', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'assistant', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'user', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'assistant', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'user', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'assistant', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'user', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'system', 'content': "\nYour interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.\n"}, {'role': 'user', 'content': [{'type': 'text', 'text': '\n        Address: 412 W 36th St APT 4B, 10018\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 5500\n        \n        Features:\n        - Patio & porch: Deck\n- Exterior features: Fios Available,No Fee,Package Receiving,Parking,Roofdeck\n- Has view: Yes\n- View description: City View\n        \n        Nearby Schools:\n        - P.S. 51 Elias Howe - Public Primary school, grades PK-5. Ranking: 7\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- Satellite Academy High School - Public High school, grades 9-12. Ranking: 1\n        Listing Description: 412 West 36 St. off 9th Avenue, NY, NY 10018\nMIDTOWN WEST & HUDSON YARDS Location\n-New Fully Renovated Walkup Building\n TWO Bedroom Furnished Luxury Apartment: \n- Available for flexible term rental\n- Minimalist Modern Style\n- Each Bedroom has a Queen Bed, a dresser, night table and closet, desk & chair\n- Plus Sofa Bed in the Living Room\n- Includes all Bedding, Towels and Kitchenware\n- Stainless Steel Kitchen with Dishwasher & Microwave\n- Bosch Washer&Dryer in the Apt.\n- Individual Mitsubishi A/C & Heat Control\n- Apple TV and High Speed Wifi \n- Community Building Roof Deck with breathtaking views\n        '}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/e5ceee15870327691fdb0b19fb882d6a-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/7f9609da2eab22eb45e0fc2bcbfb743a-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/55286d971654b96d6590272076b437ff-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/1e6539b182c72e7dc9312000311b3d8e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/b1dc965b11e504ec9ebd2e00d95fe488-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/14cef804398ca67596ba65fdff8c6d23-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/81e471f630e3f911e5d88522be8043ef-cc_ft_384.jpg', 'detail': 'low'}}]}, {'role': 'assistant', 'content': '{"benefits":["Newly renovated building","In-unit washer and dryer","Community roof deck views","Furnished with essential amenities","Minimalist modern style"],"drawbacks":["High rent price","Limited school rankings","No train station mentioned","No parking details provided","Potential noise in Midtown"],"final_score":78.0}'}, {'role': 'user', 'content': [{'type': 'text', 'text': '\n        Address: 89 Christopher St APT 10, 10014\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 4720\n        \n        Features:\n        - Exterior features: Broker Exclusive,Fios Available,No Fee,Nyc Evacuation 5\n        \n        Nearby Schools:\n        - P.S. 41 Greenwich Village - Public Primary school, grades PK-5. Ranking: 9\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- High School 560 City As School - Public High school, grades 9-12. Ranking: 2\n        Listing Description: **No Brokers Fee+ Will reduce security deposit with qualifying credit\n\nFlex 2BR or perfect 1-bedroom with home office\nFeatures:\n- Renovated\n- Stainless steel appliances with Dishwasher\n- Pet friendly!\n- Virtual Intercom System\n\n89-91 Christopher Street is comprised of adjacent buildings in the heart of West Village., Residents are near vibrant and charming atmosphere of this historic neighborhood. Built in 1910, new renovations include: hard wood flooring, modern kitchen appliances, beautiful marble bathrooms, exposed brick, and features the virtual doorman ButterflyMX. Convenient access to transportation just walking distance to major subway lines such as A,C,E,D,F,M,L,1,2,3, The Path and buses. This building is in a prime location just walking distance from NYU , Washington Square Park, and in the heart of great restaurants and nightlife.\n        '}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/b6a90d7a3b79c3c2b9a08a6f0b2ba52e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/2edcdc76c2025ad3697f925319c66537-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/3900501c1d6e003347e5eaa12f517eef-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/80b8b692731e3619615b0f6fd1fbc39e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/758de529b15ddb5e0f017fc314d08d66-cc_ft_384.jpg', 'detail': 'low'}}]}, {'role': 'assistant', 'content': '{"benefits":["No broker\'s fee","Pet friendly","Near great schools","Prime West Village location","Flexible layout options"],"drawbacks":["Older building (built in 1910)","Limited luxury features","Potential noise in a busy area","Only one bathroom","Some low school rankings"],"final_score":82.0}'}, {'role': 'user', 'content': [{'type': 'text', 'text': '\n        Address: 436 W 22nd St APT 1C, 10011\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 5200\n        \n        Features:\n        - Exterior features: ,Broker Exclusive\n        \n        Nearby Schools:\n        - PS 11 Sarah J Garnett Elementary School (The) - Public Primary school, grades PK-5. Ranking: 7\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- James Baldwin School A School For Expeditionary Lr - Public High school, grades 9-12. Ranking: 1\n        Listing Description: Available for a move-in of Dec 1, Dec 15th or Jan 1.\n\nWelcome to 436 West 22nd Street, a quaint brownstone building on a beautiful tree-lined townhouse Chelsea block.\n\nApartment 1C is a unique and over-sized 2BR/1BA. Located on the ground level, this approx. 1000 sf home it is part of a well-maintained building of excellent quality. The layout of 1C offers great habitation flexibility, as bedrooms are on opposite sides of the apartment and separated by a huge loft-like living room. \n\nBoth bedrooms can easily accommodate queen-size beds and have plenty of space for additional furniture, such as a dresser or desk. The large living room has a proper dining room area and features beautiful pre-war details such as a faux fireplace and high beamed ceilings that create an airy, open atmosphere. Adjacent to the dining area is a large, modern kitchen with stainless steel appliances, lots of counter and storage space, and a dishwasher. An updated bath, two large closets and beautiful hardwood floors complete the comfortable living experience.\n\n436 West 22nd Street is a well-managed brownstone building with laundry on-site; located on a quiet, tree-lined Chelsea block, in close proximity to the C/E trains, the crosstown bus, the Chelsea Highline, Whole Foods, boutique shops and tons of great restaurants.\n\nSmall dogs are considered case-by-case. Cats ok. Please note, this is a non-smoking building.\n        '}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/6dd7d745f9032c30f8139f18f8a01f26-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/f0cfe7b1f4e8a0e20a16a07c82331248-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/cc60b7e3b363c958a59a0bc6816ac775-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/3550f4d4b1befb372611fc7de981882b-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/ada9cbe5cc84619e6c9b68c5f5273838-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/2aa4e935aa3b7136d13dc5e3504dde67-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/8feed188bac2caf7a83026e099a01549-cc_ft_384.jpg', 'detail': 'low'}}]}], 'model': 'gpt-4o-mini', 'response_format': {'type': 'json_schema', 'json_schema': {'schema': {'properties': {'benefits': {'description': 'Things the user would like about this apartment, each five words or fewer.', 'items': {'type': 'string'}, 'title': 'Benefits', 'type': 'array'}, 'drawbacks': {'description': 'Things the user would dislike about this apartment, each five words or fewer.', 'items': {'type': 'string'}, 'title': 'Drawbacks', 'type': 'array'}, 'final_score': {'description': 'A score representing how interested the user would be in this apartment, on a scale from 0 to 100', 'title': 'Final Score', 'type': 'number'}}, 'required': ['benefits', 'drawbacks', 'final_score'], 'title': 'ListingScore', 'type': 'object', 'additionalProperties': False}, 'name': 'ListingScore', 'strict': True}}, 'stream': False}}
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 07 Dec 2024 16:34:45 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-n2gi24wc4tyfk4wl3z8y9dao'), (b'openai-processing-ms', b'3812'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-input-images', b'50000'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-input-images', b'49980'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3967854'), (b'x-ratelimit-reset-input-images', b'22ms'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'482ms'), (b'x-request-id', b'req_8bdfe7655c67bc705f4eefbbad34ccfa'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8ee5ecb2aea98c36-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
INFO:root:Sat Dec  7 11:34:45 2024
INFO:root:2110152020 (80.0) - Benefits: ['Spacious oversized layout', 'Quiet tree-lined Chelsea block', 'Pre-war charm with high ceilings', 'In-unit dishwasher', 'Close to public transit'] | Drawbacks: ['Ground-level apartment', 'Limited school rankings', 'Older building management', 'No on-site parking listed', 'Broker exclusive may increase costs']
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Helper-Method': 'beta.chat.completions.parse'}, 'files': None, 'post_parser': <function AsyncCompletions.parse.<locals>.parser at 0x7fec9615cd60>, 'json_data': {'messages': [{'role': 'assistant', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'user', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'assistant', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'user', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'assistant', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'user', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'assistant', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'user', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'assistant', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'user', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'assistant', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'user', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'system', 'content': "\nYour interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.\n"}, {'role': 'user', 'content': [{'type': 'text', 'text': '\n        Address: 412 W 36th St APT 4B, 10018\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 5500\n        \n        Features:\n        - Patio & porch: Deck\n- Exterior features: Fios Available,No Fee,Package Receiving,Parking,Roofdeck\n- Has view: Yes\n- View description: City View\n        \n        Nearby Schools:\n        - P.S. 51 Elias Howe - Public Primary school, grades PK-5. Ranking: 7\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- Satellite Academy High School - Public High school, grades 9-12. Ranking: 1\n        Listing Description: 412 West 36 St. off 9th Avenue, NY, NY 10018\nMIDTOWN WEST & HUDSON YARDS Location\n-New Fully Renovated Walkup Building\n TWO Bedroom Furnished Luxury Apartment: \n- Available for flexible term rental\n- Minimalist Modern Style\n- Each Bedroom has a Queen Bed, a dresser, night table and closet, desk & chair\n- Plus Sofa Bed in the Living Room\n- Includes all Bedding, Towels and Kitchenware\n- Stainless Steel Kitchen with Dishwasher & Microwave\n- Bosch Washer&Dryer in the Apt.\n- Individual Mitsubishi A/C & Heat Control\n- Apple TV and High Speed Wifi \n- Community Building Roof Deck with breathtaking views\n        '}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/e5ceee15870327691fdb0b19fb882d6a-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/7f9609da2eab22eb45e0fc2bcbfb743a-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/55286d971654b96d6590272076b437ff-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/1e6539b182c72e7dc9312000311b3d8e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/b1dc965b11e504ec9ebd2e00d95fe488-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/14cef804398ca67596ba65fdff8c6d23-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/81e471f630e3f911e5d88522be8043ef-cc_ft_384.jpg', 'detail': 'low'}}]}, {'role': 'assistant', 'content': '{"benefits":["Newly renovated building","In-unit washer and dryer","Community roof deck views","Furnished with essential amenities","Minimalist modern style"],"drawbacks":["High rent price","Limited school rankings","No train station mentioned","No parking details provided","Potential noise in Midtown"],"final_score":78.0}'}, {'role': 'user', 'content': [{'type': 'text', 'text': '\n        Address: 89 Christopher St APT 10, 10014\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 4720\n        \n        Features:\n        - Exterior features: Broker Exclusive,Fios Available,No Fee,Nyc Evacuation 5\n        \n        Nearby Schools:\n        - P.S. 41 Greenwich Village - Public Primary school, grades PK-5. Ranking: 9\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- High School 560 City As School - Public High school, grades 9-12. Ranking: 2\n        Listing Description: **No Brokers Fee+ Will reduce security deposit with qualifying credit\n\nFlex 2BR or perfect 1-bedroom with home office\nFeatures:\n- Renovated\n- Stainless steel appliances with Dishwasher\n- Pet friendly!\n- Virtual Intercom System\n\n89-91 Christopher Street is comprised of adjacent buildings in the heart of West Village., Residents are near vibrant and charming atmosphere of this historic neighborhood. Built in 1910, new renovations include: hard wood flooring, modern kitchen appliances, beautiful marble bathrooms, exposed brick, and features the virtual doorman ButterflyMX. Convenient access to transportation just walking distance to major subway lines such as A,C,E,D,F,M,L,1,2,3, The Path and buses. This building is in a prime location just walking distance from NYU , Washington Square Park, and in the heart of great restaurants and nightlife.\n        '}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/b6a90d7a3b79c3c2b9a08a6f0b2ba52e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/2edcdc76c2025ad3697f925319c66537-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/3900501c1d6e003347e5eaa12f517eef-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/80b8b692731e3619615b0f6fd1fbc39e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/758de529b15ddb5e0f017fc314d08d66-cc_ft_384.jpg', 'detail': 'low'}}]}, {'role': 'assistant', 'content': '{"benefits":["No broker\'s fee","Pet friendly","Near great schools","Prime West Village location","Flexible layout options"],"drawbacks":["Older building (built in 1910)","Limited luxury features","Potential noise in a busy area","Only one bathroom","Some low school rankings"],"final_score":82.0}'}, {'role': 'user', 'content': [{'type': 'text', 'text': '\n        Address: 436 W 22nd St APT 1C, 10011\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 5200\n        \n        Features:\n        - Exterior features: ,Broker Exclusive\n        \n        Nearby Schools:\n        - PS 11 Sarah J Garnett Elementary School (The) - Public Primary school, grades PK-5. Ranking: 7\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- James Baldwin School A School For Expeditionary Lr - Public High school, grades 9-12. Ranking: 1\n        Listing Description: Available for a move-in of Dec 1, Dec 15th or Jan 1.\n\nWelcome to 436 West 22nd Street, a quaint brownstone building on a beautiful tree-lined townhouse Chelsea block.\n\nApartment 1C is a unique and over-sized 2BR/1BA. Located on the ground level, this approx. 1000 sf home it is part of a well-maintained building of excellent quality. The layout of 1C offers great habitation flexibility, as bedrooms are on opposite sides of the apartment and separated by a huge loft-like living room. \n\nBoth bedrooms can easily accommodate queen-size beds and have plenty of space for additional furniture, such as a dresser or desk. The large living room has a proper dining room area and features beautiful pre-war details such as a faux fireplace and high beamed ceilings that create an airy, open atmosphere. Adjacent to the dining area is a large, modern kitchen with stainless steel appliances, lots of counter and storage space, and a dishwasher. An updated bath, two large closets and beautiful hardwood floors complete the comfortable living experience.\n\n436 West 22nd Street is a well-managed brownstone building with laundry on-site; located on a quiet, tree-lined Chelsea block, in close proximity to the C/E trains, the crosstown bus, the Chelsea Highline, Whole Foods, boutique shops and tons of great restaurants.\n\nSmall dogs are considered case-by-case. Cats ok. Please note, this is a non-smoking building.\n        '}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/6dd7d745f9032c30f8139f18f8a01f26-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/f0cfe7b1f4e8a0e20a16a07c82331248-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/cc60b7e3b363c958a59a0bc6816ac775-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/3550f4d4b1befb372611fc7de981882b-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/ada9cbe5cc84619e6c9b68c5f5273838-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/2aa4e935aa3b7136d13dc5e3504dde67-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/8feed188bac2caf7a83026e099a01549-cc_ft_384.jpg', 'detail': 'low'}}]}, {'role': 'assistant', 'content': '{"benefits":["Spacious oversized layout","Quiet tree-lined Chelsea block","Pre-war charm with high ceilings","In-unit dishwasher","Close to public transit"],"drawbacks":["Ground-level apartment","Limited school rankings","Older building management","No on-site parking listed","Broker exclusive may increase costs"],"final_score":80.0}'}, {'role': 'user', 'content': [{'type': 'text', 'text': "\n        Address: 345 E 21st St #1-A, 10010\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 2000\n        \n        Features:\n        - Exterior features: ,Heating system: Radiant,TV Lounge\n        \n        Nearby Schools:\n        - PS 11 Sarah J Garnett Elementary School (The) - Public Primary school, grades PK-5. Ranking: 7\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- James Baldwin School A School For Expeditionary Lr - Public High school, grades 9-12. Ranking: 1\n        Listing Description: Last week to save! Book a stay of 6+ months now and use code LONGSTAY150 to unlock your $150 off. Don't miss outgrab it before it's gone!\n\nFull bedroom in a 2 bedroom / 1 bathroom apartment!\n\nThis Full room in Gramercy is available on a 12 month lease or a flexible short term (31 to 364 days) lease. You pick your custom start and end date. Monthly rent rate is determined by furnishing preference, move-in date and move-out date. Speak to a June representative for recommendations on the best stay duration for the lowest rate.\n\nAmenities of this home: Dishwasher, Furnished Common Areas, Wi-Fi - Paid separately (High-Speed), Guarantors Allowed, 32-inch Flat-Screen TV, Laundry in home (free), Hardwood Flooring, Microwave, Oven, Refrigerator, also, this unit is conveniently located, several local parks, restaurants and bars are just minutes away.\n\nAbout June Homes: Welcome to the easiest rental experience of your life. Rent furnished or unfurnished apartments on a 12 month lease or a flexible short term (31 to 364 days). As a resident, you'll have access to 24/7 support and monthly cleanings of the home's shared spaces. Sign up now to apply online for your next home with June.\n\nBrokers accepted. 5% commission on rent.\n\nUse this listing ID when speaking to June team: #1113 A\n        "}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/e144593bae9b612c0119e8a598d80794-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/344a30dc5dd6b70e1a289034a7fe176e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/923a13e8555cb8e2d062e3e1ad4409a0-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/52ca396845920b44e8f29a986ae3116f-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/2c00d2ed488546025a28f71362f2ed6b-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/cd5b0223f46d730fb4899ec5d4e7be60-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/3c70604930816df287d1d20cab9adb6a-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/4e82dac4402d30e8f7701bf72880173c-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/4d73e357805668a219016b609ebc60cb-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/39c6f725a2b9330694bcace1b0fe6d23-cc_ft_384.jpg', 'detail': 'low'}}]}], 'model': 'gpt-4o-mini', 'response_format': {'type': 'json_schema', 'json_schema': {'schema': {'properties': {'benefits': {'description': 'Things the user would like about this apartment, each five words or fewer.', 'items': {'type': 'string'}, 'title': 'Benefits', 'type': 'array'}, 'drawbacks': {'description': 'Things the user would dislike about this apartment, each five words or fewer.', 'items': {'type': 'string'}, 'title': 'Drawbacks', 'type': 'array'}, 'final_score': {'description': 'A score representing how interested the user would be in this apartment, on a scale from 0 to 100', 'title': 'Final Score', 'type': 'number'}}, 'required': ['benefits', 'drawbacks', 'final_score'], 'title': 'ListingScore', 'type': 'object', 'additionalProperties': False}, 'name': 'ListingScore', 'strict': True}}, 'stream': False}}
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 07 Dec 2024 16:34:50 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-n2gi24wc4tyfk4wl3z8y9dao'), (b'openai-processing-ms', b'5062'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-input-images', b'50000'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-input-images', b'49970'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3947828'), (b'x-ratelimit-reset-input-images', b'34ms'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'782ms'), (b'x-request-id', b'req_a41f3f6027e6c217c54e9fd88dcaf7fa'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8ee5eccbbc648c36-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
INFO:root:Sat Dec  7 11:34:50 2024
INFO:root:2054524243 (75.0) - Benefits: ['Highly affordable rent', 'Flexible lease options', 'In-unit laundry', 'Furnished common areas available', 'Dishwasher and modern kitchen'] | Drawbacks: ['Only one bathroom', 'Lower school rankings', 'Shared living situation', 'Limited living space', 'Potential additional fees for Wi-Fi']
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Helper-Method': 'beta.chat.completions.parse'}, 'files': None, 'post_parser': <function AsyncCompletions.parse.<locals>.parser at 0x7fec9615ce00>, 'json_data': {'messages': [{'role': 'assistant', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'user', 'content': '\n\n"Ah, allergies can be tricky. We\'ll definitely look for newer buildings to help with that. Thanks for sharing all these details! I\'ll start looking for options that match your criteria in Lower Manhattan, focusing on Chelsea and the West Village. I\'ll be in touch with some great options for you and your roommate!"'}, {'role': 'assistant', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'user', 'content': '\n\n"Understood, we\'ll focus\n'}, {'role': 'assistant', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'user', 'content': '\n\n"Perfect, newer buildings it is! Lastly, are there any other preferences or requirements you\'d like to share, such as pet policies or parking needs?"\n'}, {'role': 'assistant', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'user', 'content': '\n\n"Got it! Proximity to a train station in Chelsea is key. An in-unit laundry and a gym would be nice perks but not deal-breakers. How about the age of the building? Do\n'}, {'role': 'assistant', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'user', 'content': '\n\n"Great, that gives us a good starting point. Now, are there any particular features or amenities you\'re looking for in the apartment or the building? And have you had any past experiences with apartments that you\'d like to avoid in your new place?"\n'}, {'role': 'assistant', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'user', 'content': '\nHi there! I\'m excited to help you find your new home in New York. To start, could you tell me your minimum and maximum rent budget? And how many bedrooms and bathrooms are you looking for?"\n'}, {'role': 'system', 'content': "\nYour interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.\n"}, {'role': 'user', 'content': [{'type': 'text', 'text': '\n        Address: 412 W 36th St APT 4B, 10018\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 5500\n        \n        Features:\n        - Patio & porch: Deck\n- Exterior features: Fios Available,No Fee,Package Receiving,Parking,Roofdeck\n- Has view: Yes\n- View description: City View\n        \n        Nearby Schools:\n        - P.S. 51 Elias Howe - Public Primary school, grades PK-5. Ranking: 7\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- Satellite Academy High School - Public High school, grades 9-12. Ranking: 1\n        Listing Description: 412 West 36 St. off 9th Avenue, NY, NY 10018\nMIDTOWN WEST & HUDSON YARDS Location\n-New Fully Renovated Walkup Building\n TWO Bedroom Furnished Luxury Apartment: \n- Available for flexible term rental\n- Minimalist Modern Style\n- Each Bedroom has a Queen Bed, a dresser, night table and closet, desk & chair\n- Plus Sofa Bed in the Living Room\n- Includes all Bedding, Towels and Kitchenware\n- Stainless Steel Kitchen with Dishwasher & Microwave\n- Bosch Washer&Dryer in the Apt.\n- Individual Mitsubishi A/C & Heat Control\n- Apple TV and High Speed Wifi \n- Community Building Roof Deck with breathtaking views\n        '}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/e5ceee15870327691fdb0b19fb882d6a-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/7f9609da2eab22eb45e0fc2bcbfb743a-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/55286d971654b96d6590272076b437ff-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/1e6539b182c72e7dc9312000311b3d8e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/b1dc965b11e504ec9ebd2e00d95fe488-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/14cef804398ca67596ba65fdff8c6d23-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/81e471f630e3f911e5d88522be8043ef-cc_ft_384.jpg', 'detail': 'low'}}]}, {'role': 'assistant', 'content': '{"benefits":["Newly renovated building","In-unit washer and dryer","Community roof deck views","Furnished with essential amenities","Minimalist modern style"],"drawbacks":["High rent price","Limited school rankings","No train station mentioned","No parking details provided","Potential noise in Midtown"],"final_score":78.0}'}, {'role': 'user', 'content': [{'type': 'text', 'text': '\n        Address: 89 Christopher St APT 10, 10014\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 4720\n        \n        Features:\n        - Exterior features: Broker Exclusive,Fios Available,No Fee,Nyc Evacuation 5\n        \n        Nearby Schools:\n        - P.S. 41 Greenwich Village - Public Primary school, grades PK-5. Ranking: 9\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- High School 560 City As School - Public High school, grades 9-12. Ranking: 2\n        Listing Description: **No Brokers Fee+ Will reduce security deposit with qualifying credit\n\nFlex 2BR or perfect 1-bedroom with home office\nFeatures:\n- Renovated\n- Stainless steel appliances with Dishwasher\n- Pet friendly!\n- Virtual Intercom System\n\n89-91 Christopher Street is comprised of adjacent buildings in the heart of West Village., Residents are near vibrant and charming atmosphere of this historic neighborhood. Built in 1910, new renovations include: hard wood flooring, modern kitchen appliances, beautiful marble bathrooms, exposed brick, and features the virtual doorman ButterflyMX. Convenient access to transportation just walking distance to major subway lines such as A,C,E,D,F,M,L,1,2,3, The Path and buses. This building is in a prime location just walking distance from NYU , Washington Square Park, and in the heart of great restaurants and nightlife.\n        '}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/b6a90d7a3b79c3c2b9a08a6f0b2ba52e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/2edcdc76c2025ad3697f925319c66537-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/3900501c1d6e003347e5eaa12f517eef-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/80b8b692731e3619615b0f6fd1fbc39e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/758de529b15ddb5e0f017fc314d08d66-cc_ft_384.jpg', 'detail': 'low'}}]}, {'role': 'assistant', 'content': '{"benefits":["No broker\'s fee","Pet friendly","Near great schools","Prime West Village location","Flexible layout options"],"drawbacks":["Older building (built in 1910)","Limited luxury features","Potential noise in a busy area","Only one bathroom","Some low school rankings"],"final_score":82.0}'}, {'role': 'user', 'content': [{'type': 'text', 'text': '\n        Address: 436 W 22nd St APT 1C, 10011\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 5200\n        \n        Features:\n        - Exterior features: ,Broker Exclusive\n        \n        Nearby Schools:\n        - PS 11 Sarah J Garnett Elementary School (The) - Public Primary school, grades PK-5. Ranking: 7\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- James Baldwin School A School For Expeditionary Lr - Public High school, grades 9-12. Ranking: 1\n        Listing Description: Available for a move-in of Dec 1, Dec 15th or Jan 1.\n\nWelcome to 436 West 22nd Street, a quaint brownstone building on a beautiful tree-lined townhouse Chelsea block.\n\nApartment 1C is a unique and over-sized 2BR/1BA. Located on the ground level, this approx. 1000 sf home it is part of a well-maintained building of excellent quality. The layout of 1C offers great habitation flexibility, as bedrooms are on opposite sides of the apartment and separated by a huge loft-like living room. \n\nBoth bedrooms can easily accommodate queen-size beds and have plenty of space for additional furniture, such as a dresser or desk. The large living room has a proper dining room area and features beautiful pre-war details such as a faux fireplace and high beamed ceilings that create an airy, open atmosphere. Adjacent to the dining area is a large, modern kitchen with stainless steel appliances, lots of counter and storage space, and a dishwasher. An updated bath, two large closets and beautiful hardwood floors complete the comfortable living experience.\n\n436 West 22nd Street is a well-managed brownstone building with laundry on-site; located on a quiet, tree-lined Chelsea block, in close proximity to the C/E trains, the crosstown bus, the Chelsea Highline, Whole Foods, boutique shops and tons of great restaurants.\n\nSmall dogs are considered case-by-case. Cats ok. Please note, this is a non-smoking building.\n        '}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/6dd7d745f9032c30f8139f18f8a01f26-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/f0cfe7b1f4e8a0e20a16a07c82331248-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/cc60b7e3b363c958a59a0bc6816ac775-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/3550f4d4b1befb372611fc7de981882b-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/ada9cbe5cc84619e6c9b68c5f5273838-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/2aa4e935aa3b7136d13dc5e3504dde67-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/8feed188bac2caf7a83026e099a01549-cc_ft_384.jpg', 'detail': 'low'}}]}, {'role': 'assistant', 'content': '{"benefits":["Spacious oversized layout","Quiet tree-lined Chelsea block","Pre-war charm with high ceilings","In-unit dishwasher","Close to public transit"],"drawbacks":["Ground-level apartment","Limited school rankings","Older building management","No on-site parking listed","Broker exclusive may increase costs"],"final_score":80.0}'}, {'role': 'user', 'content': [{'type': 'text', 'text': "\n        Address: 345 E 21st St #1-A, 10010\n        Bedrooms: 2\n        Bathrooms: 1\n        Price: 2000\n        \n        Features:\n        - Exterior features: ,Heating system: Radiant,TV Lounge\n        \n        Nearby Schools:\n        - PS 11 Sarah J Garnett Elementary School (The) - Public Primary school, grades PK-5. Ranking: 7\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- James Baldwin School A School For Expeditionary Lr - Public High school, grades 9-12. Ranking: 1\n        Listing Description: Last week to save! Book a stay of 6+ months now and use code LONGSTAY150 to unlock your $150 off. Don't miss outgrab it before it's gone!\n\nFull bedroom in a 2 bedroom / 1 bathroom apartment!\n\nThis Full room in Gramercy is available on a 12 month lease or a flexible short term (31 to 364 days) lease. You pick your custom start and end date. Monthly rent rate is determined by furnishing preference, move-in date and move-out date. Speak to a June representative for recommendations on the best stay duration for the lowest rate.\n\nAmenities of this home: Dishwasher, Furnished Common Areas, Wi-Fi - Paid separately (High-Speed), Guarantors Allowed, 32-inch Flat-Screen TV, Laundry in home (free), Hardwood Flooring, Microwave, Oven, Refrigerator, also, this unit is conveniently located, several local parks, restaurants and bars are just minutes away.\n\nAbout June Homes: Welcome to the easiest rental experience of your life. Rent furnished or unfurnished apartments on a 12 month lease or a flexible short term (31 to 364 days). As a resident, you'll have access to 24/7 support and monthly cleanings of the home's shared spaces. Sign up now to apply online for your next home with June.\n\nBrokers accepted. 5% commission on rent.\n\nUse this listing ID when speaking to June team: #1113 A\n        "}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/e144593bae9b612c0119e8a598d80794-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/344a30dc5dd6b70e1a289034a7fe176e-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/923a13e8555cb8e2d062e3e1ad4409a0-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/52ca396845920b44e8f29a986ae3116f-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/2c00d2ed488546025a28f71362f2ed6b-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/cd5b0223f46d730fb4899ec5d4e7be60-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/3c70604930816df287d1d20cab9adb6a-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/4e82dac4402d30e8f7701bf72880173c-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/4d73e357805668a219016b609ebc60cb-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/39c6f725a2b9330694bcace1b0fe6d23-cc_ft_384.jpg', 'detail': 'low'}}]}, {'role': 'assistant', 'content': '{"benefits":["Highly affordable rent","Flexible lease options","In-unit laundry","Furnished common areas available","Dishwasher and modern kitchen"],"drawbacks":["Only one bathroom","Lower school rankings","Shared living situation","Limited living space","Potential additional fees for Wi-Fi"],"final_score":75.0}'}, {'role': 'user', 'content': [{'type': 'text', 'text': "\n        Address: 356 W 39th St #1-A, 10018\n        Bedrooms: 3\n        Bathrooms: 1\n        Price: 1850\n        \n        Features:\n        - Exterior features: ,Heating system: Baseboard,TV Lounge\n        \n        Nearby Schools:\n        - P.S. 51 Elias Howe - Public Primary school, grades PK-5. Ranking: 7\n- Middle 297 - Public Middle school, grades 6-8. Ranking: 5\n- Professional Performing Arts High School - Public Middle school, grades 6-12. Ranking: 8\n        Listing Description: Full bedroom in a 3 bedroom / 1 bathroom apartment!\n\nThis Full room in Hell's Kitchen is available on a 12 month lease or a flexible short term (31 to 364 days) lease. You pick your custom start and end date. Monthly rent rate is determined by furnishing preference, move-in date and move-out date. Speak to a June representative for recommendations on the best stay duration for the lowest rate.\n\nAmenities of this home: Dishwasher, Furnished Common Areas, Wi-Fi - Paid separately (High-Speed), Guarantors Allowed, 32-inch Flat-Screen TV, South facing, Hardwood Flooring, Microwave, Oven, Refrigerator, also, this unit is conveniently located, several local parks, restaurants and bars are just minutes away.\n\nAbout June Homes: Welcome to the easiest rental experience of your life. Rent furnished or unfurnished apartments on a 12 month lease or a flexible short term (31 to 364 days). As a resident, you'll have access to 24/7 support and monthly cleanings of the home's shared spaces. Sign up now to apply online for your next home with June.\n\nBrokers accepted. 5% commission on rent.\n\nUse this listing ID when speaking to June team: #143 A\n        "}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/16994067b110578da1efe75eaa489575-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/7ae887468c56c0b303ea8c0799c6ecef-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/297371ef9792c7ed932d038d40be867d-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/a7e80de7ef2798c9847b3a2be7d807c2-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/9dacf21261575e3d9fb1e8886c89f1cd-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/46441d602b16dc7d2a060db8c852c14b-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/92237a799c297eb6a088a2d5151f3ace-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/f3b5486dfb1df890f704ca19031428fe-cc_ft_384.jpg', 'detail': 'low'}}, {'type': 'image_url', 'image_url': {'url': 'https://photos.zillowstatic.com/fp/3cf09614214cff2337c89453daf0bf24-cc_ft_384.jpg', 'detail': 'low'}}]}], 'model': 'gpt-4o-mini', 'response_format': {'type': 'json_schema', 'json_schema': {'schema': {'properties': {'benefits': {'description': 'Things the user would like about this apartment, each five words or fewer.', 'items': {'type': 'string'}, 'title': 'Benefits', 'type': 'array'}, 'drawbacks': {'description': 'Things the user would dislike about this apartment, each five words or fewer.', 'items': {'type': 'string'}, 'title': 'Drawbacks', 'type': 'array'}, 'final_score': {'description': 'A score representing how interested the user would be in this apartment, on a scale from 0 to 100', 'title': 'Final Score', 'type': 'number'}}, 'required': ['benefits', 'drawbacks', 'final_score'], 'title': 'ListingScore', 'type': 'object', 'additionalProperties': False}, 'name': 'ListingScore', 'strict': True}}, 'stream': False}}
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sat, 07 Dec 2024 16:34:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-n2gi24wc4tyfk4wl3z8y9dao'), (b'openai-processing-ms', b'6185'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-input-images', b'50000'), (b'x-ratelimit-limit-requests', b'5000'), (b'x-ratelimit-limit-tokens', b'4000000'), (b'x-ratelimit-remaining-input-images', b'49961'), (b'x-ratelimit-remaining-requests', b'4999'), (b'x-ratelimit-remaining-tokens', b'3915810'), (b'x-ratelimit-reset-input-images', b'45ms'), (b'x-ratelimit-reset-requests', b'12ms'), (b'x-ratelimit-reset-tokens', b'1.262s'), (b'x-request-id', b'req_bcb81b078bc6495346531cd1977ff848'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8ee5ecec4d0f8c36-EWR'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
INFO:root:Sat Dec  7 11:34:57 2024
INFO:root:2054524112 (70.0) - Benefits: ['Very affordable rent', 'Three-bedroom layout', 'Flexible lease options', 'Dishwasher included', 'Access to local parks and eateries'] | Drawbacks: ['Shared living environment', 'Lower school rankings', 'Older building age', 'Only one bathroom', 'Wi-Fi paid separately']
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 11:34:57 2024
INFO:root:COMPLETED: FindBot chose 2104233721, 2110152020, 2096925094, 2054524243, 2054524112
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2349%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2350%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 12:15:09 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 12:15:09 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2350%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:80> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.07 seconds
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:80> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 2.07 seconds
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
ERROR:livekit.plugins.openai.realtime:response generation failed
ERROR:livekit.plugins.openai.realtime:response generation failed
DEBUG:livekit.agents:shutting down job task
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fed26fe2ab0>
ERROR:asyncio:Unclosed client session
client_session: <aiohttp.client.ClientSession object at 0x7fed26fe2690>
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2351%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 12:17:20 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 12:17:20 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2351%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.agents:committed agent speech
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 12:17:27 2024
INFO:root:Finished Interviewing #programmable-websocket
INFO:root:Sat Dec  7 12:17:27 2024
INFO:root:Finished Interviewing #programmable-websocket
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2351%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 12:17:28 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 12:17:28 2024
INFO:root:assistant:  Hi there! I'm FindBot, here to help you find your ideal rental apartment in Manhattan. What's your name?
INFO:root:Sat Dec  7 12:17:28 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 12:17:28 2024
INFO:root:assistant:  Hi there! I'm FindBot, here to help you find your ideal rental apartment in Manhattan. What's your name?
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2351%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 12:17:28 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 12:17:29 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 12:17:30 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"East Village"},{"name":"Upper East Side"}]}
INFO:root:Sat Dec  7 12:17:31 2024
INFO:root:Query Generated: 41 apartments found
INFO:root:Sat Dec  7 12:17:31 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:17:32 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 12:17:34 2024
INFO:root:2070932276 (72.5) - Benefits: ['Newly renovated apartment', 'Garden view', 'Close to subway stations', 'Live-in super', 'Fios available'] | Drawbacks: ['Only one bathroom', 'High rent price', 'High school ranking low', 'One flight up', 'Limited exterior features']
INFO:root:Sat Dec  7 12:17:37 2024
INFO:root:2114589240 (79.0) - Benefits: ['Cozy one bedroom apartment', 'Includes balcony', 'Flexible lease options', 'In-apartment laundry', 'Fios available'] | Drawbacks: ['High price for one bedroom', 'Low middle school ranking', 'Walk-up building', 'Limited school choices', 'No extra bedrooms']
INFO:root:Sat Dec  7 12:17:42 2024
INFO:root:2063295259 (75.0) - Benefits: ['Bright and sunny apartment', 'Skyline view', 'Recently renovated', 'High ceilings', 'Steps to subway lines'] | Drawbacks: ['Single bedroom may limit space', 'Price is quite high', 'Tenant occupied', 'Limited outdoor space', 'No washer/dryer in unit']
INFO:root:Sat Dec  7 12:17:46 2024
INFO:root:2111068098 (70.0) - Benefits: ['Two spacious bedrooms', 'Private outdoor space', 'Located near Central Park', 'High ceilings with exposed brick', 'Family-friendly neighborhood'] | Drawbacks: ['High rent price', 'Only one bathroom', 'Older appliances', 'Potential for noise from outside', 'Broker exclusive listing']
INFO:root:Sat Dec  7 12:17:52 2024
INFO:root:2113851994 (77.5) - Benefits: ['Prime East Village location', 'Access to shared roof deck', 'Stainless steel appliances', 'No broker fee', 'Ample closet space'] | Drawbacks: ['High rent for one bedroom', 'Occupied until end of November', 'Lower middle school ranking', 'Limited outdoor space', 'Potential noise from nearby venues']
INFO:root:Sat Dec  7 12:17:58 2024
INFO:root:2094388869 (78.0) - Benefits: ['Two full bathrooms', 'Private garden space', 'Prewar charm with renovations', 'Laundry in building', 'Heating and hot water included'] | Drawbacks: ['Broker exclusive listing', 'Higher price for a one bedroom', 'Lower middle school ranking', 'Possible privacy concerns with garden', 'Compact living space']
INFO:root:Sat Dec  7 12:18:04 2024
INFO:root:2124594032 (76.5) - Benefits: ['Large living and bedroom space', 'Renovated kitchen with dishwasher', 'Pet friendly on case basis', 'Multiple large closets', 'Close to restaurants and shops'] | Drawbacks: ['High rent for one bedroom', 'Broker exclusive listing', 'No outdoor space', 'Limited school choices', 'Potential for noise from street']
INFO:root:Sat Dec  7 12:18:14 2024
INFO:root:2094722033 (80.0) - Benefits: ['Brand new gut renovation', 'In-unit washer/dryer', 'Spacious living room', 'Dishwasher and marble-tiled bathroom', 'Heat and water included'] | Drawbacks: ['High rent for one bedroom', 'Broker exclusive listing', 'No outdoor space', 'Move-in still involves process', 'Limited school choices']
INFO:root:Sat Dec  7 12:18:21 2024
INFO:root:2118755854 (75.0) - Benefits: ['Recently renovated apartment', 'High-end finishes', 'Dishwasher included', 'Located in East Village', 'Laundry in building'] | Drawbacks: ['High rent for one bedroom', 'Broker exclusive listing', 'Lower school ranking', 'No outdoor space', 'Only one bathroom']
INFO:root:Sat Dec  7 12:18:28 2024
INFO:root:2105223262 (70.0) - Benefits: ['Affordable rent for Manhattan', 'Spacious living room', 'Large closets', 'High ceilings', 'Good school rankings nearby'] | Drawbacks: ['Broker exclusive listing', 'Limited photos available', 'Only one bathroom', 'Potential noise from street', 'Basic amenities']
INFO:root:Sat Dec  7 12:18:39 2024
INFO:root:2116739785 (72.0) - Benefits: ['Affordable price for UES', 'Good storage space', 'Stainless steel appliances', 'Elegant marble bathroom', 'High school ranked 7'] | Drawbacks: ['Broker exclusive listing', 'Limited kitchen space', 'No detailed amenities listed', 'Only one bathroom', 'Basic finishes']
INFO:root:Sat Dec  7 12:18:49 2024
INFO:root:2129681680 (81.0) - Benefits: ['In-unit washer and dryer', 'Gut renovated apartment', 'Luxury marble bathroom', 'Walnut hardwood floors', 'Fios available'] | Drawbacks: ['High rent for one bedroom', 'Broker exclusive listing', 'Potential street noise', 'No outdoor space', 'Limited school choices']
INFO:root:Sat Dec  7 12:19:00 2024
INFO:root:2116983298 (75.0) - Benefits: ['Two spacious bedrooms', 'Dishwasher and microwave', 'Sun-drenched living area', 'High school ranked 10', 'Close to amenities'] | Drawbacks: ['Broker exclusive listing', 'Price for two bedrooms', 'Older finishes', 'Potential for street noise', 'Limited kitchen space']
INFO:root:Sat Dec  7 12:19:11 2024
INFO:root:439311299 (78.0) - Benefits: ['Affordable price for UES', 'Renovated apartment', 'Large and sunny space', 'Stainless steel appliances', 'Good closet space'] | Drawbacks: ['Broker exclusive listing', 'No pets allowed', 'Limited amenities detailed', 'Only one bathroom', 'Noise potential from street']
INFO:root:Sat Dec  7 12:19:24 2024
INFO:root:2075309157 (79.0) - Benefits: ['Total gut renovation', 'Luxury features throughout', 'Large bedrooms with ample space', 'Stainless steel appliances', 'High ceilings and hardwood floors'] | Drawbacks: ['High price for two bedrooms', 'Broker exclusive listing', 'Limited school rankings', 'No pets allowed', 'Requires quick application']
INFO:root:Sat Dec  7 12:19:48 2024
INFO:root:2125096521 (81.0) - Benefits: ['Prime location near Central Park', 'Brand new kitchen with stainless steel', 'Ample storage with three closets', 'Natural light in queen-sized bedroom', 'Virtual doorman for security'] | Drawbacks: ['High rent for one bedroom', 'Broker exclusive listing', 'Limited school choices', 'Potential street noise', 'New kitchen layout unconfirmed']
INFO:root:Sat Dec  7 12:19:59 2024
INFO:root:2126696964 (76.0) - Benefits: ['Gut renovated one bedroom', 'Stylish walnut hardwood floors', 'Granite countertops and stainless steel appliances', 'Ample natural light', 'Good school rankings nearby'] | Drawbacks: ['Broker exclusive listing', 'Higher price for one bedroom', 'Limited outdoor space', 'No detailed amenities listed', 'Potential street noise']
INFO:root:Sat Dec  7 12:20:16 2024
INFO:root:2111593777 (78.0) - Benefits: ['Private backyard space', 'Renovated one bedroom', 'High ceilings and hardwood floors', 'Queen-sized bedroom', 'Good school rankings nearby'] | Drawbacks: ['Broker exclusive listing', 'Limited amenities mentioned', 'High school ranking is low', 'No photos of kitchen or bathroom', 'Potential street noise']
INFO:root:Sat Dec  7 12:20:39 2024
INFO:root:2121200808 (76.5) - Benefits: ['Spacious layout for 2 bedrooms', 'Renovated kitchen with dishwasher', 'Good natural light and views', 'Walk-in closet in back bedroom', 'Located near subway and parks'] | Drawbacks: ['High rent for 2 bedrooms', 'No dogs allowed', 'Lower high school ranking', 'Broker exclusive listing', 'Limited outdoor space']
INFO:root:Sat Dec  7 12:21:00 2024
INFO:root:2132000563 (75.0) - Benefits: ['Affordable rent for Manhattan', 'High ceilings and hardwood floors', 'Stainless steel kitchen appliances', 'Marble bathroom', 'Laundry access in basement'] | Drawbacks: ['Broker exclusive listing', 'High school ranking is low', 'Limited outdoor space', 'No detailed amenities listed', 'Potential noise from street']
INFO:root:Sat Dec  7 12:21:17 2024
INFO:root:72540397 (76.0) - Benefits: ['Spacious one-bedroom apartment', 'Charming fireplace in living area', 'Sun-drenched with good views', 'Laundry room available', 'Bicycle storage offered'] | Drawbacks: ['Broker exclusive listing', 'High school ranking is low', 'Only one bathroom', 'Limited outdoor space', 'No detailed building amenities listed']
INFO:root:Sat Dec  7 12:21:34 2024
INFO:root:2067622343 (73.5) - Benefits: ['Affordable rent for location', 'Heat and hot water included', 'High ceilings and hardwood floors', 'Good-sized living room', "Close to Trader Joe's and Target"] | Drawbacks: ['Broker exclusive listing', 'Only one bathroom', 'Low middle school ranking', 'Limited outdoor space', 'Cats allowed but no dogs']
INFO:root:Sat Dec  7 12:21:56 2024
INFO:root:2128692183 (78.0) - Benefits: ['Spacious living room', 'Exposed brick details', 'Stainless steel appliances', 'Dishwasher included', 'High school ranked 10'] | Drawbacks: ['High rent for one bedroom', 'Broker exclusive listing', 'Limited photos available', 'No outdoor space', 'Potential noise from street']
INFO:root:Sat Dec  7 12:22:16 2024
INFO:root:2101628669 (75.0) - Benefits: ['Heating and hot water included', 'High ceilings with hardwood floors', 'Convenient Upper East Side location', 'Close to subway and parks', 'Good school rankings nearby'] | Drawbacks: ['Broker exclusive listing', 'Only one bathroom', 'Limited outdoor views', 'Basic kitchen amenities', 'Potential noise from street']
INFO:root:Sat Dec  7 12:22:39 2024
INFO:root:2111350894 (74.0) - Benefits: ['Recently renovated kitchen', 'Heating and gas included', 'Elevator building', 'Good light in king-size bedroom', 'Close to public transportation'] | Drawbacks: ['Broker fee required', 'High price for two bedrooms', 'Lower high school ranking', 'Limited outdoor space', 'Only one bathroom']
INFO:root:Sat Dec  7 12:23:05 2024
INFO:root:2093803363 (74.0) - Benefits: ['Queen-sized bedroom with closet', 'Home office potential', 'Excellent eastern sunlight', 'Pet friendly', 'Laundry in basement'] | Drawbacks: ['Broker fee applies', 'No elevator (walk-up)', 'Low high school ranking', 'Limited outdoor views', 'Only one bathroom']
INFO:root:Sat Dec  7 12:23:23 2024
INFO:root:2130048234 (74.5) - Benefits: ['Bright and spacious 2-bedroom', 'High ceilings for open feel', 'Gorgeous hardwood floors', 'Convenient location near public transport', 'Ample natural light from multiple windows'] | Drawbacks: ['Broker exclusive listing', 'Basic kitchen amenities', 'Lower high school ranking', 'Limited modern finishes', 'No mention of laundry facilities']
INFO:root:Sat Dec  7 12:23:45 2024
INFO:root:2103382078 (76.5) - Benefits: ['Spacious one-bedroom layout', 'Ebony hardwood floors', 'High ceilings with oversized windows', 'Decorative fireplace', 'No broker fee'] | Drawbacks: ['High rent for one bedroom', 'Lower high school ranking', 'Limited kitchen appliances', 'Basic bathroom amenities', 'Potential noise from street']
INFO:root:Sat Dec  7 12:24:06 2024
INFO:root:2118685933 (75.0) - Benefits: ['Super bright with large windows', 'King size bedroom', 'Charming exposed brick', 'Dishwasher in kitchen', 'Close to Tompkins Square Park'] | Drawbacks: ['High rent for one bedroom', 'Walk-up building (no elevator)', 'Lower school ranking', 'Basic bathroom amenities', 'Broker exclusive listing']
INFO:root:Sat Dec  7 12:24:25 2024
INFO:root:2107204311 (76.0) - Benefits: ['Renovated sun-drenched apartment', 'Laundry in building', 'Dishwasher included', 'Great location near nightlife', 'Secure entry with surveillance'] | Drawbacks: ['Broker exclusive listing', 'Lower school rankings', 'Higher price for two bedrooms', 'Only one bathroom', 'Possible street noise']
INFO:root:Sat Dec  7 12:24:50 2024
INFO:root:2073265020 (78.0) - Benefits: ['Charming prewar apartment', 'Two bedrooms with ample closet space', 'Separate kitchen with modern appliances', 'Hardwood floors throughout', 'Good school rankings nearby'] | Drawbacks: ['Broker exclusive listing', 'Price for two bedrooms', 'Limited outdoor space', 'Potential street noise', 'Decorative fireplace may not function']
INFO:root:Sat Dec  7 12:25:10 2024
INFO:root:2111603227 (77.0) - Benefits: ['Spacious layout with large bedrooms', 'Tons of natural sunlight', 'Modern and clean bathroom', 'Separate kitchen with dishwasher', 'Good school rankings nearby'] | Drawbacks: ['Broker exclusive listing', 'Higher rent for two bedrooms', 'Limited outdoor views', 'Basic kitchen finishes', 'Potential noise from street']
INFO:root:Sat Dec  7 12:25:33 2024
INFO:root:2103872242 (74.0) - Benefits: ['Affordable rent for location', 'Spacious living room with large windows', 'Dishwasher included', "Close to NYU and Trader Joe's", 'Live-in super for convenience'] | Drawbacks: ['Broker exclusive listing', 'Low high school ranking', 'Limited outdoor space', 'Potential noise from nearby nightlife', 'Basic finishes in some areas']
INFO:root:Sat Dec  7 12:25:56 2024
INFO:root:2127517692 (77.5) - Benefits: ['Fully renovated and spacious', 'Extra high ceilings', 'Quiet bedroom facing back', 'Stainless steel kitchen appliances', 'Close to park and transportation'] | Drawbacks: ['Broker exclusive listing', 'High school ranking is low', 'Limited outdoor space', 'Only one bathroom', 'Laundry not in unit']
INFO:root:Sat Dec  7 12:26:17 2024
INFO:root:2131131099 (75.0) - Benefits: ['Fully furnished and equipped', 'In-apartment laundry', 'Flexible lease options', 'Pets allowed under restrictions', 'Good proximity to East Village nightlife'] | Drawbacks: ['High rent for one bedroom', 'Broker exclusive listing', 'Walk-up building', 'Low primary school ranking', 'Limited outdoor views']
INFO:root:Sat Dec  7 12:26:45 2024
INFO:root:FAILED: RetryError[<Future at 0x7fecfff40950 state=finished raised BadRequestError>]
INFO:root:Sat Dec  7 12:26:46 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/textagent.py", line 96, in generate_to_spec
    completion = await client.beta.chat.completions.parse(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/resources/beta/chat/completions.py", line 427, in parse
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1839, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1533, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1634, in _request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': 'Too many images in request: 251, maximum allowed: 250.', 'type': 'invalid_request_error', 'param': None, 'code': None}}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py", line 46, in _select
    ranked = await ranker.rank_all(listings)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 79, in rank_all
    rnk = await self.rank(listing)
          ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/ranker.py", line 59, in rank
    score = await self.generate_to_spec(ListingScore, noteworthy=False)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 153, in iter
    result = await action(retry_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/_utils.py", line 99, in inner
    return call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/tenacity/__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x7fecfff40950 state=finished raised BadRequestError>]

DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
INFO:livekit.agents:starting worker
INFO:livekit.agents:registered worker
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2352%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 12:33:49 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 12:33:49 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2352%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 12:33:53 2024
INFO:root:Finished Interviewing #virtual-query
INFO:root:Sat Dec  7 12:33:53 2024
INFO:root:Finished Interviewing #virtual-query
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2352%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 12:33:53 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 12:33:53 2024
INFO:root:assistant: None
INFO:root:Sat Dec  7 12:33:53 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 12:33:53 2024
INFO:root:assistant: None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2352%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
INFO:root:Sat Dec  7 12:33:54 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 12:33:54 2024
INFO:root:FAILED: Ran out of input
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:root:Sat Dec  7 12:33:54 2024
INFO:root:Query is begin generated.
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 12:33:54 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py", line 36, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 12:33:55 2024
INFO:root:assistant: {"minimum_rent":2500,"maximum_rent":5000,"minimum_bathrooms":1,"minimum_bedrooms":2,"neighborhoods":[{"name":"Chelsea"},{"name":"The Financial District"}]}
INFO:root:Sat Dec  7 12:33:56 2024
INFO:root:system: This query is too tight - it restricts the set of available apartments too heavily. Try again.
INFO:root:Sat Dec  7 12:33:56 2024
INFO:root:assistant: {"minimum_rent":2000,"maximum_rent":6000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":null}
INFO:root:Sat Dec  7 12:33:56 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 12:33:57 2024
INFO:root:assistant: {"minimum_rent":2200,"maximum_rent":5500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"Greenwich Village"},{"name":"Upper West Side"}]}
INFO:root:Sat Dec  7 12:33:58 2024
INFO:root:Query Generated: 54 apartments found
INFO:root:Sat Dec  7 12:33:59 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 12:33:59 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:02 2024
INFO:root:2070899357 (72.5) - Benefits: ['Garage parking availability', 'Modern kitchen appliances', 'Rooftop terrace with barbecue', 'Fitness center on-site', 'Convenient subway access'] | Drawbacks: ['High monthly rent', 'Limited nearby school rankings', 'Small living space', 'No outdoor green space', 'Broker exclusive fees']
INFO:root:Sat Dec  7 12:34:02 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:05 2024
INFO:root:2125403755 (76.5) - Benefits: ['Luxury finishes and appliances', '24-hour doorman service', 'Rooftop terrace with views', 'Pet-friendly environment', 'Garage parking available'] | Drawbacks: ['High rent price', 'Limited nearby schools quality', 'One bedroom may feel small', 'No specific public transport mentioned', 'Potential noise in city area']
INFO:root:Sat Dec  7 12:34:05 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:07 2024
INFO:root:2112722090 (75.0) - Benefits: ['Modern, newly renovated unit', 'High ceilings, ample closet space', 'In-unit washer/dryer', 'Access to gym and pool', 'City view from apartment'] | Drawbacks: ['High rent price', 'Limited bedroom space', 'No balcony or outdoor space', 'Laundry only on ground floor', 'Potential noise from neighbors']
INFO:root:Sat Dec  7 12:34:07 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:10 2024
INFO:root:2102306536 (72.5) - Benefits: ['Queen sized bedrooms', 'In-unit washer/dryer', 'High beam ceilings', 'Close to Central Park', 'Nearby grocery stores'] | Drawbacks: ['High monthly rent', 'Only one bathroom', 'Limited public school ranking', 'Virtual staging only', 'No private outdoor space']
INFO:root:Sat Dec  7 12:34:10 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:12 2024
INFO:root:2114399838 (76.0) - Benefits: ['High ceilings', 'Massive living area', 'Park view', 'Updated appliances', '24-hour doorman'] | Drawbacks: ['High price', 'Limited pet policy', 'No outdoor space', 'One bedroom only', 'Laundry room may be busy']
INFO:root:Sat Dec  7 12:34:12 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:15 2024
INFO:root:109168447 (75.0) - Benefits: ['Prime West Village location', 'Spacious loft-style layout', 'Abundant natural light', 'Gourmet kitchen', 'Walk-in closet'] | Drawbacks: ['High rental price', 'No pets allowed', 'Limited public school ranking', 'No parking described', 'Potential noise from outside']
INFO:root:Sat Dec  7 12:34:15 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:18 2024
INFO:root:2120347822 (72.5) - Benefits: ['Two spacious bedrooms', 'Modern kitchen appliances', 'Ample natural light', 'No broker fee', 'Convenient location'] | Drawbacks: ['High monthly rent', 'Limited nearby schools ranking', 'Potential noise from street', 'No outdoor space', 'Small bathroom area']
INFO:root:Sat Dec  7 12:34:18 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:20 2024
INFO:root:2073099816 (75.0) - Benefits: ['Beautiful city skyline view', 'Modern kitchen amenities', 'High ceilings and natural light', 'Gym and recreational facilities', 'Patio for relaxation'] | Drawbacks: ['High rent price for area', 'Only one bedroom available', 'Limited nearby school options', 'Possibly noisy downtown location', 'Small bedroom space']
INFO:root:Sat Dec  7 12:34:20 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:23 2024
INFO:root:2096925094 (72.5) - Benefits: ['Luxury furnished apartment', 'Great city view', 'Roof deck access', 'Modern kitchen features', 'Flexible rental terms'] | Drawbacks: ['High rent for location', 'Nearby schools have low rankings', 'Limited privacy in bedrooms', 'Walkup building may inconvenience', 'Possibility of noise from street']
INFO:root:Sat Dec  7 12:34:23 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:25 2024
INFO:root:2056899574 (67.5) - Benefits: ['Spacious three bedrooms', 'City view', 'No broker fee', 'Close to parks', 'Accessibility features'] | Drawbacks: ['No pets allowed', 'High rent', 'Lower school rankings', 'Common kitchen area', 'Limited lease term options']
INFO:root:Sat Dec  7 12:34:25 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:28 2024
INFO:root:2119705441 (78.5) - Benefits: ['Stunning skyline views', 'No broker fee', 'Modern kitchen finishes', 'Concierge and amenities', 'Outdoor lounge spaces'] | Drawbacks: ['High monthly rent', 'Only one bedroom and bath', 'Limited nearby schools ranking', 'Potential noise from city', 'Parking not guaranteed']
INFO:root:Sat Dec  7 12:34:28 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:31 2024
INFO:root:2115061353 (75.0) - Benefits: ['Spacious one bedroom layout', 'Great natural light', 'City views', 'Modern kitchen appliances', 'Amenities like fitness center'] | Drawbacks: ['High rent price', 'Limited nearby schools', 'Small bedroom space', 'No outdoor space', 'Potential noise from city']
INFO:root:Sat Dec  7 12:34:31 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:34 2024
INFO:root:2126665622 (72.5) - Benefits: ['Pet friendly policy', 'Spectacular city views', 'Concierge and valet services', 'Green living initiatives', 'Complimentary rooftop lounge'] | Drawbacks: ['High rental price', 'Limited nearby school options', 'One-bedroom size may feel small', 'Additional fees may apply', 'Potential noise from city']
INFO:root:Sat Dec  7 12:34:34 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:37 2024
INFO:root:2110688395 (74.5) - Benefits: ['Stunning city views', 'Rooftop terrace', 'Pet-friendly space', 'Modern kitchen appliances', 'On-site management'] | Drawbacks: ['High monthly rent', 'One bedroom only', 'Limited nearby schools', 'Potential noise from city', 'Public transit close by']
INFO:root:Sat Dec  7 12:34:37 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:40 2024
INFO:root:2125096521 (78.5) - Benefits: ['City view from apartment', 'Half a block from Central Park', 'Newly renovated kitchen', 'Spacious living area', 'Excellent nearby schools'] | Drawbacks: ['High monthly rent', 'Possibly crowded neighborhood', 'Limited outdoor space', 'No building amenities listed', 'Kitchen layout uncertainty']
INFO:root:Sat Dec  7 12:34:40 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:44 2024
INFO:root:2078321518 (73.0) - Benefits: ['Well-maintained building', 'High ceilings and natural light', 'Modern kitchen amenities', '24-hour doorman', 'Rooftop terrace with views'] | Drawbacks: ['High rent price', 'Only one bedroom', 'Limited public school ratings', 'No parking available', 'Potential noise from city']
INFO:root:Sat Dec  7 12:34:44 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:47 2024
INFO:root:2108582687 (75.5) - Benefits: ['True 2 Bedroom apartments', 'Laundry in every building', '24/7 Concierge service', 'Nearby transportation options', 'Fitness center availability'] | Drawbacks: ['No dogs allowed', 'Price may be high', 'Lower ranked high school', 'Busy city neighborhood', 'Potential noise issues']
INFO:root:Sat Dec  7 12:34:47 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:51 2024
INFO:root:2067966242 (67.5) - Benefits: ['Garden view', 'Spacious living room', 'Private balcony', 'Charming interior features', 'Good storage space'] | Drawbacks: ['High rent price', 'Broker fee applies', 'Limited nearby high schools', 'Potential noise from outside', 'Stairs may be inconvenient']
INFO:root:Sat Dec  7 12:34:51 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:53 2024
INFO:root:2100070890 (75.0) - Benefits: ['Great city view', 'Spacious living room', 'Proximity to Central Park', 'Elevator building convenience', 'Ample closet space'] | Drawbacks: ['High rent price', 'Limited bedroom space', 'Older kitchen appliances', 'No in-unit laundry', 'Potential noise from street']
INFO:root:Sat Dec  7 12:34:53 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:55 2024
INFO:root:2062397614 (70.0) - Benefits: ['Close to Central Park', 'No broker fee', 'Heat included in rent', 'City view', 'Pet-friendly'] | Drawbacks: ['4th floor walk-up', 'Smaller bedrooms', 'Higher price for space', 'No parking available', 'Limited nearby schools']
INFO:root:Sat Dec  7 12:34:55 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:34:57 2024
INFO:root:2104233721 (78.5) - Benefits: ['No broker fee', 'Renovated apartment', 'Pet friendly', 'Modern kitchen appliances', 'Prime West Village location'] | Drawbacks: ['High rent price', 'Limited school options', 'Small bedrooms', 'Older building', 'Flexibility concerns for layout']
INFO:root:Sat Dec  7 12:34:58 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:01 2024
INFO:root:2078001039 (75.0) - Benefits: ['Modern design and amenities', 'Pet friendly', 'Great community events', 'Convenient shuttle service', 'Valet parking available'] | Drawbacks: ['High monthly rent', 'Limited school options', 'Small bedroom size', 'No dedicated outdoor space', 'Busy urban location']
INFO:root:Sat Dec  7 12:35:01 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:04 2024
INFO:root:2115004220 (70.0) - Benefits: ['City view available', 'New kitchen appliances', 'Hardwood floors', 'High school ranking 10', 'No broker fee'] | Drawbacks: ['High price for size', 'Small living space', 'Elevator building may be noisy', 'Location may be congested', 'Limited natural light']
INFO:root:Sat Dec  7 12:35:04 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:07 2024
INFO:root:2084377010 (72.5) - Benefits: ['Quiet unit', 'New renovations', 'Convenient location', 'Fitness center access', 'Responsive management'] | Drawbacks: ["Broker's fee", 'No dogs allowed', 'Pricey for size', 'Tenant occupied', 'Lack of private outdoor space']
INFO:root:Sat Dec  7 12:35:07 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:09 2024
INFO:root:2103407621 (75.0) - Benefits: ['Spacious one-bedroom layout', 'Bright with natural light', 'Convenient laundry room', 'Close to public transportation', 'No broker fee included'] | Drawbacks: ['High monthly rent', 'Limited parking options', 'No outdoor space', 'May have noisy neighbors', 'Small kitchen area']
INFO:root:Sat Dec  7 12:35:09 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:14 2024
INFO:root:2122585928 (75.0) - Benefits: ['Luxury amenities', 'City view', 'Outdoor garden', 'Gym and pool access', 'Modern appliances'] | Drawbacks: ['High price', 'Small bedroom', 'Limited nearby shopping', 'No parking included', 'No balcony']
INFO:root:Sat Dec  7 12:35:14 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:17 2024
INFO:root:244694115 (75.0) - Benefits: ['Great location near parks', 'Ample closet space', 'Roofdeck with views', 'Modern kitchen amenities', 'Full-service building features'] | Drawbacks: ['High monthly rent', 'Limited community school ratings', 'Small bedroom space', 'No outdoor space directly', 'Broker exclusive listing']
INFO:root:Sat Dec  7 12:35:17 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:20 2024
INFO:root:2121593120 (78.5) - Benefits: ['No fee apartment', 'City view', 'Modern appliances', 'Gym included', 'Rooftop access'] | Drawbacks: ['High rent price', 'Limited bedroom space', 'Public school rankings', 'No outdoor space', 'Possible noise from city']
INFO:root:Sat Dec  7 12:35:20 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:23 2024
INFO:root:2120368568 (75.0) - Benefits: ['Modern kitchen with stainless appliances', 'Large windows for natural light', 'Close to Central Park', 'Access to public transportation', 'Charming Upper West Side location'] | Drawbacks: ['High rental price', 'Limited space for a single', 'View may be a building', 'Potential noise from street', 'No outdoor space']
INFO:root:Sat Dec  7 12:35:23 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:26 2024
INFO:root:2101570318 (75.0) - Benefits: ['Private balcony with city view', 'Modern kitchen with stainless appliances', 'Access to fitness center', 'Rooftop deck for relaxation', "Children's playroom available"] | Drawbacks: ['High monthly rent', 'Single bedroom may feel small', 'Limited public school options', 'Broker exclusive listing', 'Urban noise and congestion']
INFO:root:Sat Dec  7 12:35:26 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:29 2024
INFO:root:2116566308 (75.5) - Benefits: ['Great city views', 'Spacious living area', 'Modern kitchen appliances', 'Pet-friendly', 'Fitness center included'] | Drawbacks: ['High price for one bedroom', 'No outdoor space', 'Limited nearby schools', 'No laundry in unit', 'Broker exclusive listing']
INFO:root:Sat Dec  7 12:35:29 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:32 2024
INFO:root:2076957295 (75.0) - Benefits: ['Bright, sunny spaces', 'In-unit washer and dryer', 'Close to Central Park', 'Pet-friendly environment', 'Modern stainless steel appliances'] | Drawbacks: ['Only one bathroom for three bedrooms', 'Mid-range school rankings', 'Price may be high for size', 'Potential noise from city', 'Limited storage options']
INFO:root:Sat Dec  7 12:35:32 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:34 2024
INFO:root:31517306 (72.0) - Benefits: ['Bright and cheerful interior', 'Natural light from three exposures', 'Laundry room on the floor', 'Proximity to Central Park', 'Broker exclusive and no fee'] | Drawbacks: ['No pets allowed', 'High rent for one bedroom', 'Limited living space', 'No outdoor space', 'Possible noise from surroundings']
INFO:root:Sat Dec  7 12:35:34 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:37 2024
INFO:root:2110152020 (72.5) - Benefits: ['Spacious and flexible layout', 'Modern kitchen with appliances', 'Close to public transport', 'Tree-lined quiet street', 'Pet-friendly with restrictions'] | Drawbacks: ['Price is on the higher end', 'Only one bathroom for two bedrooms', 'Low ranking for local schools', 'Ground level might lack privacy', 'Non-smoking policy might deter smokers']
INFO:root:Sat Dec  7 12:35:37 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:39 2024
INFO:root:2103382078 (70.0) - Benefits: ['No broker fee', 'City view', 'High ceilings', 'Sunlit spaces', 'Decorative fireplace'] | Drawbacks: ['High rent for size', 'Limited nearby schools', 'Only one bedroom', 'Kitchen could be updated', 'Lack of outdoor space']
INFO:root:Sat Dec  7 12:35:39 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:42 2024
INFO:root:2083913507 (72.5) - Benefits: ['Spacious living room', 'High ceilings', 'Renovated kitchen appliances', 'Desirable Greenwich Village neighborhood', 'Nearby schools with good rankings'] | Drawbacks: ['High rent price', 'One bedroom may feel small', 'Limited school options for older grades', 'Broker exclusive may incur extra fees', 'Street noise in urban area']
INFO:root:Sat Dec  7 12:35:42 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:45 2024
INFO:root:2109229883 (76.5) - Benefits: ['Private outdoor space', 'Facing Central Park', 'In-unit laundry facility', '24/7 attended lobby', 'Fitness center available'] | Drawbacks: ['Price is quite high', 'Only one bedroom', 'Limited nearby schools', 'No parking mentioned', 'Not pet-friendly stated']
INFO:root:Sat Dec  7 12:35:45 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:48 2024
INFO:root:2114501637 (78.5) - Benefits: ['Spacious layout', 'Natural light', 'Great NYC location', 'Modern finishes', 'Proximity to attractions'] | Drawbacks: ['High rent', 'Small bedroom', 'Limited storage', 'Pubic school rankings vary', 'No balcony']
INFO:root:Sat Dec  7 12:35:48 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:51 2024
INFO:root:2088132489 (65.0) - Benefits: ['Garage parking available', 'Fitness center on-site', 'Rooftop deck access', 'No fee for leasing', 'Pet restrictions may suit'] | Drawbacks: ['High monthly rent', 'No pets allowed', 'Limited school quality', 'Street noise in Manhattan', 'No balcony in unit']
INFO:root:Sat Dec  7 12:35:51 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:55 2024
INFO:root:2114041156 (75.0) - Benefits: ['No-fee luxury rentals', 'Stunning views of Central Park', 'Modern kitchen with granite countertops', 'Expansive outdoor lounges', '24/7 front desk service'] | Drawbacks: ['High monthly rent', 'Limited privacy in shared spaces', 'Potential noise from nearby schools', 'Smaller living space', 'High demand area']
INFO:root:Sat Dec  7 12:35:55 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:35:57 2024
INFO:root:2126023203 (77.5) - Benefits: ['Newly renovated apartment', 'Generous storage space', 'Bright and spacious living area', 'Prime subway access', "No broker's fee"] | Drawbacks: ['High monthly rent', 'Limited nearby middle school ranking', 'Photos of similar unit', 'No parking specified', 'Evacuation zone']
INFO:root:Sat Dec  7 12:35:57 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:00 2024
INFO:root:2073554370 (76.0) - Benefits: ['Luxury doorman service', 'Steps from Central Park', 'Washer and dryer in unit', 'Pet-friendly building', 'Modern kitchen appliances'] | Drawbacks: ['High rental price', 'Limited school rankings', 'Only one bedroom', 'No outdoor space', 'Busy area with traffic']
INFO:root:Sat Dec  7 12:36:00 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:04 2024
INFO:root:353290041 (72.0) - Benefits: ['Newly renovated interior', 'High ceilings', 'Stainless steel appliances', 'City view', 'Live-in super'] | Drawbacks: ['Single bathroom for four bedrooms', 'Higher price point', 'Limited school rankings', 'Potential noise from city', 'No outdoor space']
INFO:root:Sat Dec  7 12:36:04 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:06 2024
INFO:root:2120107220 (75.0) - Benefits: ['Large living area', 'Two bathrooms', 'Renovated kitchen', 'Available within two weeks', 'Good nearby schools'] | Drawbacks: ['Street facing noise', 'Broker exclusive listing', 'Higher price point', 'Limited outdoor space', 'Possible lack of natural light']
INFO:root:Sat Dec  7 12:36:06 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:09 2024
INFO:root:2117732756 (68.0) - Benefits: ['Newly renovated kitchen', 'Private balcony', 'Washer/Dryer in unit', 'Dishwasher in unit', 'Oversized living space'] | Drawbacks: ['High monthly rent', 'Limited nearby schools', 'No parking mentioned', '2nd floor without elevator', ' broker exclusive listing']
INFO:root:Sat Dec  7 12:36:09 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:16 2024
INFO:root:2114400399 (75.0) - Benefits: ['Luxurious amenities and services', 'Access to fitness facilities', 'Great location near parks', 'Modern, spacious apartment design', 'Valet parking available'] | Drawbacks: ['High rent price', 'Limited storage space', 'Potential noise from neighbors', 'Fewer nearby schools', 'No outdoor space directly attached']
INFO:root:Sat Dec  7 12:36:16 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:19 2024
INFO:root:2126880660 (72.5) - Benefits: ['Bright with good lighting', 'City view from windows', 'Spacious bedroom with closet', 'Separate kitchen area', 'Close to schools and amenities'] | Drawbacks: ['High rental price', 'Limited storage options', 'Potential noise from neighbors', 'Older building structure', 'No mention of parking availability']
INFO:root:Sat Dec  7 12:36:19 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:22 2024
INFO:root:2116975714 (75.0) - Benefits: ['City view', 'Modern kitchen appliances', 'Fitness center access', 'Rooftop lounge', 'No amenity fees'] | Drawbacks: ['High rent price', 'Small bedroom', 'Limited nearby schools', 'No pets allowed', 'Traffic noise potential']
INFO:root:Sat Dec  7 12:36:22 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:25 2024
INFO:root:2129871528 (72.0) - Benefits: ['Natural light throughout apartment', 'Spacious corner layout', 'Close to parks', 'Nearby transportation options', 'High ceilings with hardwood floors'] | Drawbacks: ['High rental price', 'Limited number of bedrooms', 'No outdoor space', 'Potential noise from street', 'Schools have average rankings']
INFO:root:Sat Dec  7 12:36:25 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:28 2024
INFO:root:2110258842 (75.0) - Benefits: ['Stunning Central Park views', 'Modern kitchen with granite countertops', 'Luxury amenities include pool', 'Pet-friendly', 'No broker fee'] | Drawbacks: ['High monthly rental price', 'Limited nearby schools ranking', 'One-bedroom may feel small', 'Potentially noisy urban location', 'Parking may be limited']
INFO:root:Sat Dec  7 12:36:28 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:31 2024
INFO:root:2127595299 (70.0) - Benefits: ['Prime Upper East Side location', 'Modern kitchen with appliances', 'Nearby highly ranked schools', 'Ample space for living', 'Rooftop access for relaxation'] | Drawbacks: ['High monthly rent', 'Limited natural light', 'Small bedroom size', 'Minimal outdoor space', 'Parking may be challenging']
INFO:root:Sat Dec  7 12:36:31 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:33 2024
INFO:root:124011772 (68.5) - Benefits: ['Near Central Park', 'Spacious rooms', 'New kitchen renovation', 'Quiet building', 'Elevator and laundry'] | Drawbacks: ['High rent price', 'School ratings are low', 'Limited bedroom size', 'Broker fee likely', 'No balcony or outdoor space']
INFO:root:Sat Dec  7 12:36:33 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:36 2024
INFO:root:2074484112 (76.5) - Benefits: ['Gut renovated true 2 bedrooms', 'Stainless steel appliances', 'Heat and hot water included', 'Good for shares', 'Cat-friendly'] | Drawbacks: ['No elevator, three flights', 'Broker fee applies', 'No dogs allowed', 'Only personal guarantors accepted', 'Nearby school ratings are average']
INFO:root:Sat Dec  7 12:36:36 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 12:36:43 2024
INFO:root:2118239702 (65.0) - Benefits: ['No fee apartment', 'Live-in super available', 'Modern kitchen features', 'Ample closet space', 'Access to roofdeck'] | Drawbacks: ['High monthly rent', 'Basic interior finishes', 'Limited space for furniture', 'Bathroom may feel cramped', 'No laundry in unit']
INFO:root:Sat Dec  7 12:36:44 2024
INFO:root:COMPLETED: FindBot chose 2119705441, 2125096521, 2104233721, 2121593120, 2114501637
INFO:livekit.agents:received job request
DEBUG:urllib3.util.retry:Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
DEBUG:google.auth.transport.requests:Making request: POST https://oauth2.googleapis.com/token
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): oauth2.googleapis.com:443
DEBUG:urllib3.connectionpool:https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): www.googleapis.com:443
DEBUG:urllib3.connectionpool:https://www.googleapis.com:443 "GET /drive/v3/files?q=mimeType%3D%22application%2Fvnd.google-apps.spreadsheet%22+and+name+%3D+%22FindBot+Spreadsheet%22&pageSize=1000&supportsAllDrives=True&includeItemsFromAllDrives=True&fields=kind%2CnextPageToken%2Cfiles%28id%2Cname%2CcreatedTime%2CmodifiedTime%29 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): sheets.googleapis.com:443
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc?includeGridData=false HTTP/11" 200 None
DEBUG:httpx:load_ssl_context verify=True cert=None trust_env=True http2=False
DEBUG:httpx:load_verify_locations cafile='/home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/certifi/cacert.pem'
INFO:googlemaps.client:API queries_quota: 60
DEBUG:asyncio:Using selector: EpollSelector
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit.agents:initializing process
INFO:livekit.agents:process initialized
INFO:livekit:livekit_ffi::server:133:livekit_ffi::server - initializing ffi server v0.12.3
INFO:livekit:livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.3
INFO:livekit:livekit_api::signal_client::signal_stream:96:livekit_api::signal_client::signal_stream - connecting to wss://findbot-ai20e53x.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=0.18.1&access_token=...
DEBUG:livekit:rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 146 valid and 0 invalid certs
DEBUG:livekit:tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 146/146 native root certificates (ignored 0)
DEBUG:livekit:rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("findbot-ai20e53x.livekit.cloud")
DEBUG:livekit:rustls::client::hs:132:rustls::client::hs - Not resuming any session
DEBUG:livekit:rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
DEBUG:livekit:rustls::client::tls13:142:rustls::client::tls13 - Not resuming
DEBUG:livekit:rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
DEBUG:livekit:rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
DEBUG:livekit:tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2%3AA?majorDimension=COLUMNS HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2354%27%21A1:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 15:34:48 2024
INFO:root:Interviewing 
INFO:root:Sat Dec  7 15:34:48 2024
INFO:root:Interviewing 
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2354%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:http_session(): creating a new httpclient ctx
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:79> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 4.69 seconds
WARNING:livekit.agents:Running <Task pending name='job_entrypoint' coro=<FindBot.on_job() running at /home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py:79> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_start_job.<locals>._run_job_task.<locals>.<lambda>() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:153, _start_job.<locals>._run_job_task.<locals>.log_exception() at /home/rvs314/Code/FindBot/lk-FindBot-agent/venv/lib/python3.12/site-packages/livekit/agents/ipc/job_main.py:155]> took too long: 4.69 seconds
DEBUG:livekit.plugins.openai.realtime:sync chat context
INFO:livekit.agents:Session initialized with chat context
INFO:livekit.agents:Session initialized with chat context
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.plugins.openai.realtime:conversation item created
DEBUG:livekit.agents:committed agent speech
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "GET /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27 HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "PUT /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Summary%27%21C2?valueInputOption=USER_ENTERED HTTP/11" 200 None
INFO:root:Sat Dec  7 15:35:00 2024
INFO:root:Finished Interviewing #emergent-shell
INFO:root:Sat Dec  7 15:35:00 2024
INFO:root:Finished Interviewing #emergent-shell
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2354%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
INFO:root:Sat Dec  7 15:35:01 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 15:35:01 2024
INFO:root:assistant:  Hi there, I'm FindBot, and I'm here to help you find your ideal rental apartment in Manhattan. What's your name?
INFO:root:Sat Dec  7 15:35:01 2024
INFO:root:assistant: Begin the conversation with the user. Introduce yourself, ask for their name, then move on to the interview.
INFO:root:Sat Dec  7 15:35:01 2024
INFO:root:assistant:  Hi there, I'm FindBot, and I'm here to help you find your ideal rental apartment in Manhattan. What's your name?
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc:batchUpdate HTTP/11" 200 None
DEBUG:urllib3.connectionpool:https://sheets.googleapis.com:443 "POST /v4/spreadsheets/1ItH--zJkk42b_lTNuNdTxBzuzS4PE5qEeTtdo_IKcxc/values/%27Interview%20%2354%27%21A2:append?valueInputOption=RAW HTTP/11" 200 None
DEBUG:livekit.agents:shutting down job task
INFO:livekit.agents:job exiting
DEBUG:livekit:tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
DEBUG:livekit.agents:http_session(): closing the httpclient ctx
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
INFO:livekit.agents:registered worker
INFO:root:Sat Dec  7 15:35:02 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to generate a set of constraints over possible apartments. These should help limit the search space of possible apartments to those the user may possibly be interested in. These constraints should be relatively loose: it is better to include apartments the user would be uninterested in than remove ones which they would be interested in.
    
INFO:root:Sat Dec  7 15:35:03 2024
INFO:root:FAILED: Ran out of input
INFO:root:Sat Dec  7 15:35:03 2024
INFO:root:Query is begin generated.
INFO:root:Sat Dec  7 15:35:07 2024
INFO:root:Traceback (most recent call last):
  File "/home/rvs314/Code/FindBot/lk-FindBot-agent/findbot.py", line 36, in _select
    (convo, num) = pickle.load(fifo)
                   ^^^^^^^^^^^^^^^^^
EOFError: Ran out of input

INFO:root:Sat Dec  7 15:35:07 2024
INFO:root:assistant: {"minimum_rent":1500,"maximum_rent":4000,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Upper East Side"},{"name":"Upper West Side"},{"name":"Harlem"},{"name":"Midtown"}]}
INFO:root:Sat Dec  7 15:35:08 2024
INFO:root:system: This query is too loose - it doesn't restrict the set of available apartments enough. Try again.
INFO:root:Sat Dec  7 15:35:09 2024
INFO:root:assistant: {"minimum_rent":2000,"maximum_rent":3500,"minimum_bathrooms":1,"minimum_bedrooms":1,"neighborhoods":[{"name":"Chelsea"},{"name":"Lower East Side"},{"name":"East Village"}]}
INFO:root:Sat Dec  7 15:35:10 2024
INFO:root:Query Generated: 15 apartments found
INFO:root:Sat Dec  7 15:35:12 2024
INFO:root:Started Ranking
INFO:root:Sat Dec  7 15:35:13 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:16 2024
INFO:root:2114589240 (75.0) - Benefits: ['Great location in East Village', 'Cozy, fully furnished apartment', 'In-apartment laundry available', 'Pet friendly with few restrictions', 'No broker fee'] | Drawbacks: ['Higher rent for Manhattan', 'Walk-up building, no elevator', 'Limited nearby school rankings', 'Flexible pricing can vary', 'Potential extra fees for pets']
INFO:root:Sat Dec  7 15:35:16 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:18 2024
INFO:root:2113851994 (74.0) - Benefits: ['Prime East Village location', 'Access to roof deck', 'Stainless steel appliances', 'Hardwood floors', 'No broker fee'] | Drawbacks: ['High rent for one bedroom', 'Occupied until late November', 'Limited natural light', 'Potential noise from street', 'Small kitchen space']
INFO:root:Sat Dec  7 15:35:18 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:21 2024
INFO:root:2094388869 (78.5) - Benefits: ['Private garden space', 'Two full bathrooms', 'Heat and hot water included', 'Laundry in the building', 'Great location'] | Drawbacks: ['Price might be high', 'Limited bedroom size', 'No dishwasher mentioned', 'Terrace may require maintenance', 'Potential noise from courtyard']
INFO:root:Sat Dec  7 15:35:21 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:22 2024
INFO:root:2118755854 (75.0) - Benefits: ['Brand new renovation', 'Prime East Village location', 'Dishwasher included', 'Access to public transport', 'Laundry in building'] | Drawbacks: ['High rent for one bedroom', 'Pre-war building may lack elevators', 'Limited nearby school rankings', 'Potential noise in East Village', 'No fee may indicate broker involvement']
INFO:root:Sat Dec  7 15:35:22 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:24 2024
INFO:root:2075309157 (75.0) - Benefits: ['Recently renovated apartment', 'High ceilings for spacious feel', 'Stainless steel appliances included', 'Bright and airy bedrooms', 'No broker fee'] | Drawbacks: ['Dogs not allowed', 'High rental price', 'Ground floor may lack privacy', 'Limited storage options', 'Nearby schools have average rankings']
INFO:root:Sat Dec  7 15:35:24 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:27 2024
INFO:root:2067622343 (68.5) - Benefits: ['Good city view', 'Heat included', 'Bright and spacious', 'Nearby amenities', 'Cats allowed'] | Drawbacks: ['No dogs allowed', 'Broker exclusive listing', 'Higher rent for one bedroom', 'Limited nearby schools ranking', 'Kitchen area small']
INFO:root:Sat Dec  7 15:35:27 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:30 2024
INFO:root:2054524243 (68.5) - Benefits: ['Affordable for Manhattan', 'Furnished common areas', 'Laundry in home', 'High-speed internet available', 'Nearby parks and restaurants'] | Drawbacks: ['Low-ranking nearby schools', 'Lease terms can be complex', 'Extra cost for Wi-Fi', 'Limited parking options', 'Small bedroom sizes']
INFO:root:Sat Dec  7 15:35:30 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:32 2024
INFO:root:2118685933 (70.0) - Benefits: ["No broker's fee", 'Large window kitchen', 'King size bedroom', 'City and park view', 'Across from park'] | Drawbacks: ['Walk-up building', 'High price for size', 'Limited storage space', 'No laundry in unit', 'Fifth floor access']
INFO:root:Sat Dec  7 15:35:32 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:35 2024
INFO:root:2107204311 (68.0) - Benefits: ['Two bedrooms for space', 'Renovated and modern finishes', 'Laundry in the building', 'Close to public transport', 'Near parks and amenities'] | Drawbacks: ['Price is relatively high', 'Flexed layout might be cramped', 'Limited nearby school rankings', 'Broker fee may apply', 'Available January only']
INFO:root:Sat Dec  7 15:35:35 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:38 2024
INFO:root:2114501637 (75.0) - Benefits: ['Spacious 1-bedroom layout', 'Bright with natural light', 'Modern kitchen with granite', 'Close to Times Square', 'Exposed brick adds character'] | Drawbacks: ['Pricey for one bedroom', 'Limited outdoor space', 'Street noise potential', 'No in-unit laundry', 'Public school rankings mixed']
INFO:root:Sat Dec  7 15:35:38 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:41 2024
INFO:root:2103872242 (75.0) - Benefits: ['Spacious living room', 'Large windows for natural light', 'Hardwood floors', 'Updated kitchen appliances', 'Near restaurants and bars'] | Drawbacks: ['High price for size', 'School rankings are mixed', 'Small bedroom size', 'Limited closet space', 'No laundry in apartment']
INFO:root:Sat Dec  7 15:35:41 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:43 2024
INFO:root:2131131099 (75.0) - Benefits: ['Fully furnished and equipped', 'Flexible lease options available', 'In-unit laundry facilities', 'Pet-friendly with conditions', 'Well-designed and stylish interiors'] | Drawbacks: ['High rent for one bedroom', 'Walk-up building may be inconvenient', 'Limited school options nearby', 'Price may vary based on booking', 'Broker fees apply']
INFO:root:Sat Dec  7 15:35:43 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:45 2024
INFO:root:55500811 (72.5) - Benefits: ['Bright and spacious layout', 'Large windowed kitchen', 'Common roof terrace', 'Nearby trendy cafes', 'Pet-friendly with conditions'] | Drawbacks: ['High rental price', 'Small bedroom size', 'Limited outdoor space', "Broker's exclusive listing", 'Elevator access needed']
INFO:root:Sat Dec  7 15:35:45 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:47 2024
INFO:root:2122153516 (75.0) - Benefits: ['Spacious loft layout', 'Charming pre-war design', 'Close to grocery stores', 'Major subway access', 'No broker fee'] | Drawbacks: ['Price on higher side', 'Limited nearby school ranking', 'No balcony or outdoor space', 'Older building maintenance issues', 'Wings layout may be cramped']
INFO:root:Sat Dec  7 15:35:47 2024
INFO:root:system: 
Your interview has now concluded. Your next task is to rate the following apartment based on the user's preferences. You should give reasoning by listing a set of benefits (things the user would like about the apartment) and a set of drawbacks (things the user would dislike about the apartment). Incorporate both of those pieces of reasoning into a final score, which is a floating point number between zero and one hundred.

INFO:root:Sat Dec  7 15:35:50 2024
INFO:root:2116427488 (78.5) - Benefits: ['Affordable rent for location', 'Close to parks and restaurants', 'Multiple local schools available', 'Furnished common areas provided', 'Flexible lease options available'] | Drawbacks: ['Shared bathroom with multiple roommates', 'Wi-Fi not included in rent', 'Limited parking availability', 'Radiant heating may be inefficient', 'Smaller room sizes']
INFO:root:Sat Dec  7 15:35:51 2024
INFO:root:COMPLETED: FindBot chose 2094388869, 2116427488, 2114589240, 2118755854, 2075309157
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
WARNING:livekit.agents:failed to connect to livekit, retrying in 0s: worker connection closed unexpectedly
WARNING:livekit.agents:failed to connect to livekit, retrying in 2s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Timeout while contacting DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 2s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Timeout while contacting DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 4s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Timeout while contacting DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 4s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Timeout while contacting DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 6s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Timeout while contacting DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 6s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Timeout while contacting DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 8s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Timeout while contacting DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Timeout while contacting DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Timeout while contacting DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 8s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Timeout while contacting DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Timeout while contacting DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Timeout while contacting DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
WARNING:livekit.agents:failed to connect to livekit, retrying in 10s: Cannot connect to host findbot-ai20e53x.livekit.cloud:443 ssl:default [Could not contact DNS servers]
